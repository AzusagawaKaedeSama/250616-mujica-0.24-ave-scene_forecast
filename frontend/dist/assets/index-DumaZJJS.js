var yy=Object.defineProperty;var vy=(n,e,t)=>e in n?yy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $=(n,e,t)=>vy(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function Rm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tc={exports:{}},Xs={},Ec={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function wy(){if(Ph)return xe;Ph=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function S(D,H,ae){this.props=D,this.context=H,this.refs=k,this.updater=ae||b}S.prototype.isReactComponent={},S.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function M(){}M.prototype=S.prototype;function I(D,H,ae){this.props=D,this.context=H,this.refs=k,this.updater=ae||b}var T=I.prototype=new M;T.constructor=I,_(T,S.prototype),T.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function F(D,H,ae){var ce,ge={},pe=null,Me=null;if(H!=null)for(ce in H.ref!==void 0&&(Me=H.ref),H.key!==void 0&&(pe=""+H.key),H)E.call(H,ce)&&!B.hasOwnProperty(ce)&&(ge[ce]=H[ce]);var je=arguments.length-2;if(je===1)ge.children=ae;else if(1<je){for(var Ie=Array(je),jt=0;jt<je;jt++)Ie[jt]=arguments[jt+2];ge.children=Ie}if(D&&D.defaultProps)for(ce in je=D.defaultProps,je)ge[ce]===void 0&&(ge[ce]=je[ce]);return{$$typeof:n,type:D,key:pe,ref:Me,props:ge,_owner:P.current}}function W(D,H){return{$$typeof:n,type:D.type,key:H,ref:D.ref,props:D.props,_owner:D._owner}}function te(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function J(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return H[ae]})}var Z=/\/+/g;function he(D,H){return typeof D=="object"&&D!==null&&D.key!=null?J(""+D.key):H.toString(36)}function Ee(D,H,ae,ce,ge){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(pe){case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case n:case e:Me=!0}}if(Me)return Me=D,ge=ge(Me),D=ce===""?"."+he(Me,0):ce,A(ge)?(ae="",D!=null&&(ae=D.replace(Z,"$&/")+"/"),Ee(ge,H,ae,"",function(jt){return jt})):ge!=null&&(te(ge)&&(ge=W(ge,ae+(!ge.key||Me&&Me.key===ge.key?"":(""+ge.key).replace(Z,"$&/")+"/")+D)),H.push(ge)),1;if(Me=0,ce=ce===""?".":ce+":",A(D))for(var je=0;je<D.length;je++){pe=D[je];var Ie=ce+he(pe,je);Me+=Ee(pe,H,ae,Ie,ge)}else if(Ie=v(D),typeof Ie=="function")for(D=Ie.call(D),je=0;!(pe=D.next()).done;)pe=pe.value,Ie=ce+he(pe,je++),Me+=Ee(pe,H,ae,Ie,ge);else if(pe==="object")throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Me}function we(D,H,ae){if(D==null)return D;var ce=[],ge=0;return Ee(D,ce,"","",function(pe){return H.call(ae,pe,ge++)}),ce}function ye(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var me={current:null},K={transition:null},q={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:K,ReactCurrentOwner:P};function Q(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:we,forEach:function(D,H,ae){we(D,function(){H.apply(this,arguments)},ae)},count:function(D){var H=0;return we(D,function(){H++}),H},toArray:function(D){return we(D,function(H){return H})||[]},only:function(D){if(!te(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},xe.Component=S,xe.Fragment=t,xe.Profiler=i,xe.PureComponent=I,xe.StrictMode=r,xe.Suspense=f,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,xe.act=Q,xe.cloneElement=function(D,H,ae){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ce=_({},D.props),ge=D.key,pe=D.ref,Me=D._owner;if(H!=null){if(H.ref!==void 0&&(pe=H.ref,Me=P.current),H.key!==void 0&&(ge=""+H.key),D.type&&D.type.defaultProps)var je=D.type.defaultProps;for(Ie in H)E.call(H,Ie)&&!B.hasOwnProperty(Ie)&&(ce[Ie]=H[Ie]===void 0&&je!==void 0?je[Ie]:H[Ie])}var Ie=arguments.length-2;if(Ie===1)ce.children=ae;else if(1<Ie){je=Array(Ie);for(var jt=0;jt<Ie;jt++)je[jt]=arguments[jt+2];ce.children=je}return{$$typeof:n,type:D.type,key:ge,ref:pe,props:ce,_owner:Me}},xe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},xe.createElement=F,xe.createFactory=function(D){var H=F.bind(null,D);return H.type=D,H},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:u,render:D}},xe.isValidElement=te,xe.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:ye}},xe.memo=function(D,H){return{$$typeof:p,type:D,compare:H===void 0?null:H}},xe.startTransition=function(D){var H=K.transition;K.transition={};try{D()}finally{K.transition=H}},xe.unstable_act=Q,xe.useCallback=function(D,H){return me.current.useCallback(D,H)},xe.useContext=function(D){return me.current.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D){return me.current.useDeferredValue(D)},xe.useEffect=function(D,H){return me.current.useEffect(D,H)},xe.useId=function(){return me.current.useId()},xe.useImperativeHandle=function(D,H,ae){return me.current.useImperativeHandle(D,H,ae)},xe.useInsertionEffect=function(D,H){return me.current.useInsertionEffect(D,H)},xe.useLayoutEffect=function(D,H){return me.current.useLayoutEffect(D,H)},xe.useMemo=function(D,H){return me.current.useMemo(D,H)},xe.useReducer=function(D,H,ae){return me.current.useReducer(D,H,ae)},xe.useRef=function(D){return me.current.useRef(D)},xe.useState=function(D){return me.current.useState(D)},xe.useSyncExternalStore=function(D,H,ae){return me.current.useSyncExternalStore(D,H,ae)},xe.useTransition=function(){return me.current.useTransition()},xe.version="18.3.1",xe}var Bh;function xu(){return Bh||(Bh=1,Ec.exports=wy()),Ec.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function by(){if(Hh)return Xs;Hh=1;var n=xu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,p){var g,y={},v=null,b=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:u,key:v,ref:b,props:y,_owner:i.current}}return Xs.Fragment=t,Xs.jsx=c,Xs.jsxs=c,Xs}var Wh;function _y(){return Wh||(Wh=1,Tc.exports=by()),Tc.exports}var h=_y(),G=xu();const yu=Rm(G);var Bo={},Mc={exports:{}},bt={},Oc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function ky(){return $h||($h=1,function(n){function e(K,q){var Q=K.length;K.push(q);e:for(;0<Q;){var D=Q-1>>>1,H=K[D];if(0<i(H,q))K[D]=q,K[Q]=H,Q=D;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var q=K[0],Q=K.pop();if(Q!==q){K[0]=Q;e:for(var D=0,H=K.length,ae=H>>>1;D<ae;){var ce=2*(D+1)-1,ge=K[ce],pe=ce+1,Me=K[pe];if(0>i(ge,Q))pe<H&&0>i(Me,ge)?(K[D]=Me,K[pe]=Q,D=pe):(K[D]=ge,K[ce]=Q,D=ce);else if(pe<H&&0>i(Me,Q))K[D]=Me,K[pe]=Q,D=pe;else break e}}return q}function i(K,q){var Q=K.sortIndex-q.sortIndex;return Q!==0?Q:K.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var f=[],p=[],g=1,y=null,v=3,b=!1,_=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(K){for(var q=t(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=K)r(p),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(p)}}function A(K){if(k=!1,T(K),!_)if(t(f)!==null)_=!0,ye(E);else{var q=t(p);q!==null&&me(A,q.startTime-K)}}function E(K,q){_=!1,k&&(k=!1,M(F),F=-1),b=!0;var Q=v;try{for(T(q),y=t(f);y!==null&&(!(y.expirationTime>q)||K&&!J());){var D=y.callback;if(typeof D=="function"){y.callback=null,v=y.priorityLevel;var H=D(y.expirationTime<=q);q=n.unstable_now(),typeof H=="function"?y.callback=H:y===t(f)&&r(f),T(q)}else r(f);y=t(f)}if(y!==null)var ae=!0;else{var ce=t(p);ce!==null&&me(A,ce.startTime-q),ae=!1}return ae}finally{y=null,v=Q,b=!1}}var P=!1,B=null,F=-1,W=5,te=-1;function J(){return!(n.unstable_now()-te<W)}function Z(){if(B!==null){var K=n.unstable_now();te=K;var q=!0;try{q=B(!0,K)}finally{q?he():(P=!1,B=null)}}else P=!1}var he;if(typeof I=="function")he=function(){I(Z)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,we=Ee.port2;Ee.port1.onmessage=Z,he=function(){we.postMessage(null)}}else he=function(){S(Z,0)};function ye(K){B=K,P||(P=!0,he())}function me(K,q){F=S(function(){K(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,ye(E))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(K){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var Q=v;v=q;try{return K()}finally{v=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=v;v=K;try{return q()}finally{v=Q}},n.unstable_scheduleCallback=function(K,q,Q){var D=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?D+Q:D):Q=D,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,K={id:g++,callback:q,priorityLevel:K,startTime:Q,expirationTime:H,sortIndex:-1},Q>D?(K.sortIndex=Q,e(p,K),t(f)===null&&K===t(p)&&(k?(M(F),F=-1):k=!0,me(A,Q-D))):(K.sortIndex=H,e(f,K),_||b||(_=!0,ye(E))),K},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(K){var q=v;return function(){var Q=v;v=q;try{return K.apply(this,arguments)}finally{v=Q}}}}(Fc)),Fc}var Uh;function Sy(){return Uh||(Uh=1,Oc.exports=ky()),Oc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function Ny(){if(Vh)return bt;Vh=1;var n=xu(),e=Sy();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return f.call(y,s)?!0:f.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function b(s,o,a,d){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,o,a,d){if(o===null||typeof o>"u"||b(s,o,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,a,d,m,x,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];S[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function I(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(M,I);S[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(M,I);S[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(M,I);S[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,o,a,d){var m=S.hasOwnProperty(o)?S[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(_(o,a,m,d)&&(a=null),d||m===null?v(o)&&(a===null?s.removeAttribute(o):s.setAttribute(o,""+a)):m.mustUseProperty?s[m.propertyName]=a===null?m.type===3?!1:"":a:(o=m.attributeName,d=m.attributeNamespace,a===null?s.removeAttribute(o):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,d?s.setAttributeNS(d,o,a):s.setAttribute(o,a))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),J=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),K=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,D;function H(s){if(D===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);D=o&&o[1]||""}return`
`+D+s}var ae=!1;function ce(s,o){if(!s||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(L){var d=L}Reflect.construct(s,[],o)}else{try{o.call()}catch(L){d=L}s.call(o.prototype)}else{try{throw Error()}catch(L){d=L}s()}}catch(L){if(L&&d&&typeof L.stack=="string"){for(var m=L.stack.split(`
`),x=d.stack.split(`
`),w=m.length-1,N=x.length-1;1<=w&&0<=N&&m[w]!==x[N];)N--;for(;1<=w&&0<=N;w--,N--)if(m[w]!==x[N]){if(w!==1||N!==1)do if(w--,N--,0>N||m[w]!==x[N]){var j=`
`+m[w].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=w&&0<=N);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(s=s?s.displayName||s.name:"")?H(s):""}function ge(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case B:return"Fragment";case P:return"Portal";case W:return"Profiler";case F:return"StrictMode";case he:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case J:return(s.displayName||"Context")+".Consumer";case te:return(s._context.displayName||"Context")+".Provider";case Z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case we:return o=s.displayName||null,o!==null?o:pe(s.type)||"Memo";case ye:o=s._payload,s=s._init;try{return pe(s(o))}catch{}}return null}function Me(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jt(s){var o=Ie(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,x=a.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(w){d=""+w,x.call(this,w)}}),Object.defineProperty(s,o,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ti(s){s._valueTracker||(s._valueTracker=jt(s))}function Uu(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var a=o.getValue(),d="";return s&&(d=Ie(s)?s.checked?"true":"false":s.value),s=d,s!==a?(o.setValue(s),!0):!1}function Ei(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ll(s,o){var a=o.checked;return Q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??s._wrapperState.initialChecked})}function Vu(s,o){var a=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;a=je(o.value!=null?o.value:a),s._wrapperState={initialChecked:d,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Yu(s,o){o=o.checked,o!=null&&T(s,"checked",o,!1)}function Il(s,o){Yu(s,o);var a=je(o.value),d=o.type;if(a!=null)d==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+a):s.value!==""+a&&(s.value=""+a);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?zl(s,o.type,a):o.hasOwnProperty("defaultValue")&&zl(s,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function qu(s,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,a||o===s.value||(s.value=o),s.defaultValue=o}a=s.name,a!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,a!==""&&(s.name=a)}function zl(s,o,a){(o!=="number"||Ei(s.ownerDocument)!==s)&&(a==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+a&&(s.defaultValue=""+a))}var us=Array.isArray;function jr(s,o,a,d){if(s=s.options,o){o={};for(var m=0;m<a.length;m++)o["$"+a[m]]=!0;for(a=0;a<s.length;a++)m=o.hasOwnProperty("$"+s[a].value),s[a].selected!==m&&(s[a].selected=m),m&&d&&(s[a].defaultSelected=!0)}else{for(a=""+je(a),o=null,m=0;m<s.length;m++){if(s[m].value===a){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Pl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Qu(s,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(t(92));if(us(a)){if(1<a.length)throw Error(t(93));a=a[0]}o=a}o==null&&(o=""),a=o}s._wrapperState={initialValue:je(a)}}function Xu(s,o){var a=je(o.value),d=je(o.defaultValue);a!=null&&(a=""+a,a!==s.value&&(s.value=a),o.defaultValue==null&&s.defaultValue!==a&&(s.defaultValue=a)),d!=null&&(s.defaultValue=""+d)}function Ku(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Gu(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Gu(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Mi,Ju=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,a,d,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Mi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ds(s,o){if(o){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=o;return}}s.textContent=o}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_0=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(s){_0.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),fs[o]=fs[s]})});function Zu(s,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||fs.hasOwnProperty(s)&&fs[s]?(""+o).trim():o+"px"}function ed(s,o){s=s.style;for(var a in o)if(o.hasOwnProperty(a)){var d=a.indexOf("--")===0,m=Zu(a,o[a],d);a==="float"&&(a="cssFloat"),d?s.setProperty(a,m):s[a]=m}}var k0=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(s,o){if(o){if(k0[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Wl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Ul(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Vl=null,Dr=null,Cr=null;function td(s){if(s=Rs(s)){if(typeof Vl!="function")throw Error(t(280));var o=s.stateNode;o&&(o=eo(o),Vl(s.stateNode,s.type,o))}}function nd(s){Dr?Cr?Cr.push(s):Cr=[s]:Dr=s}function rd(){if(Dr){var s=Dr,o=Cr;if(Cr=Dr=null,td(s),o)for(s=0;s<o.length;s++)td(o[s])}}function sd(s,o){return s(o)}function id(){}var Yl=!1;function od(s,o,a){if(Yl)return s(o,a);Yl=!0;try{return sd(s,o,a)}finally{Yl=!1,(Dr!==null||Cr!==null)&&(id(),rd())}}function hs(s,o){var a=s.stateNode;if(a===null)return null;var d=eo(a);if(d===null)return null;a=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(t(231,o,typeof a));return a}var ql=!1;if(u)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){ql=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{ql=!1}function S0(s,o,a,d,m,x,w,N,j){var L=Array.prototype.slice.call(arguments,3);try{o.apply(a,L)}catch(V){this.onError(V)}}var ms=!1,Oi=null,Fi=!1,Ql=null,N0={onError:function(s){ms=!0,Oi=s}};function j0(s,o,a,d,m,x,w,N,j){ms=!1,Oi=null,S0.apply(N0,arguments)}function D0(s,o,a,d,m,x,w,N,j){if(j0.apply(this,arguments),ms){if(ms){var L=Oi;ms=!1,Oi=null}else throw Error(t(198));Fi||(Fi=!0,Ql=L)}}function Gn(s){var o=s,a=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(a=o.return),s=o.return;while(s)}return o.tag===3?a:null}function ld(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ad(s){if(Gn(s)!==s)throw Error(t(188))}function C0(s){var o=s.alternate;if(!o){if(o=Gn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var a=s,d=o;;){var m=a.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){a=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===a)return ad(m),s;if(x===d)return ad(m),o;x=x.sibling}throw Error(t(188))}if(a.return!==d.return)a=m,d=x;else{for(var w=!1,N=m.child;N;){if(N===a){w=!0,a=m,d=x;break}if(N===d){w=!0,d=m,a=x;break}N=N.sibling}if(!w){for(N=x.child;N;){if(N===a){w=!0,a=x,d=m;break}if(N===d){w=!0,d=x,a=m;break}N=N.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?s:o}function cd(s){return s=C0(s),s!==null?ud(s):null}function ud(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ud(s);if(o!==null)return o;s=s.sibling}return null}var dd=e.unstable_scheduleCallback,fd=e.unstable_cancelCallback,T0=e.unstable_shouldYield,E0=e.unstable_requestPaint,Ve=e.unstable_now,M0=e.unstable_getCurrentPriorityLevel,Xl=e.unstable_ImmediatePriority,hd=e.unstable_UserBlockingPriority,Ri=e.unstable_NormalPriority,O0=e.unstable_LowPriority,pd=e.unstable_IdlePriority,Ai=null,Gt=null;function F0(s){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ai,s,void 0,(s.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:L0,R0=Math.log,A0=Math.LN2;function L0(s){return s>>>=0,s===0?32:31-(R0(s)/A0|0)|0}var Li=64,Ii=4194304;function gs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zi(s,o){var a=s.pendingLanes;if(a===0)return 0;var d=0,m=s.suspendedLanes,x=s.pingedLanes,w=a&268435455;if(w!==0){var N=w&~m;N!==0?d=gs(N):(x&=w,x!==0&&(d=gs(x)))}else w=a&~m,w!==0?d=gs(w):x!==0&&(d=gs(x));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,x=o&-o,m>=x||m===16&&(x&4194240)!==0))return o;if((d&4)!==0&&(d|=a&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)a=31-Ht(o),m=1<<a,d|=s[a],o&=~m;return d}function I0(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z0(s,o){for(var a=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,x=s.pendingLanes;0<x;){var w=31-Ht(x),N=1<<w,j=m[w];j===-1?((N&a)===0||(N&d)!==0)&&(m[w]=I0(N,o)):j<=o&&(s.expiredLanes|=N),x&=~N}}function Kl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function md(){var s=Li;return Li<<=1,(Li&4194240)===0&&(Li=64),s}function Gl(s){for(var o=[],a=0;31>a;a++)o.push(s);return o}function xs(s,o,a){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Ht(o),s[o]=a}function P0(s,o){var a=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<a;){var m=31-Ht(a),x=1<<m;o[m]=0,d[m]=-1,s[m]=-1,a&=~x}}function Jl(s,o){var a=s.entangledLanes|=o;for(s=s.entanglements;a;){var d=31-Ht(a),m=1<<d;m&o|s[d]&o&&(s[d]|=o),a&=~m}}var De=0;function gd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var xd,Zl,yd,vd,wd,ea=!1,Pi=[],Nn=null,jn=null,Dn=null,ys=new Map,vs=new Map,Cn=[],B0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(s,o){switch(s){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ys.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(o.pointerId)}}function ws(s,o,a,d,m,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:a,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},o!==null&&(o=Rs(o),o!==null&&Zl(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function H0(s,o,a,d,m){switch(o){case"focusin":return Nn=ws(Nn,s,o,a,d,m),!0;case"dragenter":return jn=ws(jn,s,o,a,d,m),!0;case"mouseover":return Dn=ws(Dn,s,o,a,d,m),!0;case"pointerover":var x=m.pointerId;return ys.set(x,ws(ys.get(x)||null,s,o,a,d,m)),!0;case"gotpointercapture":return x=m.pointerId,vs.set(x,ws(vs.get(x)||null,s,o,a,d,m)),!0}return!1}function _d(s){var o=Jn(s.target);if(o!==null){var a=Gn(o);if(a!==null){if(o=a.tag,o===13){if(o=ld(a),o!==null){s.blockedOn=o,wd(s.priority,function(){yd(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var a=na(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(a===null){a=s.nativeEvent;var d=new a.constructor(a.type,a);$l=d,a.target.dispatchEvent(d),$l=null}else return o=Rs(a),o!==null&&Zl(o),s.blockedOn=a,!1;o.shift()}return!0}function kd(s,o,a){Bi(s)&&a.delete(o)}function W0(){ea=!1,Nn!==null&&Bi(Nn)&&(Nn=null),jn!==null&&Bi(jn)&&(jn=null),Dn!==null&&Bi(Dn)&&(Dn=null),ys.forEach(kd),vs.forEach(kd)}function bs(s,o){s.blockedOn===o&&(s.blockedOn=null,ea||(ea=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W0)))}function _s(s){function o(m){return bs(m,s)}if(0<Pi.length){bs(Pi[0],s);for(var a=1;a<Pi.length;a++){var d=Pi[a];d.blockedOn===s&&(d.blockedOn=null)}}for(Nn!==null&&bs(Nn,s),jn!==null&&bs(jn,s),Dn!==null&&bs(Dn,s),ys.forEach(o),vs.forEach(o),a=0;a<Cn.length;a++)d=Cn[a],d.blockedOn===s&&(d.blockedOn=null);for(;0<Cn.length&&(a=Cn[0],a.blockedOn===null);)_d(a),a.blockedOn===null&&Cn.shift()}var Tr=A.ReactCurrentBatchConfig,Hi=!0;function $0(s,o,a,d){var m=De,x=Tr.transition;Tr.transition=null;try{De=1,ta(s,o,a,d)}finally{De=m,Tr.transition=x}}function U0(s,o,a,d){var m=De,x=Tr.transition;Tr.transition=null;try{De=4,ta(s,o,a,d)}finally{De=m,Tr.transition=x}}function ta(s,o,a,d){if(Hi){var m=na(s,o,a,d);if(m===null)va(s,o,d,Wi,a),bd(s,d);else if(H0(m,s,o,a,d))d.stopPropagation();else if(bd(s,d),o&4&&-1<B0.indexOf(s)){for(;m!==null;){var x=Rs(m);if(x!==null&&xd(x),x=na(s,o,a,d),x===null&&va(s,o,d,Wi,a),x===m)break;m=x}m!==null&&d.stopPropagation()}else va(s,o,d,null,a)}}var Wi=null;function na(s,o,a,d){if(Wi=null,s=Ul(d),s=Jn(s),s!==null)if(o=Gn(s),o===null)s=null;else if(a=o.tag,a===13){if(s=ld(o),s!==null)return s;s=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Wi=s,null}function Sd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M0()){case Xl:return 1;case hd:return 4;case Ri:case O0:return 16;case pd:return 536870912;default:return 16}default:return 16}}var Tn=null,ra=null,$i=null;function Nd(){if($i)return $i;var s,o=ra,a=o.length,d,m="value"in Tn?Tn.value:Tn.textContent,x=m.length;for(s=0;s<a&&o[s]===m[s];s++);var w=a-s;for(d=1;d<=w&&o[a-d]===m[x-d];d++);return $i=m.slice(s,1<d?1-d:void 0)}function Ui(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function jd(){return!1}function Dt(s){function o(a,d,m,x,w){this._reactName=a,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(a=s[N],this[N]=a?a(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Vi:jd,this.isPropagationStopped=jd,this}return Q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),o}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Dt(Er),ks=Q({},Er,{view:0,detail:0}),V0=Dt(ks),ia,oa,Ss,Yi=Q({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ss&&(Ss&&s.type==="mousemove"?(ia=s.screenX-Ss.screenX,oa=s.screenY-Ss.screenY):oa=ia=0,Ss=s),ia)},movementY:function(s){return"movementY"in s?s.movementY:oa}}),Dd=Dt(Yi),Y0=Q({},Yi,{dataTransfer:0}),q0=Dt(Y0),Q0=Q({},ks,{relatedTarget:0}),la=Dt(Q0),X0=Q({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),K0=Dt(X0),G0=Q({},Er,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),J0=Dt(G0),Z0=Q({},Er,{data:0}),Cd=Dt(Z0),ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rx(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=nx[s])?!!o[s]:!1}function aa(){return rx}var sx=Q({},ks,{key:function(s){if(s.key){var o=ex[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ui(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tx[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(s){return s.type==="keypress"?Ui(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ui(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ix=Dt(sx),ox=Q({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=Dt(ox),lx=Q({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),ax=Dt(lx),cx=Q({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),ux=Dt(cx),dx=Q({},Yi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fx=Dt(dx),hx=[9,13,27,32],ca=u&&"CompositionEvent"in window,Ns=null;u&&"documentMode"in document&&(Ns=document.documentMode);var px=u&&"TextEvent"in window&&!Ns,Ed=u&&(!ca||Ns&&8<Ns&&11>=Ns),Md=" ",Od=!1;function Fd(s,o){switch(s){case"keyup":return hx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Mr=!1;function mx(s,o){switch(s){case"compositionend":return Rd(o);case"keypress":return o.which!==32?null:(Od=!0,Md);case"textInput":return s=o.data,s===Md&&Od?null:s;default:return null}}function gx(s,o){if(Mr)return s==="compositionend"||!ca&&Fd(s,o)?(s=Nd(),$i=ra=Tn=null,Mr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ed&&o.locale!=="ko"?null:o.data;default:return null}}var xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!xx[s.type]:o==="textarea"}function Ld(s,o,a,d){nd(d),o=Gi(o,"onChange"),0<o.length&&(a=new sa("onChange","change",null,a,d),s.push({event:a,listeners:o}))}var js=null,Ds=null;function yx(s){ef(s,0)}function qi(s){var o=Lr(s);if(Uu(o))return s}function vx(s,o){if(s==="change")return o}var Id=!1;if(u){var ua;if(u){var da="oninput"in document;if(!da){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),da=typeof zd.oninput=="function"}ua=da}else ua=!1;Id=ua&&(!document.documentMode||9<document.documentMode)}function Pd(){js&&(js.detachEvent("onpropertychange",Bd),Ds=js=null)}function Bd(s){if(s.propertyName==="value"&&qi(Ds)){var o=[];Ld(o,Ds,s,Ul(s)),od(yx,o)}}function wx(s,o,a){s==="focusin"?(Pd(),js=o,Ds=a,js.attachEvent("onpropertychange",Bd)):s==="focusout"&&Pd()}function bx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qi(Ds)}function _x(s,o){if(s==="click")return qi(o)}function kx(s,o){if(s==="input"||s==="change")return qi(o)}function Sx(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Wt=typeof Object.is=="function"?Object.is:Sx;function Cs(s,o){if(Wt(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var a=Object.keys(s),d=Object.keys(o);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var m=a[d];if(!f.call(o,m)||!Wt(s[m],o[m]))return!1}return!0}function Hd(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Wd(s,o){var a=Hd(s);s=0;for(var d;a;){if(a.nodeType===3){if(d=s+a.textContent.length,s<=o&&d>=o)return{node:a,offset:o-s};s=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hd(a)}}function $d(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?$d(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ud(){for(var s=window,o=Ei();o instanceof s.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)s=o.contentWindow;else break;o=Ei(s.document)}return o}function fa(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Nx(s){var o=Ud(),a=s.focusedElem,d=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&$d(a.ownerDocument.documentElement,a)){if(d!==null&&fa(a)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(s,a.value.length);else if(s=(o=a.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=a.textContent.length,x=Math.min(d.start,m);d=d.end===void 0?x:Math.min(d.end,m),!s.extend&&x>d&&(m=d,d=x,x=m),m=Wd(a,x);var w=Wd(a,d);m&&w&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),x>d?(s.addRange(o),s.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),s.addRange(o)))}}for(o=[],s=a;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)s=o[a],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jx=u&&"documentMode"in document&&11>=document.documentMode,Or=null,ha=null,Ts=null,pa=!1;function Vd(s,o,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pa||Or==null||Or!==Ei(d)||(d=Or,"selectionStart"in d&&fa(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ts&&Cs(Ts,d)||(Ts=d,d=Gi(ha,"onSelect"),0<d.length&&(o=new sa("onSelect","select",null,o,a),s.push({event:o,listeners:d}),o.target=Or)))}function Qi(s,o){var a={};return a[s.toLowerCase()]=o.toLowerCase(),a["Webkit"+s]="webkit"+o,a["Moz"+s]="moz"+o,a}var Fr={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},ma={},Yd={};u&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Xi(s){if(ma[s])return ma[s];if(!Fr[s])return s;var o=Fr[s],a;for(a in o)if(o.hasOwnProperty(a)&&a in Yd)return ma[s]=o[a];return s}var qd=Xi("animationend"),Qd=Xi("animationiteration"),Xd=Xi("animationstart"),Kd=Xi("transitionend"),Gd=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(s,o){Gd.set(s,o),l(o,[s])}for(var ga=0;ga<Jd.length;ga++){var xa=Jd[ga],Dx=xa.toLowerCase(),Cx=xa[0].toUpperCase()+xa.slice(1);En(Dx,"on"+Cx)}En(qd,"onAnimationEnd"),En(Qd,"onAnimationIteration"),En(Xd,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Kd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function Zd(s,o,a){var d=s.type||"unknown-event";s.currentTarget=a,D0(d,o,void 0,s),s.currentTarget=null}function ef(s,o){o=(o&4)!==0;for(var a=0;a<s.length;a++){var d=s[a],m=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var w=d.length-1;0<=w;w--){var N=d[w],j=N.instance,L=N.currentTarget;if(N=N.listener,j!==x&&m.isPropagationStopped())break e;Zd(m,N,L),x=j}else for(w=0;w<d.length;w++){if(N=d[w],j=N.instance,L=N.currentTarget,N=N.listener,j!==x&&m.isPropagationStopped())break e;Zd(m,N,L),x=j}}}if(Fi)throw s=Ql,Fi=!1,Ql=null,s}function Re(s,o){var a=o[Na];a===void 0&&(a=o[Na]=new Set);var d=s+"__bubble";a.has(d)||(tf(o,s,2,!1),a.add(d))}function ya(s,o,a){var d=0;o&&(d|=4),tf(a,s,d,o)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function Ms(s){if(!s[Ki]){s[Ki]=!0,r.forEach(function(a){a!=="selectionchange"&&(Tx.has(a)||ya(a,!1,s),ya(a,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ki]||(o[Ki]=!0,ya("selectionchange",!1,o))}}function tf(s,o,a,d){switch(Sd(o)){case 1:var m=$0;break;case 4:m=U0;break;default:m=ta}a=m.bind(null,o,a,s),m=void 0,!ql||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,a,{capture:!0,passive:m}):s.addEventListener(o,a,!0):m!==void 0?s.addEventListener(o,a,{passive:m}):s.addEventListener(o,a,!1)}function va(s,o,a,d,m){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var N=d.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(w===4)for(w=d.return;w!==null;){var j=w.tag;if((j===3||j===4)&&(j=w.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;w=w.return}for(;N!==null;){if(w=Jn(N),w===null)return;if(j=w.tag,j===5||j===6){d=x=w;continue e}N=N.parentNode}}d=d.return}od(function(){var L=x,V=Ul(a),Y=[];e:{var U=Gd.get(s);if(U!==void 0){var ee=sa,re=s;switch(s){case"keypress":if(Ui(a)===0)break e;case"keydown":case"keyup":ee=ix;break;case"focusin":re="focus",ee=la;break;case"focusout":re="blur",ee=la;break;case"beforeblur":case"afterblur":ee=la;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=ax;break;case qd:case Qd:case Xd:ee=K0;break;case Kd:ee=ux;break;case"scroll":ee=V0;break;case"wheel":ee=fx;break;case"copy":case"cut":case"paste":ee=J0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Td}var se=(o&4)!==0,Ye=!se&&s==="scroll",O=se?U!==null?U+"Capture":null:U;se=[];for(var C=L,R;C!==null;){R=C;var X=R.stateNode;if(R.tag===5&&X!==null&&(R=X,O!==null&&(X=hs(C,O),X!=null&&se.push(Os(C,X,R)))),Ye)break;C=C.return}0<se.length&&(U=new ee(U,re,null,a,V),Y.push({event:U,listeners:se}))}}if((o&7)===0){e:{if(U=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",U&&a!==$l&&(re=a.relatedTarget||a.fromElement)&&(Jn(re)||re[dn]))break e;if((ee||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,ee?(re=a.relatedTarget||a.toElement,ee=L,re=re?Jn(re):null,re!==null&&(Ye=Gn(re),re!==Ye||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=L),ee!==re)){if(se=Dd,X="onMouseLeave",O="onMouseEnter",C="mouse",(s==="pointerout"||s==="pointerover")&&(se=Td,X="onPointerLeave",O="onPointerEnter",C="pointer"),Ye=ee==null?U:Lr(ee),R=re==null?U:Lr(re),U=new se(X,C+"leave",ee,a,V),U.target=Ye,U.relatedTarget=R,X=null,Jn(V)===L&&(se=new se(O,C+"enter",re,a,V),se.target=R,se.relatedTarget=Ye,X=se),Ye=X,ee&&re)t:{for(se=ee,O=re,C=0,R=se;R;R=Rr(R))C++;for(R=0,X=O;X;X=Rr(X))R++;for(;0<C-R;)se=Rr(se),C--;for(;0<R-C;)O=Rr(O),R--;for(;C--;){if(se===O||O!==null&&se===O.alternate)break t;se=Rr(se),O=Rr(O)}se=null}else se=null;ee!==null&&nf(Y,U,ee,se,!1),re!==null&&Ye!==null&&nf(Y,Ye,re,se,!0)}}e:{if(U=L?Lr(L):window,ee=U.nodeName&&U.nodeName.toLowerCase(),ee==="select"||ee==="input"&&U.type==="file")var ie=vx;else if(Ad(U))if(Id)ie=kx;else{ie=bx;var oe=wx}else(ee=U.nodeName)&&ee.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ie=_x);if(ie&&(ie=ie(s,L))){Ld(Y,ie,a,V);break e}oe&&oe(s,U,L),s==="focusout"&&(oe=U._wrapperState)&&oe.controlled&&U.type==="number"&&zl(U,"number",U.value)}switch(oe=L?Lr(L):window,s){case"focusin":(Ad(oe)||oe.contentEditable==="true")&&(Or=oe,ha=L,Ts=null);break;case"focusout":Ts=ha=Or=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,Vd(Y,a,V);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":Vd(Y,a,V)}var le;if(ca)e:{switch(s){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Mr?Fd(s,a)&&(ue="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Ed&&a.locale!=="ko"&&(Mr||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Mr&&(le=Nd()):(Tn=V,ra="value"in Tn?Tn.value:Tn.textContent,Mr=!0)),oe=Gi(L,ue),0<oe.length&&(ue=new Cd(ue,s,null,a,V),Y.push({event:ue,listeners:oe}),le?ue.data=le:(le=Rd(a),le!==null&&(ue.data=le)))),(le=px?mx(s,a):gx(s,a))&&(L=Gi(L,"onBeforeInput"),0<L.length&&(V=new Cd("onBeforeInput","beforeinput",null,a,V),Y.push({event:V,listeners:L}),V.data=le))}ef(Y,o)})}function Os(s,o,a){return{instance:s,listener:o,currentTarget:a}}function Gi(s,o){for(var a=o+"Capture",d=[];s!==null;){var m=s,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=hs(s,a),x!=null&&d.unshift(Os(s,x,m)),x=hs(s,o),x!=null&&d.push(Os(s,x,m))),s=s.return}return d}function Rr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function nf(s,o,a,d,m){for(var x=o._reactName,w=[];a!==null&&a!==d;){var N=a,j=N.alternate,L=N.stateNode;if(j!==null&&j===d)break;N.tag===5&&L!==null&&(N=L,m?(j=hs(a,x),j!=null&&w.unshift(Os(a,j,N))):m||(j=hs(a,x),j!=null&&w.push(Os(a,j,N)))),a=a.return}w.length!==0&&s.push({event:o,listeners:w})}var Ex=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function rf(s){return(typeof s=="string"?s:""+s).replace(Ex,`
`).replace(Mx,"")}function Ji(s,o,a){if(o=rf(o),rf(s)!==o&&a)throw Error(t(425))}function Zi(){}var wa=null,ba=null;function _a(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,Ox=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(s){return sf.resolve(null).then(s).catch(Rx)}:ka;function Rx(s){setTimeout(function(){throw s})}function Sa(s,o){var a=o,d=0;do{var m=a.nextSibling;if(s.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(d===0){s.removeChild(m),_s(o);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=m}while(a);_s(o)}function Mn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function of(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return s;o--}else a==="/$"&&o++}s=s.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Ar,Fs="__reactProps$"+Ar,dn="__reactContainer$"+Ar,Na="__reactEvents$"+Ar,Ax="__reactListeners$"+Ar,Lx="__reactHandles$"+Ar;function Jn(s){var o=s[Jt];if(o)return o;for(var a=s.parentNode;a;){if(o=a[dn]||a[Jt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(s=of(s);s!==null;){if(a=s[Jt])return a;s=of(s)}return o}s=a,a=s.parentNode}return null}function Rs(s){return s=s[Jt]||s[dn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Lr(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function eo(s){return s[Fs]||null}var ja=[],Ir=-1;function On(s){return{current:s}}function Ae(s){0>Ir||(s.current=ja[Ir],ja[Ir]=null,Ir--)}function Oe(s,o){Ir++,ja[Ir]=s.current,s.current=o}var Fn={},ot=On(Fn),gt=On(!1),Zn=Fn;function zr(s,o){var a=s.type.contextTypes;if(!a)return Fn;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in a)m[x]=o[x];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function xt(s){return s=s.childContextTypes,s!=null}function to(){Ae(gt),Ae(ot)}function lf(s,o,a){if(ot.current!==Fn)throw Error(t(168));Oe(ot,o),Oe(gt,a)}function af(s,o,a){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,Me(s)||"Unknown",m));return Q({},a,d)}function no(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fn,Zn=ot.current,Oe(ot,s),Oe(gt,gt.current),!0}function cf(s,o,a){var d=s.stateNode;if(!d)throw Error(t(169));a?(s=af(s,o,Zn),d.__reactInternalMemoizedMergedChildContext=s,Ae(gt),Ae(ot),Oe(ot,s)):Ae(gt),Oe(gt,a)}var fn=null,ro=!1,Da=!1;function uf(s){fn===null?fn=[s]:fn.push(s)}function Ix(s){ro=!0,uf(s)}function Rn(){if(!Da&&fn!==null){Da=!0;var s=0,o=De;try{var a=fn;for(De=1;s<a.length;s++){var d=a[s];do d=d(!0);while(d!==null)}fn=null,ro=!1}catch(m){throw fn!==null&&(fn=fn.slice(s+1)),dd(Xl,Rn),m}finally{De=o,Da=!1}}return null}var Pr=[],Br=0,so=null,io=0,Mt=[],Ot=0,er=null,hn=1,pn="";function tr(s,o){Pr[Br++]=io,Pr[Br++]=so,so=s,io=o}function df(s,o,a){Mt[Ot++]=hn,Mt[Ot++]=pn,Mt[Ot++]=er,er=s;var d=hn;s=pn;var m=32-Ht(d)-1;d&=~(1<<m),a+=1;var x=32-Ht(o)+m;if(30<x){var w=m-m%5;x=(d&(1<<w)-1).toString(32),d>>=w,m-=w,hn=1<<32-Ht(o)+m|a<<m|d,pn=x+s}else hn=1<<x|a<<m|d,pn=s}function Ca(s){s.return!==null&&(tr(s,1),df(s,1,0))}function Ta(s){for(;s===so;)so=Pr[--Br],Pr[Br]=null,io=Pr[--Br],Pr[Br]=null;for(;s===er;)er=Mt[--Ot],Mt[Ot]=null,pn=Mt[--Ot],Mt[Ot]=null,hn=Mt[--Ot],Mt[Ot]=null}var Ct=null,Tt=null,ze=!1,$t=null;function ff(s,o){var a=Lt(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=s,o=s.deletions,o===null?(s.deletions=[a],s.flags|=16):o.push(a)}function hf(s,o){switch(s.tag){case 5:var a=s.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Ct=s,Tt=Mn(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Ct=s,Tt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=er!==null?{id:hn,overflow:pn}:null,s.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=Lt(18,null,null,0),a.stateNode=o,a.return=s,s.child=a,Ct=s,Tt=null,!0):!1;default:return!1}}function Ea(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ma(s){if(ze){var o=Tt;if(o){var a=o;if(!hf(s,o)){if(Ea(s))throw Error(t(418));o=Mn(a.nextSibling);var d=Ct;o&&hf(s,o)?ff(d,a):(s.flags=s.flags&-4097|2,ze=!1,Ct=s)}}else{if(Ea(s))throw Error(t(418));s.flags=s.flags&-4097|2,ze=!1,Ct=s}}}function pf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ct=s}function oo(s){if(s!==Ct)return!1;if(!ze)return pf(s),ze=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!_a(s.type,s.memoizedProps)),o&&(o=Tt)){if(Ea(s))throw mf(),Error(t(418));for(;o;)ff(s,o),o=Mn(o.nextSibling)}if(pf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"){if(o===0){Tt=Mn(s.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}s=s.nextSibling}Tt=null}}else Tt=Ct?Mn(s.stateNode.nextSibling):null;return!0}function mf(){for(var s=Tt;s;)s=Mn(s.nextSibling)}function Hr(){Tt=Ct=null,ze=!1}function Oa(s){$t===null?$t=[s]:$t.push(s)}var zx=A.ReactCurrentBatchConfig;function As(s,o,a){if(s=a.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,s));var m=d,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(w){var N=m.refs;w===null?delete N[x]:N[x]=w},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,s))}return s}function lo(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function gf(s){var o=s._init;return o(s._payload)}function xf(s){function o(O,C){if(s){var R=O.deletions;R===null?(O.deletions=[C],O.flags|=16):R.push(C)}}function a(O,C){if(!s)return null;for(;C!==null;)o(O,C),C=C.sibling;return null}function d(O,C){for(O=new Map;C!==null;)C.key!==null?O.set(C.key,C):O.set(C.index,C),C=C.sibling;return O}function m(O,C){return O=Wn(O,C),O.index=0,O.sibling=null,O}function x(O,C,R){return O.index=R,s?(R=O.alternate,R!==null?(R=R.index,R<C?(O.flags|=2,C):R):(O.flags|=2,C)):(O.flags|=1048576,C)}function w(O){return s&&O.alternate===null&&(O.flags|=2),O}function N(O,C,R,X){return C===null||C.tag!==6?(C=kc(R,O.mode,X),C.return=O,C):(C=m(C,R),C.return=O,C)}function j(O,C,R,X){var ie=R.type;return ie===B?V(O,C,R.props.children,X,R.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ye&&gf(ie)===C.type)?(X=m(C,R.props),X.ref=As(O,C,R),X.return=O,X):(X=Oo(R.type,R.key,R.props,null,O.mode,X),X.ref=As(O,C,R),X.return=O,X)}function L(O,C,R,X){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Sc(R,O.mode,X),C.return=O,C):(C=m(C,R.children||[]),C.return=O,C)}function V(O,C,R,X,ie){return C===null||C.tag!==7?(C=cr(R,O.mode,X,ie),C.return=O,C):(C=m(C,R),C.return=O,C)}function Y(O,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return C=kc(""+C,O.mode,R),C.return=O,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return R=Oo(C.type,C.key,C.props,null,O.mode,R),R.ref=As(O,null,C),R.return=O,R;case P:return C=Sc(C,O.mode,R),C.return=O,C;case ye:var X=C._init;return Y(O,X(C._payload),R)}if(us(C)||q(C))return C=cr(C,O.mode,R,null),C.return=O,C;lo(O,C)}return null}function U(O,C,R,X){var ie=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ie!==null?null:N(O,C,""+R,X);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return R.key===ie?j(O,C,R,X):null;case P:return R.key===ie?L(O,C,R,X):null;case ye:return ie=R._init,U(O,C,ie(R._payload),X)}if(us(R)||q(R))return ie!==null?null:V(O,C,R,X,null);lo(O,R)}return null}function ee(O,C,R,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(R)||null,N(C,O,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return O=O.get(X.key===null?R:X.key)||null,j(C,O,X,ie);case P:return O=O.get(X.key===null?R:X.key)||null,L(C,O,X,ie);case ye:var oe=X._init;return ee(O,C,R,oe(X._payload),ie)}if(us(X)||q(X))return O=O.get(R)||null,V(C,O,X,ie,null);lo(C,X)}return null}function re(O,C,R,X){for(var ie=null,oe=null,le=C,ue=C=0,nt=null;le!==null&&ue<R.length;ue++){le.index>ue?(nt=le,le=null):nt=le.sibling;var ke=U(O,le,R[ue],X);if(ke===null){le===null&&(le=nt);break}s&&le&&ke.alternate===null&&o(O,le),C=x(ke,C,ue),oe===null?ie=ke:oe.sibling=ke,oe=ke,le=nt}if(ue===R.length)return a(O,le),ze&&tr(O,ue),ie;if(le===null){for(;ue<R.length;ue++)le=Y(O,R[ue],X),le!==null&&(C=x(le,C,ue),oe===null?ie=le:oe.sibling=le,oe=le);return ze&&tr(O,ue),ie}for(le=d(O,le);ue<R.length;ue++)nt=ee(le,O,ue,R[ue],X),nt!==null&&(s&&nt.alternate!==null&&le.delete(nt.key===null?ue:nt.key),C=x(nt,C,ue),oe===null?ie=nt:oe.sibling=nt,oe=nt);return s&&le.forEach(function($n){return o(O,$n)}),ze&&tr(O,ue),ie}function se(O,C,R,X){var ie=q(R);if(typeof ie!="function")throw Error(t(150));if(R=ie.call(R),R==null)throw Error(t(151));for(var oe=ie=null,le=C,ue=C=0,nt=null,ke=R.next();le!==null&&!ke.done;ue++,ke=R.next()){le.index>ue?(nt=le,le=null):nt=le.sibling;var $n=U(O,le,ke.value,X);if($n===null){le===null&&(le=nt);break}s&&le&&$n.alternate===null&&o(O,le),C=x($n,C,ue),oe===null?ie=$n:oe.sibling=$n,oe=$n,le=nt}if(ke.done)return a(O,le),ze&&tr(O,ue),ie;if(le===null){for(;!ke.done;ue++,ke=R.next())ke=Y(O,ke.value,X),ke!==null&&(C=x(ke,C,ue),oe===null?ie=ke:oe.sibling=ke,oe=ke);return ze&&tr(O,ue),ie}for(le=d(O,le);!ke.done;ue++,ke=R.next())ke=ee(le,O,ue,ke.value,X),ke!==null&&(s&&ke.alternate!==null&&le.delete(ke.key===null?ue:ke.key),C=x(ke,C,ue),oe===null?ie=ke:oe.sibling=ke,oe=ke);return s&&le.forEach(function(xy){return o(O,xy)}),ze&&tr(O,ue),ie}function Ye(O,C,R,X){if(typeof R=="object"&&R!==null&&R.type===B&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case E:e:{for(var ie=R.key,oe=C;oe!==null;){if(oe.key===ie){if(ie=R.type,ie===B){if(oe.tag===7){a(O,oe.sibling),C=m(oe,R.props.children),C.return=O,O=C;break e}}else if(oe.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ye&&gf(ie)===oe.type){a(O,oe.sibling),C=m(oe,R.props),C.ref=As(O,oe,R),C.return=O,O=C;break e}a(O,oe);break}else o(O,oe);oe=oe.sibling}R.type===B?(C=cr(R.props.children,O.mode,X,R.key),C.return=O,O=C):(X=Oo(R.type,R.key,R.props,null,O.mode,X),X.ref=As(O,C,R),X.return=O,O=X)}return w(O);case P:e:{for(oe=R.key;C!==null;){if(C.key===oe)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){a(O,C.sibling),C=m(C,R.children||[]),C.return=O,O=C;break e}else{a(O,C);break}else o(O,C);C=C.sibling}C=Sc(R,O.mode,X),C.return=O,O=C}return w(O);case ye:return oe=R._init,Ye(O,C,oe(R._payload),X)}if(us(R))return re(O,C,R,X);if(q(R))return se(O,C,R,X);lo(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,C!==null&&C.tag===6?(a(O,C.sibling),C=m(C,R),C.return=O,O=C):(a(O,C),C=kc(R,O.mode,X),C.return=O,O=C),w(O)):a(O,C)}return Ye}var Wr=xf(!0),yf=xf(!1),ao=On(null),co=null,$r=null,Fa=null;function Ra(){Fa=$r=co=null}function Aa(s){var o=ao.current;Ae(ao),s._currentValue=o}function La(s,o,a){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===a)break;s=s.return}}function Ur(s,o){co=s,Fa=$r=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(yt=!0),s.firstContext=null)}function Ft(s){var o=s._currentValue;if(Fa!==s)if(s={context:s,memoizedValue:o,next:null},$r===null){if(co===null)throw Error(t(308));$r=s,co.dependencies={lanes:0,firstContext:s}}else $r=$r.next=s;return o}var nr=null;function Ia(s){nr===null?nr=[s]:nr.push(s)}function vf(s,o,a,d){var m=o.interleaved;return m===null?(a.next=a,Ia(o)):(a.next=m.next,m.next=a),o.interleaved=a,mn(s,d)}function mn(s,o){s.lanes|=o;var a=s.alternate;for(a!==null&&(a.lanes|=o),a=s,s=s.return;s!==null;)s.childLanes|=o,a=s.alternate,a!==null&&(a.childLanes|=o),a=s,s=s.return;return a.tag===3?a.stateNode:null}var An=!1;function za(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wf(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function gn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ln(s,o,a){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(_e&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,mn(s,a)}return m=d.interleaved,m===null?(o.next=o,Ia(d)):(o.next=m.next,m.next=o),d.interleaved=o,mn(s,a)}function uo(s,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,a|=d,o.lanes=a,Jl(s,a)}}function bf(s,o){var a=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var m=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};x===null?m=x=w:x=x.next=w,a=a.next}while(a!==null);x===null?m=x=o:x=x.next=o}else m=x=o;a={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,effects:d.effects},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=o:s.next=o,a.lastBaseUpdate=o}function fo(s,o,a,d){var m=s.updateQueue;An=!1;var x=m.firstBaseUpdate,w=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var j=N,L=j.next;j.next=null,w===null?x=L:w.next=L,w=j;var V=s.alternate;V!==null&&(V=V.updateQueue,N=V.lastBaseUpdate,N!==w&&(N===null?V.firstBaseUpdate=L:N.next=L,V.lastBaseUpdate=j))}if(x!==null){var Y=m.baseState;w=0,V=L=j=null,N=x;do{var U=N.lane,ee=N.eventTime;if((d&U)===U){V!==null&&(V=V.next={eventTime:ee,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var re=s,se=N;switch(U=o,ee=a,se.tag){case 1:if(re=se.payload,typeof re=="function"){Y=re.call(ee,Y,U);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,U=typeof re=="function"?re.call(ee,Y,U):re,U==null)break e;Y=Q({},Y,U);break e;case 2:An=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,U=m.effects,U===null?m.effects=[N]:U.push(N))}else ee={eventTime:ee,lane:U,tag:N.tag,payload:N.payload,callback:N.callback,next:null},V===null?(L=V=ee,j=Y):V=V.next=ee,w|=U;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;U=N,N=U.next,U.next=null,m.lastBaseUpdate=U,m.shared.pending=null}}while(!0);if(V===null&&(j=Y),m.baseState=j,m.firstBaseUpdate=L,m.lastBaseUpdate=V,o=m.shared.interleaved,o!==null){m=o;do w|=m.lane,m=m.next;while(m!==o)}else x===null&&(m.shared.lanes=0);ir|=w,s.lanes=w,s.memoizedState=Y}}function _f(s,o,a){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=a,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Ls={},Zt=On(Ls),Is=On(Ls),zs=On(Ls);function rr(s){if(s===Ls)throw Error(t(174));return s}function Pa(s,o){switch(Oe(zs,o),Oe(Is,s),Oe(Zt,Ls),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Bl(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Bl(o,s)}Ae(Zt),Oe(Zt,o)}function Vr(){Ae(Zt),Ae(Is),Ae(zs)}function kf(s){rr(zs.current);var o=rr(Zt.current),a=Bl(o,s.type);o!==a&&(Oe(Is,s),Oe(Zt,a))}function Ba(s){Is.current===s&&(Ae(Zt),Ae(Is))}var Pe=On(0);function ho(s){for(var o=s;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ha=[];function Wa(){for(var s=0;s<Ha.length;s++)Ha[s]._workInProgressVersionPrimary=null;Ha.length=0}var po=A.ReactCurrentDispatcher,$a=A.ReactCurrentBatchConfig,sr=0,Be=null,Ge=null,et=null,mo=!1,Ps=!1,Bs=0,Px=0;function lt(){throw Error(t(321))}function Ua(s,o){if(o===null)return!1;for(var a=0;a<o.length&&a<s.length;a++)if(!Wt(s[a],o[a]))return!1;return!0}function Va(s,o,a,d,m,x){if(sr=x,Be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,po.current=s===null||s.memoizedState===null?$x:Ux,s=a(d,m),Ps){x=0;do{if(Ps=!1,Bs=0,25<=x)throw Error(t(301));x+=1,et=Ge=null,o.updateQueue=null,po.current=Vx,s=a(d,m)}while(Ps)}if(po.current=yo,o=Ge!==null&&Ge.next!==null,sr=0,et=Ge=Be=null,mo=!1,o)throw Error(t(300));return s}function Ya(){var s=Bs!==0;return Bs=0,s}function en(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Be.memoizedState=et=s:et=et.next=s,et}function Rt(){if(Ge===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=Ge.next;var o=et===null?Be.memoizedState:et.next;if(o!==null)et=o,Ge=s;else{if(s===null)throw Error(t(310));Ge=s,s={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},et===null?Be.memoizedState=et=s:et=et.next=s}return et}function Hs(s,o){return typeof o=="function"?o(s):o}function qa(s){var o=Rt(),a=o.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=s;var d=Ge,m=d.baseQueue,x=a.pending;if(x!==null){if(m!==null){var w=m.next;m.next=x.next,x.next=w}d.baseQueue=m=x,a.pending=null}if(m!==null){x=m.next,d=d.baseState;var N=w=null,j=null,L=x;do{var V=L.lane;if((sr&V)===V)j!==null&&(j=j.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),d=L.hasEagerState?L.eagerState:s(d,L.action);else{var Y={lane:V,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};j===null?(N=j=Y,w=d):j=j.next=Y,Be.lanes|=V,ir|=V}L=L.next}while(L!==null&&L!==x);j===null?w=d:j.next=N,Wt(d,o.memoizedState)||(yt=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=j,a.lastRenderedState=d}if(s=a.interleaved,s!==null){m=s;do x=m.lane,Be.lanes|=x,ir|=x,m=m.next;while(m!==s)}else m===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function Qa(s){var o=Rt(),a=o.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=s;var d=a.dispatch,m=a.pending,x=o.memoizedState;if(m!==null){a.pending=null;var w=m=m.next;do x=s(x,w.action),w=w.next;while(w!==m);Wt(x,o.memoizedState)||(yt=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),a.lastRenderedState=x}return[x,d]}function Sf(){}function Nf(s,o){var a=Be,d=Rt(),m=o(),x=!Wt(d.memoizedState,m);if(x&&(d.memoizedState=m,yt=!0),d=d.queue,Xa(Cf.bind(null,a,d,s),[s]),d.getSnapshot!==o||x||et!==null&&et.memoizedState.tag&1){if(a.flags|=2048,Ws(9,Df.bind(null,a,d,m,o),void 0,null),tt===null)throw Error(t(349));(sr&30)!==0||jf(a,o,m)}return m}function jf(s,o,a){s.flags|=16384,s={getSnapshot:o,value:a},o=Be.updateQueue,o===null?(o={lastEffect:null,stores:null},Be.updateQueue=o,o.stores=[s]):(a=o.stores,a===null?o.stores=[s]:a.push(s))}function Df(s,o,a,d){o.value=a,o.getSnapshot=d,Tf(o)&&Ef(s)}function Cf(s,o,a){return a(function(){Tf(o)&&Ef(s)})}function Tf(s){var o=s.getSnapshot;s=s.value;try{var a=o();return!Wt(s,a)}catch{return!0}}function Ef(s){var o=mn(s,1);o!==null&&qt(o,s,1,-1)}function Mf(s){var o=en();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:s},o.queue=s,s=s.dispatch=Wx.bind(null,Be,s),[o.memoizedState,s]}function Ws(s,o,a,d){return s={tag:s,create:o,destroy:a,deps:d,next:null},o=Be.updateQueue,o===null?(o={lastEffect:null,stores:null},Be.updateQueue=o,o.lastEffect=s.next=s):(a=o.lastEffect,a===null?o.lastEffect=s.next=s:(d=a.next,a.next=s,s.next=d,o.lastEffect=s)),s}function Of(){return Rt().memoizedState}function go(s,o,a,d){var m=en();Be.flags|=s,m.memoizedState=Ws(1|o,a,void 0,d===void 0?null:d)}function xo(s,o,a,d){var m=Rt();d=d===void 0?null:d;var x=void 0;if(Ge!==null){var w=Ge.memoizedState;if(x=w.destroy,d!==null&&Ua(d,w.deps)){m.memoizedState=Ws(o,a,x,d);return}}Be.flags|=s,m.memoizedState=Ws(1|o,a,x,d)}function Ff(s,o){return go(8390656,8,s,o)}function Xa(s,o){return xo(2048,8,s,o)}function Rf(s,o){return xo(4,2,s,o)}function Af(s,o){return xo(4,4,s,o)}function Lf(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function If(s,o,a){return a=a!=null?a.concat([s]):null,xo(4,4,Lf.bind(null,o,s),a)}function Ka(){}function zf(s,o){var a=Rt();o=o===void 0?null:o;var d=a.memoizedState;return d!==null&&o!==null&&Ua(o,d[1])?d[0]:(a.memoizedState=[s,o],s)}function Pf(s,o){var a=Rt();o=o===void 0?null:o;var d=a.memoizedState;return d!==null&&o!==null&&Ua(o,d[1])?d[0]:(s=s(),a.memoizedState=[s,o],s)}function Bf(s,o,a){return(sr&21)===0?(s.baseState&&(s.baseState=!1,yt=!0),s.memoizedState=a):(Wt(a,o)||(a=md(),Be.lanes|=a,ir|=a,s.baseState=!0),o)}function Bx(s,o){var a=De;De=a!==0&&4>a?a:4,s(!0);var d=$a.transition;$a.transition={};try{s(!1),o()}finally{De=a,$a.transition=d}}function Hf(){return Rt().memoizedState}function Hx(s,o,a){var d=Bn(s);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Wf(s))$f(o,a);else if(a=vf(s,o,a,d),a!==null){var m=mt();qt(a,s,d,m),Uf(a,o,d)}}function Wx(s,o,a){var d=Bn(s),m={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wf(s))$f(o,m);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var w=o.lastRenderedState,N=x(w,a);if(m.hasEagerState=!0,m.eagerState=N,Wt(N,w)){var j=o.interleaved;j===null?(m.next=m,Ia(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}a=vf(s,o,m,d),a!==null&&(m=mt(),qt(a,s,d,m),Uf(a,o,d))}}function Wf(s){var o=s.alternate;return s===Be||o!==null&&o===Be}function $f(s,o){Ps=mo=!0;var a=s.pending;a===null?o.next=o:(o.next=a.next,a.next=o),s.pending=o}function Uf(s,o,a){if((a&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,a|=d,o.lanes=a,Jl(s,a)}}var yo={readContext:Ft,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},$x={readContext:Ft,useCallback:function(s,o){return en().memoizedState=[s,o===void 0?null:o],s},useContext:Ft,useEffect:Ff,useImperativeHandle:function(s,o,a){return a=a!=null?a.concat([s]):null,go(4194308,4,Lf.bind(null,o,s),a)},useLayoutEffect:function(s,o){return go(4194308,4,s,o)},useInsertionEffect:function(s,o){return go(4,2,s,o)},useMemo:function(s,o){var a=en();return o=o===void 0?null:o,s=s(),a.memoizedState=[s,o],s},useReducer:function(s,o,a){var d=en();return o=a!==void 0?a(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=Hx.bind(null,Be,s),[d.memoizedState,s]},useRef:function(s){var o=en();return s={current:s},o.memoizedState=s},useState:Mf,useDebugValue:Ka,useDeferredValue:function(s){return en().memoizedState=s},useTransition:function(){var s=Mf(!1),o=s[0];return s=Bx.bind(null,s[1]),en().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,a){var d=Be,m=en();if(ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=o(),tt===null)throw Error(t(349));(sr&30)!==0||jf(d,o,a)}m.memoizedState=a;var x={value:a,getSnapshot:o};return m.queue=x,Ff(Cf.bind(null,d,x,s),[s]),d.flags|=2048,Ws(9,Df.bind(null,d,x,a,o),void 0,null),a},useId:function(){var s=en(),o=tt.identifierPrefix;if(ze){var a=pn,d=hn;a=(d&~(1<<32-Ht(d)-1)).toString(32)+a,o=":"+o+"R"+a,a=Bs++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=Px++,o=":"+o+"r"+a.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Ux={readContext:Ft,useCallback:zf,useContext:Ft,useEffect:Xa,useImperativeHandle:If,useInsertionEffect:Rf,useLayoutEffect:Af,useMemo:Pf,useReducer:qa,useRef:Of,useState:function(){return qa(Hs)},useDebugValue:Ka,useDeferredValue:function(s){var o=Rt();return Bf(o,Ge.memoizedState,s)},useTransition:function(){var s=qa(Hs)[0],o=Rt().memoizedState;return[s,o]},useMutableSource:Sf,useSyncExternalStore:Nf,useId:Hf,unstable_isNewReconciler:!1},Vx={readContext:Ft,useCallback:zf,useContext:Ft,useEffect:Xa,useImperativeHandle:If,useInsertionEffect:Rf,useLayoutEffect:Af,useMemo:Pf,useReducer:Qa,useRef:Of,useState:function(){return Qa(Hs)},useDebugValue:Ka,useDeferredValue:function(s){var o=Rt();return Ge===null?o.memoizedState=s:Bf(o,Ge.memoizedState,s)},useTransition:function(){var s=Qa(Hs)[0],o=Rt().memoizedState;return[s,o]},useMutableSource:Sf,useSyncExternalStore:Nf,useId:Hf,unstable_isNewReconciler:!1};function Ut(s,o){if(s&&s.defaultProps){o=Q({},o),s=s.defaultProps;for(var a in s)o[a]===void 0&&(o[a]=s[a]);return o}return o}function Ga(s,o,a,d){o=s.memoizedState,a=a(d,o),a=a==null?o:Q({},o,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var vo={isMounted:function(s){return(s=s._reactInternals)?Gn(s)===s:!1},enqueueSetState:function(s,o,a){s=s._reactInternals;var d=mt(),m=Bn(s),x=gn(d,m);x.payload=o,a!=null&&(x.callback=a),o=Ln(s,x,m),o!==null&&(qt(o,s,m,d),uo(o,s,m))},enqueueReplaceState:function(s,o,a){s=s._reactInternals;var d=mt(),m=Bn(s),x=gn(d,m);x.tag=1,x.payload=o,a!=null&&(x.callback=a),o=Ln(s,x,m),o!==null&&(qt(o,s,m,d),uo(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var a=mt(),d=Bn(s),m=gn(a,d);m.tag=2,o!=null&&(m.callback=o),o=Ln(s,m,d),o!==null&&(qt(o,s,d,a),uo(o,s,d))}};function Vf(s,o,a,d,m,x,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,w):o.prototype&&o.prototype.isPureReactComponent?!Cs(a,d)||!Cs(m,x):!0}function Yf(s,o,a){var d=!1,m=Fn,x=o.contextType;return typeof x=="object"&&x!==null?x=Ft(x):(m=xt(o)?Zn:ot.current,d=o.contextTypes,x=(d=d!=null)?zr(s,m):Fn),o=new o(a,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=vo,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=x),o}function qf(s,o,a,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,d),o.state!==s&&vo.enqueueReplaceState(o,o.state,null)}function Ja(s,o,a,d){var m=s.stateNode;m.props=a,m.state=s.memoizedState,m.refs={},za(s);var x=o.contextType;typeof x=="object"&&x!==null?m.context=Ft(x):(x=xt(o)?Zn:ot.current,m.context=zr(s,x)),m.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Ga(s,o,x,a),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&vo.enqueueReplaceState(m,m.state,null),fo(s,a,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Yr(s,o){try{var a="",d=o;do a+=ge(d),d=d.return;while(d);var m=a}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:m,digest:null}}function Za(s,o,a){return{value:s,source:null,stack:a??null,digest:o??null}}function ec(s,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var Yx=typeof WeakMap=="function"?WeakMap:Map;function Qf(s,o,a){a=gn(-1,a),a.tag=3,a.payload={element:null};var d=o.value;return a.callback=function(){jo||(jo=!0,mc=d),ec(s,o)},a}function Xf(s,o,a){a=gn(-1,a),a.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;a.payload=function(){return d(m)},a.callback=function(){ec(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){ec(s,o),typeof d!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),a}function Kf(s,o,a){var d=s.pingCache;if(d===null){d=s.pingCache=new Yx;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(a)||(m.add(a),s=oy.bind(null,s,o,a),o.then(s,s))}function Gf(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Jf(s,o,a,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=gn(-1,1),o.tag=2,Ln(a,o,1))),a.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var qx=A.ReactCurrentOwner,yt=!1;function pt(s,o,a,d){o.child=s===null?yf(o,null,a,d):Wr(o,s.child,a,d)}function Zf(s,o,a,d,m){a=a.render;var x=o.ref;return Ur(o,m),d=Va(s,o,a,d,x,m),a=Ya(),s!==null&&!yt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,xn(s,o,m)):(ze&&a&&Ca(o),o.flags|=1,pt(s,o,d,m),o.child)}function eh(s,o,a,d,m){if(s===null){var x=a.type;return typeof x=="function"&&!_c(x)&&x.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=x,th(s,o,x,d,m)):(s=Oo(a.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&m)===0){var w=x.memoizedProps;if(a=a.compare,a=a!==null?a:Cs,a(w,d)&&s.ref===o.ref)return xn(s,o,m)}return o.flags|=1,s=Wn(x,d),s.ref=o.ref,s.return=o,o.child=s}function th(s,o,a,d,m){if(s!==null){var x=s.memoizedProps;if(Cs(x,d)&&s.ref===o.ref)if(yt=!1,o.pendingProps=d=x,(s.lanes&m)!==0)(s.flags&131072)!==0&&(yt=!0);else return o.lanes=s.lanes,xn(s,o,m)}return tc(s,o,a,d,m)}function nh(s,o,a){var d=o.pendingProps,m=d.children,x=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Qr,Et),Et|=a;else{if((a&1073741824)===0)return s=x!==null?x.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Oe(Qr,Et),Et|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:a,Oe(Qr,Et),Et|=d}else x!==null?(d=x.baseLanes|a,o.memoizedState=null):d=a,Oe(Qr,Et),Et|=d;return pt(s,o,m,a),o.child}function rh(s,o){var a=o.ref;(s===null&&a!==null||s!==null&&s.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function tc(s,o,a,d,m){var x=xt(a)?Zn:ot.current;return x=zr(o,x),Ur(o,m),a=Va(s,o,a,d,x,m),d=Ya(),s!==null&&!yt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,xn(s,o,m)):(ze&&d&&Ca(o),o.flags|=1,pt(s,o,a,m),o.child)}function sh(s,o,a,d,m){if(xt(a)){var x=!0;no(o)}else x=!1;if(Ur(o,m),o.stateNode===null)bo(s,o),Yf(o,a,d),Ja(o,a,d,m),d=!0;else if(s===null){var w=o.stateNode,N=o.memoizedProps;w.props=N;var j=w.context,L=a.contextType;typeof L=="object"&&L!==null?L=Ft(L):(L=xt(a)?Zn:ot.current,L=zr(o,L));var V=a.getDerivedStateFromProps,Y=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function";Y||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==d||j!==L)&&qf(o,w,d,L),An=!1;var U=o.memoizedState;w.state=U,fo(o,d,w,m),j=o.memoizedState,N!==d||U!==j||gt.current||An?(typeof V=="function"&&(Ga(o,a,V,d),j=o.memoizedState),(N=An||Vf(o,a,N,d,U,j,L))?(Y||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=j),w.props=d,w.state=j,w.context=L,d=N):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,wf(s,o),N=o.memoizedProps,L=o.type===o.elementType?N:Ut(o.type,N),w.props=L,Y=o.pendingProps,U=w.context,j=a.contextType,typeof j=="object"&&j!==null?j=Ft(j):(j=xt(a)?Zn:ot.current,j=zr(o,j));var ee=a.getDerivedStateFromProps;(V=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==Y||U!==j)&&qf(o,w,d,j),An=!1,U=o.memoizedState,w.state=U,fo(o,d,w,m);var re=o.memoizedState;N!==Y||U!==re||gt.current||An?(typeof ee=="function"&&(Ga(o,a,ee,d),re=o.memoizedState),(L=An||Vf(o,a,L,d,U,re,j)||!1)?(V||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,re,j),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,re,j)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===s.memoizedProps&&U===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&U===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=re),w.props=d,w.state=re,w.context=j,d=L):(typeof w.componentDidUpdate!="function"||N===s.memoizedProps&&U===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&U===s.memoizedState||(o.flags|=1024),d=!1)}return nc(s,o,a,d,x,m)}function nc(s,o,a,d,m,x){rh(s,o);var w=(o.flags&128)!==0;if(!d&&!w)return m&&cf(o,a,!1),xn(s,o,x);d=o.stateNode,qx.current=o;var N=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&w?(o.child=Wr(o,s.child,null,x),o.child=Wr(o,null,N,x)):pt(s,o,N,x),o.memoizedState=d.state,m&&cf(o,a,!0),o.child}function ih(s){var o=s.stateNode;o.pendingContext?lf(s,o.pendingContext,o.pendingContext!==o.context):o.context&&lf(s,o.context,!1),Pa(s,o.containerInfo)}function oh(s,o,a,d,m){return Hr(),Oa(m),o.flags|=256,pt(s,o,a,d),o.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function sc(s){return{baseLanes:s,cachePool:null,transitions:null}}function lh(s,o,a){var d=o.pendingProps,m=Pe.current,x=!1,w=(o.flags&128)!==0,N;if((N=w)||(N=s!==null&&s.memoizedState===null?!1:(m&2)!==0),N?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Oe(Pe,m&1),s===null)return Ma(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=d.children,s=d.fallback,x?(d=o.mode,x=o.child,w={mode:"hidden",children:w},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=w):x=Fo(w,d,0,null),s=cr(s,d,a,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=sc(a),o.memoizedState=rc,s):ic(o,w));if(m=s.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return Qx(s,o,w,d,N,m,a);if(x){x=d.fallback,w=o.mode,m=s.child,N=m.sibling;var j={mode:"hidden",children:d.children};return(w&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=j,o.deletions=null):(d=Wn(m,j),d.subtreeFlags=m.subtreeFlags&14680064),N!==null?x=Wn(N,x):(x=cr(x,w,a,null),x.flags|=2),x.return=o,d.return=o,d.sibling=x,o.child=d,d=x,x=o.child,w=s.child.memoizedState,w=w===null?sc(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},x.memoizedState=w,x.childLanes=s.childLanes&~a,o.memoizedState=rc,d}return x=s.child,s=x.sibling,d=Wn(x,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=a),d.return=o,d.sibling=null,s!==null&&(a=o.deletions,a===null?(o.deletions=[s],o.flags|=16):a.push(s)),o.child=d,o.memoizedState=null,d}function ic(s,o){return o=Fo({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function wo(s,o,a,d){return d!==null&&Oa(d),Wr(o,s.child,null,a),s=ic(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Qx(s,o,a,d,m,x,w){if(a)return o.flags&256?(o.flags&=-257,d=Za(Error(t(422))),wo(s,o,w,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=d.fallback,m=o.mode,d=Fo({mode:"visible",children:d.children},m,0,null),x=cr(x,m,w,null),x.flags|=2,d.return=o,x.return=o,d.sibling=x,o.child=d,(o.mode&1)!==0&&Wr(o,s.child,null,w),o.child.memoizedState=sc(w),o.memoizedState=rc,x);if((o.mode&1)===0)return wo(s,o,w,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var N=d.dgst;return d=N,x=Error(t(419)),d=Za(x,d,void 0),wo(s,o,w,d)}if(N=(w&s.childLanes)!==0,yt||N){if(d=tt,d!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|w))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,mn(s,m),qt(d,s,m,-1))}return bc(),d=Za(Error(t(421))),wo(s,o,w,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=ly.bind(null,s),m._reactRetry=o,null):(s=x.treeContext,Tt=Mn(m.nextSibling),Ct=o,ze=!0,$t=null,s!==null&&(Mt[Ot++]=hn,Mt[Ot++]=pn,Mt[Ot++]=er,hn=s.id,pn=s.overflow,er=o),o=ic(o,d.children),o.flags|=4096,o)}function ah(s,o,a){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),La(s.return,o,a)}function oc(s,o,a,d,m){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:m}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=a,x.tailMode=m)}function ch(s,o,a){var d=o.pendingProps,m=d.revealOrder,x=d.tail;if(pt(s,o,d.children,a),d=Pe.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ah(s,a,o);else if(s.tag===19)ah(s,a,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Oe(Pe,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(a=o.child,m=null;a!==null;)s=a.alternate,s!==null&&ho(s)===null&&(m=a),a=a.sibling;a=m,a===null?(m=o.child,o.child=null):(m=a.sibling,a.sibling=null),oc(o,!1,m,a,x);break;case"backwards":for(a=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&ho(s)===null){o.child=m;break}s=m.sibling,m.sibling=a,a=m,m=s}oc(o,!0,a,null,x);break;case"together":oc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bo(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function xn(s,o,a){if(s!==null&&(o.dependencies=s.dependencies),ir|=o.lanes,(a&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,a=Wn(s,s.pendingProps),o.child=a,a.return=o;s.sibling!==null;)s=s.sibling,a=a.sibling=Wn(s,s.pendingProps),a.return=o;a.sibling=null}return o.child}function Xx(s,o,a){switch(o.tag){case 3:ih(o),Hr();break;case 5:kf(o);break;case 1:xt(o.type)&&no(o);break;case 4:Pa(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Oe(ao,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Oe(Pe,Pe.current&1),o.flags|=128,null):(a&o.child.childLanes)!==0?lh(s,o,a):(Oe(Pe,Pe.current&1),s=xn(s,o,a),s!==null?s.sibling:null);Oe(Pe,Pe.current&1);break;case 19:if(d=(a&o.childLanes)!==0,(s.flags&128)!==0){if(d)return ch(s,o,a);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Oe(Pe,Pe.current),d)break;return null;case 22:case 23:return o.lanes=0,nh(s,o,a)}return xn(s,o,a)}var uh,lc,dh,fh;uh=function(s,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},lc=function(){},dh=function(s,o,a,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,rr(Zt.current);var x=null;switch(a){case"input":m=Ll(s,m),d=Ll(s,d),x=[];break;case"select":m=Q({},m,{value:void 0}),d=Q({},d,{value:void 0}),x=[];break;case"textarea":m=Pl(s,m),d=Pl(s,d),x=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Zi)}Hl(a,d);var w;a=null;for(L in m)if(!d.hasOwnProperty(L)&&m.hasOwnProperty(L)&&m[L]!=null)if(L==="style"){var N=m[L];for(w in N)N.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?x||(x=[]):(x=x||[]).push(L,null));for(L in d){var j=d[L];if(N=m!=null?m[L]:void 0,d.hasOwnProperty(L)&&j!==N&&(j!=null||N!=null))if(L==="style")if(N){for(w in N)!N.hasOwnProperty(w)||j&&j.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in j)j.hasOwnProperty(w)&&N[w]!==j[w]&&(a||(a={}),a[w]=j[w])}else a||(x||(x=[]),x.push(L,a)),a=j;else L==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,N=N?N.__html:void 0,j!=null&&N!==j&&(x=x||[]).push(L,j)):L==="children"?typeof j!="string"&&typeof j!="number"||(x=x||[]).push(L,""+j):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(i.hasOwnProperty(L)?(j!=null&&L==="onScroll"&&Re("scroll",s),x||N===j||(x=[])):(x=x||[]).push(L,j))}a&&(x=x||[]).push("style",a);var L=x;(o.updateQueue=L)&&(o.flags|=4)}},fh=function(s,o,a,d){a!==d&&(o.flags|=4)};function $s(s,o){if(!ze)switch(s.tailMode){case"hidden":o=s.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function at(s){var o=s.alternate!==null&&s.alternate.child===s.child,a=0,d=0;if(o)for(var m=s.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=a,o}function Kx(s,o,a){var d=o.pendingProps;switch(Ta(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(o),null;case 1:return xt(o.type)&&to(),at(o),null;case 3:return d=o.stateNode,Vr(),Ae(gt),Ae(ot),Wa(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(oo(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$t!==null&&(yc($t),$t=null))),lc(s,o),at(o),null;case 5:Ba(o);var m=rr(zs.current);if(a=o.type,s!==null&&o.stateNode!=null)dh(s,o,a,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return at(o),null}if(s=rr(Zt.current),oo(o)){d=o.stateNode,a=o.type;var x=o.memoizedProps;switch(d[Jt]=o,d[Fs]=x,s=(o.mode&1)!==0,a){case"dialog":Re("cancel",d),Re("close",d);break;case"iframe":case"object":case"embed":Re("load",d);break;case"video":case"audio":for(m=0;m<Es.length;m++)Re(Es[m],d);break;case"source":Re("error",d);break;case"img":case"image":case"link":Re("error",d),Re("load",d);break;case"details":Re("toggle",d);break;case"input":Vu(d,x),Re("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Re("invalid",d);break;case"textarea":Qu(d,x),Re("invalid",d)}Hl(a,x),m=null;for(var w in x)if(x.hasOwnProperty(w)){var N=x[w];w==="children"?typeof N=="string"?d.textContent!==N&&(x.suppressHydrationWarning!==!0&&Ji(d.textContent,N,s),m=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(x.suppressHydrationWarning!==!0&&Ji(d.textContent,N,s),m=["children",""+N]):i.hasOwnProperty(w)&&N!=null&&w==="onScroll"&&Re("scroll",d)}switch(a){case"input":Ti(d),qu(d,x,!0);break;case"textarea":Ti(d),Ku(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Zi)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Gu(a)),s==="http://www.w3.org/1999/xhtml"?a==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=w.createElement(a,{is:d.is}):(s=w.createElement(a),a==="select"&&(w=s,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):s=w.createElementNS(s,a),s[Jt]=o,s[Fs]=d,uh(s,o,!1,!1),o.stateNode=s;e:{switch(w=Wl(a,d),a){case"dialog":Re("cancel",s),Re("close",s),m=d;break;case"iframe":case"object":case"embed":Re("load",s),m=d;break;case"video":case"audio":for(m=0;m<Es.length;m++)Re(Es[m],s);m=d;break;case"source":Re("error",s),m=d;break;case"img":case"image":case"link":Re("error",s),Re("load",s),m=d;break;case"details":Re("toggle",s),m=d;break;case"input":Vu(s,d),m=Ll(s,d),Re("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=Q({},d,{value:void 0}),Re("invalid",s);break;case"textarea":Qu(s,d),m=Pl(s,d),Re("invalid",s);break;default:m=d}Hl(a,m),N=m;for(x in N)if(N.hasOwnProperty(x)){var j=N[x];x==="style"?ed(s,j):x==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ju(s,j)):x==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&ds(s,j):typeof j=="number"&&ds(s,""+j):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?j!=null&&x==="onScroll"&&Re("scroll",s):j!=null&&T(s,x,j,w))}switch(a){case"input":Ti(s),qu(s,d,!1);break;case"textarea":Ti(s),Ku(s);break;case"option":d.value!=null&&s.setAttribute("value",""+je(d.value));break;case"select":s.multiple=!!d.multiple,x=d.value,x!=null?jr(s,!!d.multiple,x,!1):d.defaultValue!=null&&jr(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Zi)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return at(o),null;case 6:if(s&&o.stateNode!=null)fh(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(a=rr(zs.current),rr(Zt.current),oo(o)){if(d=o.stateNode,a=o.memoizedProps,d[Jt]=o,(x=d.nodeValue!==a)&&(s=Ct,s!==null))switch(s.tag){case 3:Ji(d.nodeValue,a,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ji(d.nodeValue,a,(s.mode&1)!==0)}x&&(o.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Jt]=o,o.stateNode=d}return at(o),null;case 13:if(Ae(Pe),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ze&&Tt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)mf(),Hr(),o.flags|=98560,x=!1;else if(x=oo(o),d!==null&&d.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Jt]=o}else Hr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;at(o),x=!1}else $t!==null&&(yc($t),$t=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=a,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Pe.current&1)!==0?Je===0&&(Je=3):bc())),o.updateQueue!==null&&(o.flags|=4),at(o),null);case 4:return Vr(),lc(s,o),s===null&&Ms(o.stateNode.containerInfo),at(o),null;case 10:return Aa(o.type._context),at(o),null;case 17:return xt(o.type)&&to(),at(o),null;case 19:if(Ae(Pe),x=o.memoizedState,x===null)return at(o),null;if(d=(o.flags&128)!==0,w=x.rendering,w===null)if(d)$s(x,!1);else{if(Je!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=ho(s),w!==null){for(o.flags|=128,$s(x,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=a,a=o.child;a!==null;)x=a,s=d,x.flags&=14680066,w=x.alternate,w===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,s=w.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a=a.sibling;return Oe(Pe,Pe.current&1|2),o.child}s=s.sibling}x.tail!==null&&Ve()>Xr&&(o.flags|=128,d=!0,$s(x,!1),o.lanes=4194304)}else{if(!d)if(s=ho(w),s!==null){if(o.flags|=128,d=!0,a=s.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),$s(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!ze)return at(o),null}else 2*Ve()-x.renderingStartTime>Xr&&a!==1073741824&&(o.flags|=128,d=!0,$s(x,!1),o.lanes=4194304);x.isBackwards?(w.sibling=o.child,o.child=w):(a=x.last,a!==null?a.sibling=w:o.child=w,x.last=w)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Ve(),o.sibling=null,a=Pe.current,Oe(Pe,d?a&1|2:a&1),o):(at(o),null);case 22:case 23:return wc(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Et&1073741824)!==0&&(at(o),o.subtreeFlags&6&&(o.flags|=8192)):at(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Gx(s,o){switch(Ta(o),o.tag){case 1:return xt(o.type)&&to(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Vr(),Ae(gt),Ae(ot),Wa(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Ba(o),null;case 13:if(Ae(Pe),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Hr()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ae(Pe),null;case 4:return Vr(),null;case 10:return Aa(o.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var _o=!1,ct=!1,Jx=typeof WeakSet=="function"?WeakSet:Set,ne=null;function qr(s,o){var a=s.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){We(s,o,d)}else a.current=null}function ac(s,o,a){try{a()}catch(d){We(s,o,d)}}var hh=!1;function Zx(s,o){if(wa=Hi,s=Ud(),fa(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var w=0,N=-1,j=-1,L=0,V=0,Y=s,U=null;t:for(;;){for(var ee;Y!==a||m!==0&&Y.nodeType!==3||(N=w+m),Y!==x||d!==0&&Y.nodeType!==3||(j=w+d),Y.nodeType===3&&(w+=Y.nodeValue.length),(ee=Y.firstChild)!==null;)U=Y,Y=ee;for(;;){if(Y===s)break t;if(U===a&&++L===m&&(N=w),U===x&&++V===d&&(j=w),(ee=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=ee}a=N===-1||j===-1?null:{start:N,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(ba={focusedElem:s,selectionRange:a},Hi=!1,ne=o;ne!==null;)if(o=ne,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ne=s;else for(;ne!==null;){o=ne;try{var re=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,Ye=re.memoizedState,O=o.stateNode,C=O.getSnapshotBeforeUpdate(o.elementType===o.type?se:Ut(o.type,se),Ye);O.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var R=o.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){We(o,o.return,X)}if(s=o.sibling,s!==null){s.return=o.return,ne=s;break}ne=o.return}return re=hh,hh=!1,re}function Us(s,o,a){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var x=m.destroy;m.destroy=void 0,x!==void 0&&ac(o,a,x)}m=m.next}while(m!==d)}}function ko(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&s)===s){var d=a.create;a.destroy=d()}a=a.next}while(a!==o)}}function cc(s){var o=s.ref;if(o!==null){var a=s.stateNode;switch(s.tag){case 5:s=a;break;default:s=a}typeof o=="function"?o(s):o.current=s}}function ph(s){var o=s.alternate;o!==null&&(s.alternate=null,ph(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Jt],delete o[Fs],delete o[Na],delete o[Ax],delete o[Lx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function mh(s){return s.tag===5||s.tag===3||s.tag===4}function gh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||mh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uc(s,o,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(s,o):a.insertBefore(s,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(s,a)):(o=a,o.appendChild(s)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Zi));else if(d!==4&&(s=s.child,s!==null))for(uc(s,o,a),s=s.sibling;s!==null;)uc(s,o,a),s=s.sibling}function dc(s,o,a){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?a.insertBefore(s,o):a.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(dc(s,o,a),s=s.sibling;s!==null;)dc(s,o,a),s=s.sibling}var st=null,Vt=!1;function In(s,o,a){for(a=a.child;a!==null;)xh(s,o,a),a=a.sibling}function xh(s,o,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:ct||qr(a,o);case 6:var d=st,m=Vt;st=null,In(s,o,a),st=d,Vt=m,st!==null&&(Vt?(s=st,a=a.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):st.removeChild(a.stateNode));break;case 18:st!==null&&(Vt?(s=st,a=a.stateNode,s.nodeType===8?Sa(s.parentNode,a):s.nodeType===1&&Sa(s,a),_s(s)):Sa(st,a.stateNode));break;case 4:d=st,m=Vt,st=a.stateNode.containerInfo,Vt=!0,In(s,o,a),st=d,Vt=m;break;case 0:case 11:case 14:case 15:if(!ct&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var x=m,w=x.destroy;x=x.tag,w!==void 0&&((x&2)!==0||(x&4)!==0)&&ac(a,o,w),m=m.next}while(m!==d)}In(s,o,a);break;case 1:if(!ct&&(qr(a,o),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(N){We(a,o,N)}In(s,o,a);break;case 21:In(s,o,a);break;case 22:a.mode&1?(ct=(d=ct)||a.memoizedState!==null,In(s,o,a),ct=d):In(s,o,a);break;default:In(s,o,a)}}function yh(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var a=s.stateNode;a===null&&(a=s.stateNode=new Jx),o.forEach(function(d){var m=ay.bind(null,s,d);a.has(d)||(a.add(d),d.then(m,m))})}}function Yt(s,o){var a=o.deletions;if(a!==null)for(var d=0;d<a.length;d++){var m=a[d];try{var x=s,w=o,N=w;e:for(;N!==null;){switch(N.tag){case 5:st=N.stateNode,Vt=!1;break e;case 3:st=N.stateNode.containerInfo,Vt=!0;break e;case 4:st=N.stateNode.containerInfo,Vt=!0;break e}N=N.return}if(st===null)throw Error(t(160));xh(x,w,m),st=null,Vt=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(L){We(m,o,L)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)vh(o,s),o=o.sibling}function vh(s,o){var a=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yt(o,s),tn(s),d&4){try{Us(3,s,s.return),ko(3,s)}catch(se){We(s,s.return,se)}try{Us(5,s,s.return)}catch(se){We(s,s.return,se)}}break;case 1:Yt(o,s),tn(s),d&512&&a!==null&&qr(a,a.return);break;case 5:if(Yt(o,s),tn(s),d&512&&a!==null&&qr(a,a.return),s.flags&32){var m=s.stateNode;try{ds(m,"")}catch(se){We(s,s.return,se)}}if(d&4&&(m=s.stateNode,m!=null)){var x=s.memoizedProps,w=a!==null?a.memoizedProps:x,N=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{N==="input"&&x.type==="radio"&&x.name!=null&&Yu(m,x),Wl(N,w);var L=Wl(N,x);for(w=0;w<j.length;w+=2){var V=j[w],Y=j[w+1];V==="style"?ed(m,Y):V==="dangerouslySetInnerHTML"?Ju(m,Y):V==="children"?ds(m,Y):T(m,V,Y,L)}switch(N){case"input":Il(m,x);break;case"textarea":Xu(m,x);break;case"select":var U=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var ee=x.value;ee!=null?jr(m,!!x.multiple,ee,!1):U!==!!x.multiple&&(x.defaultValue!=null?jr(m,!!x.multiple,x.defaultValue,!0):jr(m,!!x.multiple,x.multiple?[]:"",!1))}m[Fs]=x}catch(se){We(s,s.return,se)}}break;case 6:if(Yt(o,s),tn(s),d&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,x=s.memoizedProps;try{m.nodeValue=x}catch(se){We(s,s.return,se)}}break;case 3:if(Yt(o,s),tn(s),d&4&&a!==null&&a.memoizedState.isDehydrated)try{_s(o.containerInfo)}catch(se){We(s,s.return,se)}break;case 4:Yt(o,s),tn(s);break;case 13:Yt(o,s),tn(s),m=s.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(pc=Ve())),d&4&&yh(s);break;case 22:if(V=a!==null&&a.memoizedState!==null,s.mode&1?(ct=(L=ct)||V,Yt(o,s),ct=L):Yt(o,s),tn(s),d&8192){if(L=s.memoizedState!==null,(s.stateNode.isHidden=L)&&!V&&(s.mode&1)!==0)for(ne=s,V=s.child;V!==null;){for(Y=ne=V;ne!==null;){switch(U=ne,ee=U.child,U.tag){case 0:case 11:case 14:case 15:Us(4,U,U.return);break;case 1:qr(U,U.return);var re=U.stateNode;if(typeof re.componentWillUnmount=="function"){d=U,a=U.return;try{o=d,re.props=o.memoizedProps,re.state=o.memoizedState,re.componentWillUnmount()}catch(se){We(d,a,se)}}break;case 5:qr(U,U.return);break;case 22:if(U.memoizedState!==null){_h(Y);continue}}ee!==null?(ee.return=U,ne=ee):_h(Y)}V=V.sibling}e:for(V=null,Y=s;;){if(Y.tag===5){if(V===null){V=Y;try{m=Y.stateNode,L?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(N=Y.stateNode,j=Y.memoizedProps.style,w=j!=null&&j.hasOwnProperty("display")?j.display:null,N.style.display=Zu("display",w))}catch(se){We(s,s.return,se)}}}else if(Y.tag===6){if(V===null)try{Y.stateNode.nodeValue=L?"":Y.memoizedProps}catch(se){We(s,s.return,se)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===s)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===s)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===s)break e;V===Y&&(V=null),Y=Y.return}V===Y&&(V=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Yt(o,s),tn(s),d&4&&yh(s);break;case 21:break;default:Yt(o,s),tn(s)}}function tn(s){var o=s.flags;if(o&2){try{e:{for(var a=s.return;a!==null;){if(mh(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ds(m,""),d.flags&=-33);var x=gh(s);dc(s,x,m);break;case 3:case 4:var w=d.stateNode.containerInfo,N=gh(s);uc(s,N,w);break;default:throw Error(t(161))}}catch(j){We(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function ey(s,o,a){ne=s,wh(s)}function wh(s,o,a){for(var d=(s.mode&1)!==0;ne!==null;){var m=ne,x=m.child;if(m.tag===22&&d){var w=m.memoizedState!==null||_o;if(!w){var N=m.alternate,j=N!==null&&N.memoizedState!==null||ct;N=_o;var L=ct;if(_o=w,(ct=j)&&!L)for(ne=m;ne!==null;)w=ne,j=w.child,w.tag===22&&w.memoizedState!==null?kh(m):j!==null?(j.return=w,ne=j):kh(m);for(;x!==null;)ne=x,wh(x),x=x.sibling;ne=m,_o=N,ct=L}bh(s)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,ne=x):bh(s)}}function bh(s){for(;ne!==null;){var o=ne;if((o.flags&8772)!==0){var a=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:ct||ko(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!ct)if(a===null)d.componentDidMount();else{var m=o.elementType===o.type?a.memoizedProps:Ut(o.type,a.memoizedProps);d.componentDidUpdate(m,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&_f(o,x,d);break;case 3:var w=o.updateQueue;if(w!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}_f(o,w,a)}break;case 5:var N=o.stateNode;if(a===null&&o.flags&4){a=N;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var L=o.alternate;if(L!==null){var V=L.memoizedState;if(V!==null){var Y=V.dehydrated;Y!==null&&_s(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ct||o.flags&512&&cc(o)}catch(U){We(o,o.return,U)}}if(o===s){ne=null;break}if(a=o.sibling,a!==null){a.return=o.return,ne=a;break}ne=o.return}}function _h(s){for(;ne!==null;){var o=ne;if(o===s){ne=null;break}var a=o.sibling;if(a!==null){a.return=o.return,ne=a;break}ne=o.return}}function kh(s){for(;ne!==null;){var o=ne;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{ko(4,o)}catch(j){We(o,a,j)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(j){We(o,m,j)}}var x=o.return;try{cc(o)}catch(j){We(o,x,j)}break;case 5:var w=o.return;try{cc(o)}catch(j){We(o,w,j)}}}catch(j){We(o,o.return,j)}if(o===s){ne=null;break}var N=o.sibling;if(N!==null){N.return=o.return,ne=N;break}ne=o.return}}var ty=Math.ceil,So=A.ReactCurrentDispatcher,fc=A.ReactCurrentOwner,At=A.ReactCurrentBatchConfig,_e=0,tt=null,Ke=null,it=0,Et=0,Qr=On(0),Je=0,Vs=null,ir=0,No=0,hc=0,Ys=null,vt=null,pc=0,Xr=1/0,yn=null,jo=!1,mc=null,zn=null,Do=!1,Pn=null,Co=0,qs=0,gc=null,To=-1,Eo=0;function mt(){return(_e&6)!==0?Ve():To!==-1?To:To=Ve()}function Bn(s){return(s.mode&1)===0?1:(_e&2)!==0&&it!==0?it&-it:zx.transition!==null?(Eo===0&&(Eo=md()),Eo):(s=De,s!==0||(s=window.event,s=s===void 0?16:Sd(s.type)),s)}function qt(s,o,a,d){if(50<qs)throw qs=0,gc=null,Error(t(185));xs(s,a,d),((_e&2)===0||s!==tt)&&(s===tt&&((_e&2)===0&&(No|=a),Je===4&&Hn(s,it)),wt(s,d),a===1&&_e===0&&(o.mode&1)===0&&(Xr=Ve()+500,ro&&Rn()))}function wt(s,o){var a=s.callbackNode;z0(s,o);var d=zi(s,s===tt?it:0);if(d===0)a!==null&&fd(a),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(a!=null&&fd(a),o===1)s.tag===0?Ix(Nh.bind(null,s)):uf(Nh.bind(null,s)),Fx(function(){(_e&6)===0&&Rn()}),a=null;else{switch(gd(d)){case 1:a=Xl;break;case 4:a=hd;break;case 16:a=Ri;break;case 536870912:a=pd;break;default:a=Ri}a=Fh(a,Sh.bind(null,s))}s.callbackPriority=o,s.callbackNode=a}}function Sh(s,o){if(To=-1,Eo=0,(_e&6)!==0)throw Error(t(327));var a=s.callbackNode;if(Kr()&&s.callbackNode!==a)return null;var d=zi(s,s===tt?it:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Mo(s,d);else{o=d;var m=_e;_e|=2;var x=Dh();(tt!==s||it!==o)&&(yn=null,Xr=Ve()+500,lr(s,o));do try{sy();break}catch(N){jh(s,N)}while(!0);Ra(),So.current=x,_e=m,Ke!==null?o=0:(tt=null,it=0,o=Je)}if(o!==0){if(o===2&&(m=Kl(s),m!==0&&(d=m,o=xc(s,m))),o===1)throw a=Vs,lr(s,0),Hn(s,d),wt(s,Ve()),a;if(o===6)Hn(s,d);else{if(m=s.current.alternate,(d&30)===0&&!ny(m)&&(o=Mo(s,d),o===2&&(x=Kl(s),x!==0&&(d=x,o=xc(s,x))),o===1))throw a=Vs,lr(s,0),Hn(s,d),wt(s,Ve()),a;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:ar(s,vt,yn);break;case 3:if(Hn(s,d),(d&130023424)===d&&(o=pc+500-Ve(),10<o)){if(zi(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){mt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=ka(ar.bind(null,s,vt,yn),o);break}ar(s,vt,yn);break;case 4:if(Hn(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var w=31-Ht(d);x=1<<w,w=o[w],w>m&&(m=w),d&=~x}if(d=m,d=Ve()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ty(d/1960))-d,10<d){s.timeoutHandle=ka(ar.bind(null,s,vt,yn),d);break}ar(s,vt,yn);break;case 5:ar(s,vt,yn);break;default:throw Error(t(329))}}}return wt(s,Ve()),s.callbackNode===a?Sh.bind(null,s):null}function xc(s,o){var a=Ys;return s.current.memoizedState.isDehydrated&&(lr(s,o).flags|=256),s=Mo(s,o),s!==2&&(o=vt,vt=a,o!==null&&yc(o)),s}function yc(s){vt===null?vt=s:vt.push.apply(vt,s)}function ny(s){for(var o=s;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var m=a[d],x=m.getSnapshot;m=m.value;try{if(!Wt(x(),m))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hn(s,o){for(o&=~hc,o&=~No,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var a=31-Ht(o),d=1<<a;s[a]=-1,o&=~d}}function Nh(s){if((_e&6)!==0)throw Error(t(327));Kr();var o=zi(s,0);if((o&1)===0)return wt(s,Ve()),null;var a=Mo(s,o);if(s.tag!==0&&a===2){var d=Kl(s);d!==0&&(o=d,a=xc(s,d))}if(a===1)throw a=Vs,lr(s,0),Hn(s,o),wt(s,Ve()),a;if(a===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ar(s,vt,yn),wt(s,Ve()),null}function vc(s,o){var a=_e;_e|=1;try{return s(o)}finally{_e=a,_e===0&&(Xr=Ve()+500,ro&&Rn())}}function or(s){Pn!==null&&Pn.tag===0&&(_e&6)===0&&Kr();var o=_e;_e|=1;var a=At.transition,d=De;try{if(At.transition=null,De=1,s)return s()}finally{De=d,At.transition=a,_e=o,(_e&6)===0&&Rn()}}function wc(){Et=Qr.current,Ae(Qr)}function lr(s,o){s.finishedWork=null,s.finishedLanes=0;var a=s.timeoutHandle;if(a!==-1&&(s.timeoutHandle=-1,Ox(a)),Ke!==null)for(a=Ke.return;a!==null;){var d=a;switch(Ta(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&to();break;case 3:Vr(),Ae(gt),Ae(ot),Wa();break;case 5:Ba(d);break;case 4:Vr();break;case 13:Ae(Pe);break;case 19:Ae(Pe);break;case 10:Aa(d.type._context);break;case 22:case 23:wc()}a=a.return}if(tt=s,Ke=s=Wn(s.current,null),it=Et=o,Je=0,Vs=null,hc=No=ir=0,vt=Ys=null,nr!==null){for(o=0;o<nr.length;o++)if(a=nr[o],d=a.interleaved,d!==null){a.interleaved=null;var m=d.next,x=a.pending;if(x!==null){var w=x.next;x.next=m,d.next=w}a.pending=d}nr=null}return s}function jh(s,o){do{var a=Ke;try{if(Ra(),po.current=yo,mo){for(var d=Be.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}mo=!1}if(sr=0,et=Ge=Be=null,Ps=!1,Bs=0,fc.current=null,a===null||a.return===null){Je=1,Vs=o,Ke=null;break}e:{var x=s,w=a.return,N=a,j=o;if(o=it,N.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var L=j,V=N,Y=V.tag;if((V.mode&1)===0&&(Y===0||Y===11||Y===15)){var U=V.alternate;U?(V.updateQueue=U.updateQueue,V.memoizedState=U.memoizedState,V.lanes=U.lanes):(V.updateQueue=null,V.memoizedState=null)}var ee=Gf(w);if(ee!==null){ee.flags&=-257,Jf(ee,w,N,x,o),ee.mode&1&&Kf(x,L,o),o=ee,j=L;var re=o.updateQueue;if(re===null){var se=new Set;se.add(j),o.updateQueue=se}else re.add(j);break e}else{if((o&1)===0){Kf(x,L,o),bc();break e}j=Error(t(426))}}else if(ze&&N.mode&1){var Ye=Gf(w);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),Jf(Ye,w,N,x,o),Oa(Yr(j,N));break e}}x=j=Yr(j,N),Je!==4&&(Je=2),Ys===null?Ys=[x]:Ys.push(x),x=w;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var O=Qf(x,j,o);bf(x,O);break e;case 1:N=j;var C=x.type,R=x.stateNode;if((x.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(zn===null||!zn.has(R)))){x.flags|=65536,o&=-o,x.lanes|=o;var X=Xf(x,N,o);bf(x,X);break e}}x=x.return}while(x!==null)}Th(a)}catch(ie){o=ie,Ke===a&&a!==null&&(Ke=a=a.return);continue}break}while(!0)}function Dh(){var s=So.current;return So.current=yo,s===null?yo:s}function bc(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||(ir&268435455)===0&&(No&268435455)===0||Hn(tt,it)}function Mo(s,o){var a=_e;_e|=2;var d=Dh();(tt!==s||it!==o)&&(yn=null,lr(s,o));do try{ry();break}catch(m){jh(s,m)}while(!0);if(Ra(),_e=a,So.current=d,Ke!==null)throw Error(t(261));return tt=null,it=0,Je}function ry(){for(;Ke!==null;)Ch(Ke)}function sy(){for(;Ke!==null&&!T0();)Ch(Ke)}function Ch(s){var o=Oh(s.alternate,s,Et);s.memoizedProps=s.pendingProps,o===null?Th(s):Ke=o,fc.current=null}function Th(s){var o=s;do{var a=o.alternate;if(s=o.return,(o.flags&32768)===0){if(a=Kx(a,o,Et),a!==null){Ke=a;return}}else{if(a=Gx(a,o),a!==null){a.flags&=32767,Ke=a;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Je=6,Ke=null;return}}if(o=o.sibling,o!==null){Ke=o;return}Ke=o=s}while(o!==null);Je===0&&(Je=5)}function ar(s,o,a){var d=De,m=At.transition;try{At.transition=null,De=1,iy(s,o,a,d)}finally{At.transition=m,De=d}return null}function iy(s,o,a,d){do Kr();while(Pn!==null);if((_e&6)!==0)throw Error(t(327));a=s.finishedWork;var m=s.finishedLanes;if(a===null)return null;if(s.finishedWork=null,s.finishedLanes=0,a===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=a.lanes|a.childLanes;if(P0(s,x),s===tt&&(Ke=tt=null,it=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Do||(Do=!0,Fh(Ri,function(){return Kr(),null})),x=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||x){x=At.transition,At.transition=null;var w=De;De=1;var N=_e;_e|=4,fc.current=null,Zx(s,a),vh(a,s),Nx(ba),Hi=!!wa,ba=wa=null,s.current=a,ey(a),E0(),_e=N,De=w,At.transition=x}else s.current=a;if(Do&&(Do=!1,Pn=s,Co=m),x=s.pendingLanes,x===0&&(zn=null),F0(a.stateNode),wt(s,Ve()),o!==null)for(d=s.onRecoverableError,a=0;a<o.length;a++)m=o[a],d(m.value,{componentStack:m.stack,digest:m.digest});if(jo)throw jo=!1,s=mc,mc=null,s;return(Co&1)!==0&&s.tag!==0&&Kr(),x=s.pendingLanes,(x&1)!==0?s===gc?qs++:(qs=0,gc=s):qs=0,Rn(),null}function Kr(){if(Pn!==null){var s=gd(Co),o=At.transition,a=De;try{if(At.transition=null,De=16>s?16:s,Pn===null)var d=!1;else{if(s=Pn,Pn=null,Co=0,(_e&6)!==0)throw Error(t(331));var m=_e;for(_e|=4,ne=s.current;ne!==null;){var x=ne,w=x.child;if((ne.flags&16)!==0){var N=x.deletions;if(N!==null){for(var j=0;j<N.length;j++){var L=N[j];for(ne=L;ne!==null;){var V=ne;switch(V.tag){case 0:case 11:case 15:Us(8,V,x)}var Y=V.child;if(Y!==null)Y.return=V,ne=Y;else for(;ne!==null;){V=ne;var U=V.sibling,ee=V.return;if(ph(V),V===L){ne=null;break}if(U!==null){U.return=ee,ne=U;break}ne=ee}}}var re=x.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var Ye=se.sibling;se.sibling=null,se=Ye}while(se!==null)}}ne=x}}if((x.subtreeFlags&2064)!==0&&w!==null)w.return=x,ne=w;else e:for(;ne!==null;){if(x=ne,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Us(9,x,x.return)}var O=x.sibling;if(O!==null){O.return=x.return,ne=O;break e}ne=x.return}}var C=s.current;for(ne=C;ne!==null;){w=ne;var R=w.child;if((w.subtreeFlags&2064)!==0&&R!==null)R.return=w,ne=R;else e:for(w=C;ne!==null;){if(N=ne,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:ko(9,N)}}catch(ie){We(N,N.return,ie)}if(N===w){ne=null;break e}var X=N.sibling;if(X!==null){X.return=N.return,ne=X;break e}ne=N.return}}if(_e=m,Rn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ai,s)}catch{}d=!0}return d}finally{De=a,At.transition=o}}return!1}function Eh(s,o,a){o=Yr(a,o),o=Qf(s,o,1),s=Ln(s,o,1),o=mt(),s!==null&&(xs(s,1,o),wt(s,o))}function We(s,o,a){if(s.tag===3)Eh(s,s,a);else for(;o!==null;){if(o.tag===3){Eh(o,s,a);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(zn===null||!zn.has(d))){s=Yr(a,s),s=Xf(o,s,1),o=Ln(o,s,1),s=mt(),o!==null&&(xs(o,1,s),wt(o,s));break}}o=o.return}}function oy(s,o,a){var d=s.pingCache;d!==null&&d.delete(o),o=mt(),s.pingedLanes|=s.suspendedLanes&a,tt===s&&(it&a)===a&&(Je===4||Je===3&&(it&130023424)===it&&500>Ve()-pc?lr(s,0):hc|=a),wt(s,o)}function Mh(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var a=mt();s=mn(s,o),s!==null&&(xs(s,o,a),wt(s,a))}function ly(s){var o=s.memoizedState,a=0;o!==null&&(a=o.retryLane),Mh(s,a)}function ay(s,o){var a=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(a=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Mh(s,a)}var Oh;Oh=function(s,o,a){if(s!==null)if(s.memoizedProps!==o.pendingProps||gt.current)yt=!0;else{if((s.lanes&a)===0&&(o.flags&128)===0)return yt=!1,Xx(s,o,a);yt=(s.flags&131072)!==0}else yt=!1,ze&&(o.flags&1048576)!==0&&df(o,io,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;bo(s,o),s=o.pendingProps;var m=zr(o,ot.current);Ur(o,a),m=Va(null,o,d,s,m,a);var x=Ya();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,xt(d)?(x=!0,no(o)):x=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,za(o),m.updater=vo,o.stateNode=m,m._reactInternals=o,Ja(o,d,s,a),o=nc(null,o,d,!0,x,a)):(o.tag=0,ze&&x&&Ca(o),pt(null,o,m,a),o=o.child),o;case 16:d=o.elementType;e:{switch(bo(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=uy(d),s=Ut(d,s),m){case 0:o=tc(null,o,d,s,a);break e;case 1:o=sh(null,o,d,s,a);break e;case 11:o=Zf(null,o,d,s,a);break e;case 14:o=eh(null,o,d,Ut(d.type,s),a);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Ut(d,m),tc(s,o,d,m,a);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Ut(d,m),sh(s,o,d,m,a);case 3:e:{if(ih(o),s===null)throw Error(t(387));d=o.pendingProps,x=o.memoizedState,m=x.element,wf(s,o),fo(o,d,null,a);var w=o.memoizedState;if(d=w.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){m=Yr(Error(t(423)),o),o=oh(s,o,d,a,m);break e}else if(d!==m){m=Yr(Error(t(424)),o),o=oh(s,o,d,a,m);break e}else for(Tt=Mn(o.stateNode.containerInfo.firstChild),Ct=o,ze=!0,$t=null,a=yf(o,null,d,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hr(),d===m){o=xn(s,o,a);break e}pt(s,o,d,a)}o=o.child}return o;case 5:return kf(o),s===null&&Ma(o),d=o.type,m=o.pendingProps,x=s!==null?s.memoizedProps:null,w=m.children,_a(d,m)?w=null:x!==null&&_a(d,x)&&(o.flags|=32),rh(s,o),pt(s,o,w,a),o.child;case 6:return s===null&&Ma(o),null;case 13:return lh(s,o,a);case 4:return Pa(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Wr(o,null,d,a):pt(s,o,d,a),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Ut(d,m),Zf(s,o,d,m,a);case 7:return pt(s,o,o.pendingProps,a),o.child;case 8:return pt(s,o,o.pendingProps.children,a),o.child;case 12:return pt(s,o,o.pendingProps.children,a),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,x=o.memoizedProps,w=m.value,Oe(ao,d._currentValue),d._currentValue=w,x!==null)if(Wt(x.value,w)){if(x.children===m.children&&!gt.current){o=xn(s,o,a);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var N=x.dependencies;if(N!==null){w=x.child;for(var j=N.firstContext;j!==null;){if(j.context===d){if(x.tag===1){j=gn(-1,a&-a),j.tag=2;var L=x.updateQueue;if(L!==null){L=L.shared;var V=L.pending;V===null?j.next=j:(j.next=V.next,V.next=j),L.pending=j}}x.lanes|=a,j=x.alternate,j!==null&&(j.lanes|=a),La(x.return,a,o),N.lanes|=a;break}j=j.next}}else if(x.tag===10)w=x.type===o.type?null:x.child;else if(x.tag===18){if(w=x.return,w===null)throw Error(t(341));w.lanes|=a,N=w.alternate,N!==null&&(N.lanes|=a),La(w,a,o),w=x.sibling}else w=x.child;if(w!==null)w.return=x;else for(w=x;w!==null;){if(w===o){w=null;break}if(x=w.sibling,x!==null){x.return=w.return,w=x;break}w=w.return}x=w}pt(s,o,m.children,a),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ur(o,a),m=Ft(m),d=d(m),o.flags|=1,pt(s,o,d,a),o.child;case 14:return d=o.type,m=Ut(d,o.pendingProps),m=Ut(d.type,m),eh(s,o,d,m,a);case 15:return th(s,o,o.type,o.pendingProps,a);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Ut(d,m),bo(s,o),o.tag=1,xt(d)?(s=!0,no(o)):s=!1,Ur(o,a),Yf(o,d,m),Ja(o,d,m,a),nc(null,o,d,!0,s,a);case 19:return ch(s,o,a);case 22:return nh(s,o,a)}throw Error(t(156,o.tag))};function Fh(s,o){return dd(s,o)}function cy(s,o,a,d){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(s,o,a,d){return new cy(s,o,a,d)}function _c(s){return s=s.prototype,!(!s||!s.isReactComponent)}function uy(s){if(typeof s=="function")return _c(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Z)return 11;if(s===we)return 14}return 2}function Wn(s,o){var a=s.alternate;return a===null?(a=Lt(s.tag,o,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=o,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&14680064,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,o=s.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a}function Oo(s,o,a,d,m,x){var w=2;if(d=s,typeof s=="function")_c(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case B:return cr(a.children,m,x,o);case F:w=8,m|=8;break;case W:return s=Lt(12,a,o,m|2),s.elementType=W,s.lanes=x,s;case he:return s=Lt(13,a,o,m),s.elementType=he,s.lanes=x,s;case Ee:return s=Lt(19,a,o,m),s.elementType=Ee,s.lanes=x,s;case me:return Fo(a,m,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case te:w=10;break e;case J:w=9;break e;case Z:w=11;break e;case we:w=14;break e;case ye:w=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Lt(w,a,o,m),o.elementType=s,o.type=d,o.lanes=x,o}function cr(s,o,a,d){return s=Lt(7,s,d,o),s.lanes=a,s}function Fo(s,o,a,d){return s=Lt(22,s,d,o),s.elementType=me,s.lanes=a,s.stateNode={isHidden:!1},s}function kc(s,o,a){return s=Lt(6,s,null,o),s.lanes=a,s}function Sc(s,o,a){return o=Lt(4,s.children!==null?s.children:[],s.key,o),o.lanes=a,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function dy(s,o,a,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Nc(s,o,a,d,m,x,w,N,j){return s=new dy(s,o,a,N,j),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Lt(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(x),s}function fy(s,o,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:d==null?null:""+d,children:s,containerInfo:o,implementation:a}}function Rh(s){if(!s)return Fn;s=s._reactInternals;e:{if(Gn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(xt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var a=s.type;if(xt(a))return af(s,a,o)}return o}function Ah(s,o,a,d,m,x,w,N,j){return s=Nc(a,d,!0,s,m,x,w,N,j),s.context=Rh(null),a=s.current,d=mt(),m=Bn(a),x=gn(d,m),x.callback=o??null,Ln(a,x,m),s.current.lanes=m,xs(s,m,d),wt(s,d),s}function Ro(s,o,a,d){var m=o.current,x=mt(),w=Bn(m);return a=Rh(a),o.context===null?o.context=a:o.pendingContext=a,o=gn(x,w),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ln(m,o,w),s!==null&&(qt(s,m,w,x),uo(s,m,w)),w}function Ao(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Lh(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<o?a:o}}function jc(s,o){Lh(s,o),(s=s.alternate)&&Lh(s,o)}function hy(){return null}var Ih=typeof reportError=="function"?reportError:function(s){console.error(s)};function Dc(s){this._internalRoot=s}Lo.prototype.render=Dc.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Ro(s,o,null,null)},Lo.prototype.unmount=Dc.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;or(function(){Ro(null,s,null,null)}),o[dn]=null}};function Lo(s){this._internalRoot=s}Lo.prototype.unstable_scheduleHydration=function(s){if(s){var o=vd();s={blockedOn:null,target:s,priority:o};for(var a=0;a<Cn.length&&o!==0&&o<Cn[a].priority;a++);Cn.splice(a,0,s),a===0&&_d(s)}};function Cc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Io(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function zh(){}function py(s,o,a,d,m){if(m){if(typeof d=="function"){var x=d;d=function(){var L=Ao(w);x.call(L)}}var w=Ah(o,d,s,0,null,!1,!1,"",zh);return s._reactRootContainer=w,s[dn]=w.current,Ms(s.nodeType===8?s.parentNode:s),or(),w}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var N=d;d=function(){var L=Ao(j);N.call(L)}}var j=Nc(s,0,!1,null,null,!1,!1,"",zh);return s._reactRootContainer=j,s[dn]=j.current,Ms(s.nodeType===8?s.parentNode:s),or(function(){Ro(o,j,a,d)}),j}function zo(s,o,a,d,m){var x=a._reactRootContainer;if(x){var w=x;if(typeof m=="function"){var N=m;m=function(){var j=Ao(w);N.call(j)}}Ro(o,w,s,m)}else w=py(a,o,s,m,d);return Ao(w)}xd=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var a=gs(o.pendingLanes);a!==0&&(Jl(o,a|1),wt(o,Ve()),(_e&6)===0&&(Xr=Ve()+500,Rn()))}break;case 13:or(function(){var d=mn(s,1);if(d!==null){var m=mt();qt(d,s,1,m)}}),jc(s,1)}},Zl=function(s){if(s.tag===13){var o=mn(s,134217728);if(o!==null){var a=mt();qt(o,s,134217728,a)}jc(s,134217728)}},yd=function(s){if(s.tag===13){var o=Bn(s),a=mn(s,o);if(a!==null){var d=mt();qt(a,s,o,d)}jc(s,o)}},vd=function(){return De},wd=function(s,o){var a=De;try{return De=s,o()}finally{De=a}},Vl=function(s,o,a){switch(o){case"input":if(Il(s,a),o=a.name,a.type==="radio"&&o!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var d=a[o];if(d!==s&&d.form===s.form){var m=eo(d);if(!m)throw Error(t(90));Uu(d),Il(d,m)}}}break;case"textarea":Xu(s,a);break;case"select":o=a.value,o!=null&&jr(s,!!a.multiple,o,!1)}},sd=vc,id=or;var my={usingClientEntryPoint:!1,Events:[Rs,Lr,eo,nd,rd,vc]},Qs={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gy={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=cd(s),s===null?null:s.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Ai=Po.inject(gy),Gt=Po}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my,bt.createPortal=function(s,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cc(o))throw Error(t(200));return fy(s,o,null,a)},bt.createRoot=function(s,o){if(!Cc(s))throw Error(t(299));var a=!1,d="",m=Ih;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Nc(s,1,!1,null,null,a,!1,d,m),s[dn]=o.current,Ms(s.nodeType===8?s.parentNode:s),new Dc(o)},bt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=cd(o),s=s===null?null:s.stateNode,s},bt.flushSync=function(s){return or(s)},bt.hydrate=function(s,o,a){if(!Io(o))throw Error(t(200));return zo(null,s,o,!0,a)},bt.hydrateRoot=function(s,o,a){if(!Cc(s))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,m=!1,x="",w=Ih;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),o=Ah(o,null,s,1,a??null,m,!1,x,w),s[dn]=o.current,Ms(s),d)for(s=0;s<d.length;s++)a=d[s],m=a._getVersion,m=m(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,m]:o.mutableSourceEagerHydrationData.push(a,m);return new Lo(o)},bt.render=function(s,o,a){if(!Io(o))throw Error(t(200));return zo(null,s,o,!1,a)},bt.unmountComponentAtNode=function(s){if(!Io(s))throw Error(t(40));return s._reactRootContainer?(or(function(){zo(null,null,s,!1,function(){s._reactRootContainer=null,s[dn]=null})}),!0):!1},bt.unstable_batchedUpdates=vc,bt.unstable_renderSubtreeIntoContainer=function(s,o,a,d){if(!Io(a))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return zo(s,o,a,!1,d)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var Yh;function jy(){if(Yh)return Mc.exports;Yh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mc.exports=Ny(),Mc.exports}var qh;function Dy(){if(qh)return Bo;qh=1;var n=jy();return Bo.createRoot=n.createRoot,Bo.hydrateRoot=n.hydrateRoot,Bo}var Cy=Dy();const Ty=Rm(Cy),Ey=({onClearCache:n})=>h.jsxs("header",{className:"bg-neutral-900 text-white p-4 shadow-md flex justify-between items-center border-b border-neutral-700",children:[h.jsx("div",{className:"flex items-center",children:h.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Mujica-0.24-ave"})}),h.jsx("div",{className:"flex items-center space-x-4",children:h.jsx("button",{onClick:n,disabled:!0,className:"bg-neutral-700 text-neutral-300 px-4 py-2 rounded-md text-sm font-medium hover:bg-neutral-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-neutral-900 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"清除缓存"})})]}),Qh={dayAhead:"日前预测"},Rc=["上海","福建","江苏","浙江","安徽"],My=({title:n,onSubmit:e,isLoading:t,provinces:r,initialParams:i={},className:l,activeTabKey:c="dayAhead"})=>{const u=()=>{const b=r&&r.length>0?r:Rc;return i&&i.province&&b.includes(i.province)?i.province:b.length>0?b[0]:""},[f,p]=G.useState({forecastType:"load",province:u(),forecastDate:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0],forecastEndDate:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0],historicalDays:15,interval:15,weatherAware:!1,weatherFeatures:["temperature","humidity","pressure","wind_speed","wind_direction","precipitation","solar_radiation"],weatherDataPath:"",weatherModelDir:"",...i,province:i&&i.province?i.province:u(),forecastType:(i==null?void 0:i.forecastType)||"load"});G.useEffect(()=>{const b=r&&r.length>0?r:Rc;p(_=>{let k=_.province;return i&&i.province&&b.includes(i.province)?k=i.province:b.includes(_.province)||(k=b.length>0?b[0]:""),{..._,...i,province:k,interval:(i==null?void 0:i.interval)||_.interval||15,forecastType:(i==null?void 0:i.forecastType)||_.forecastType||"load"}})},[i,r]);const g=b=>{const{name:_,value:k,type:S,checked:M}=b.target;p(I=>({...I,[_]:S==="checkbox"?M:S==="number"?parseInt(k,10):k}))},y=b=>{b.preventDefault();const _=f.forecastType==="net_load",k=_?"load":f.forecastType;e({...f,predictionType:"day-ahead",forecastType:k,calculateNetLoad:_})},v=r&&r.length>0?r:Rc;return h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl text-neutral-100 mb-6",children:n||`参数设置 - ${Qh[c]}`}),h.jsxs("form",{onSubmit:y,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`forecastType-${c}`,className:"block text-base font-medium text-neutral-300 mb-1",children:"预测类型"}),h.jsxs("select",{id:`forecastType-${c}`,name:"forecastType",value:f.forecastType,onChange:g,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"load",children:"电力负荷"}),h.jsx("option",{value:"pv",children:"光伏"}),h.jsx("option",{value:"wind",children:"风电"}),h.jsx("option",{value:"net_load",children:"净负荷 (负荷-光伏-风电)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`province-${c}`,className:"block text-base font-medium text-neutral-300 mb-1",children:"省份"}),h.jsx("select",{id:`province-${c}`,name:"province",value:f.province,onChange:g,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:v.map(b=>h.jsx("option",{value:b,children:b},b))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`forecastDate-${c}`,className:"block text-base font-medium text-neutral-300 mb-1",children:"预测开始日期"}),h.jsx("input",{type:"date",id:`forecastDate-${c}`,name:"forecastDate",value:f.forecastDate,onChange:g,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`forecastEndDate-${c}`,className:"block text-base font-medium text-neutral-300 mb-1",children:"预测结束日期"}),h.jsx("input",{type:"date",id:`forecastEndDate-${c}`,name:"forecastEndDate",value:f.forecastEndDate,min:f.forecastDate,onChange:g,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`historicalDays-${c}`,className:"block text-base font-medium text-neutral-300 mb-1",children:"历史数据天数 (1-30)"}),h.jsx("input",{type:"number",id:`historicalDays-${c}`,name:"historicalDays",value:f.historicalDays,onChange:g,min:"1",max:"30",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`interval-${c}`,className:"block text-base font-medium text-neutral-300 mb-1",children:"预测时间间隔 (分钟)"}),h.jsx("input",{type:"number",id:`interval-${c}`,name:"interval",value:f.interval,min:"15",step:"15",onChange:g,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),f.forecastType==="load"&&h.jsxs("div",{className:"bg-neutral-900 rounded-lg p-4 space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"checkbox",id:`weatherAware-${c}`,name:"weatherAware",checked:f.weatherAware,onChange:g,className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:`weatherAware-${c}`,className:"text-base font-medium text-neutral-300",children:"启用天气感知预测"})]}),f.weatherAware&&h.jsxs("div",{className:"space-y-4 pl-7",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"天气特征选择"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{key:"temperature",label:"温度"},{key:"humidity",label:"湿度"},{key:"pressure",label:"气压"},{key:"wind_speed",label:"风速"},{key:"wind_direction",label:"风向"},{key:"precipitation",label:"降水"},{key:"solar_radiation",label:"太阳辐射"}].map(b=>h.jsxs("label",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"checkbox",checked:f.weatherFeatures.includes(b.key),onChange:_=>{const k=_.target.checked;p(S=>({...S,weatherFeatures:k?[...S.weatherFeatures,b.key]:S.weatherFeatures.filter(M=>M!==b.key)}))},className:"h-3 w-3 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600"}),h.jsx("span",{className:"text-xs text-neutral-300",children:b.label})]},b.key))})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:`weatherDataPath-${c}`,className:"block text-sm font-medium text-neutral-300 mb-1",children:"天气数据路径 (可选)"}),h.jsx("input",{type:"text",id:`weatherDataPath-${c}`,name:"weatherDataPath",value:f.weatherDataPath,onChange:g,placeholder:"留空则自动构建",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`weatherModelDir-${c}`,className:"block text-sm font-medium text-neutral-300 mb-1",children:"天气模型目录 (可选)"}),h.jsx("input",{type:"text",id:`weatherModelDir-${c}`,name:"weatherModelDir",value:f.weatherModelDir,onChange:g,placeholder:"留空则自动构建",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm text-sm"})]})]})]})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{type:"submit",className:"btn-primary w-full md:w-auto",disabled:t,children:t?"预测中...":`开始${Qh[c]||"预测"}`})})]})]})},Oy=({availableProvinces:n,onSubmit:e,isLoading:t,initialParams:r})=>{var ye,me,K;const[i,l]=G.useState((r==null?void 0:r.forecastType)||"load"),[c,u]=G.useState((r==null?void 0:r.province)||(n&&n.length>0?n[0]:"")),[f,p]=G.useState((r==null?void 0:r.startDate)||"2024-03-01"),[g,y]=G.useState((r==null?void 0:r.endDate)||"2024-03-03"),[v,b]=G.useState((r==null?void 0:r.interval)||15),[_,k]=G.useState((r==null?void 0:r.historicalDays)||15),[S,M]=G.useState((r==null?void 0:r.realTimeAdjustment)||!1),[I,T]=G.useState((r==null?void 0:r.weatherAware)||!1),[A,E]=G.useState((r==null?void 0:r.weatherFeatures)||["temperature","humidity","pressure","wind_speed","wind_direction","precipitation","solar_radiation"]),[P,B]=G.useState((r==null?void 0:r.weatherDataPath)||""),[F,W]=G.useState((r==null?void 0:r.weatherModelDir)||""),[te,J]=G.useState((r==null?void 0:r.enablePidCorrection)||!1),[Z,he]=G.useState({pretrainDays:(r==null?void 0:r.pretrainDays)||3,windowSizeHours:(r==null?void 0:r.windowSizeHours)||72,enableAdaptation:(r==null?void 0:r.enableAdaptation)!==!1,initialKp:((ye=r==null?void 0:r.initialKp)==null?void 0:ye.toString())||"0.7",initialKi:((me=r==null?void 0:r.initialKi)==null?void 0:me.toString())||"0.05",initialKd:((K=r==null?void 0:r.initialKd)==null?void 0:K.toString())||"0.1"});G.useEffect(()=>{r!=null&&r.forecastType&&l(r.forecastType),r!=null&&r.province&&u(r.province),r!=null&&r.startDate&&p(r.startDate),r!=null&&r.endDate&&y(r.endDate),r!=null&&r.interval&&b(r.interval),r!=null&&r.historicalDays&&k(r.historicalDays),(r==null?void 0:r.realTimeAdjustment)!==void 0&&M(r.realTimeAdjustment),(r==null?void 0:r.enablePidCorrection)!==void 0&&J(r.enablePidCorrection),(r==null?void 0:r.weatherAware)!==void 0&&T(r.weatherAware),(r==null?void 0:r.weatherFeatures)!==void 0&&E(r.weatherFeatures),(r==null?void 0:r.weatherDataPath)!==void 0&&B(r.weatherDataPath),(r==null?void 0:r.weatherModelDir)!==void 0&&W(r.weatherModelDir)},[r]);const Ee=()=>{const q=i==="net_load",Q=q?"load":i,D={predictionType:"rolling",forecastType:Q,province:c,startDate:f,endDate:g,interval:v,historicalDays:_,realTimeAdjustment:S&&Q==="load",calculateNetLoad:q};if(I&&Q==="load"&&(D.weatherAware=!0,D.weatherFeatures=A,P&&(D.weatherDataPath=P),F&&(D.weatherModelDir=F)),te&&Q==="load"){D.enablePidCorrection=!0,D.pretrainDays=Z.pretrainDays,D.windowSizeHours=Z.windowSizeHours,D.enableAdaptation=Z.enableAdaptation;const H=parseFloat(Z.initialKp),ae=parseFloat(Z.initialKi),ce=parseFloat(Z.initialKd);D.initialKp=isNaN(H)?null:H,D.initialKi=isNaN(ae)?null:ae,D.initialKd=isNaN(ce)?null:ce}e(D)},we=()=>{const q=(Q,D)=>{he(H=>({...H,[Q]:D}))};return h.jsxs("div",{className:"bg-neutral-900 rounded-lg p-4 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"预训练天数"}),h.jsx("input",{type:"number",value:Z.pretrainDays,onChange:Q=>he(D=>({...D,pretrainDays:parseInt(Q.target.value)||1})),min:"1",max:"7",className:"w-full bg-neutral-700 border-neutral-600 text-neutral-100 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"}),h.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"用于收集初始误差数据"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"滑动窗口大小 (小时)"}),h.jsx("input",{type:"number",value:Z.windowSizeHours,onChange:Q=>he(D=>({...D,windowSizeHours:parseInt(Q.target.value)||24})),min:"24",max:"168",step:"24",className:"w-full bg-neutral-700 border-neutral-600 text-neutral-100 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500"}),h.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"误差分析的时间窗口"})]}),h.jsx("div",{className:"flex items-end",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"enable-adaptation",type:"checkbox",checked:Z.enableAdaptation,onChange:Q=>he(D=>({...D,enableAdaptation:Q.target.checked})),className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:"enable-adaptation",className:"ml-2 text-sm text-neutral-300",children:"启用自适应调整"})]})})]}),h.jsxs("div",{className:"border-t border-neutral-600 pt-4",children:[h.jsx("h4",{className:"text-sm font-medium text-neutral-300 mb-3",children:"初始PID参数设置"}),h.jsx("p",{className:"text-xs text-neutral-400 mb-2",children:"这些值将作为PID控制器自适应调整的起点。"}),h.jsx("div",{className:"mb-3",children:h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-neutral-400",children:"初始 Kp (比例)"}),h.jsx("input",{type:"number",value:Z.initialKp,onChange:Q=>q("initialKp",Q.target.value),min:"0.1",max:"2.0",step:"0.1",className:"w-full bg-neutral-700 border-neutral-600 text-neutral-100 text-sm rounded px-2 py-1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-neutral-400",children:"初始 Ki (积分)"}),h.jsx("input",{type:"number",value:Z.initialKi,onChange:Q=>q("initialKi",Q.target.value),min:"0.01",max:"0.5",step:"0.01",className:"w-full bg-neutral-700 border-neutral-600 text-neutral-100 text-sm rounded px-2 py-1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-neutral-400",children:"初始 Kd (微分)"}),h.jsx("input",{type:"number",value:Z.initialKd,onChange:Q=>q("initialKd",Q.target.value),min:"0.01",max:"0.5",step:"0.01",className:"w-full bg-neutral-700 border-neutral-600 text-neutral-100 text-sm rounded px-2 py-1"})]})]})})]})]})};return h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl text-neutral-100 mb-6",children:"滚动预测参数"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-forecastType",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测类型"}),h.jsxs("select",{id:"roll-forecastType",value:i,onChange:q=>{l(q.target.value),q.target.value!=="load"&&q.target.value!=="net_load"&&(M(!1),J(!1))},className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"load",children:"电力负荷"}),h.jsx("option",{value:"pv",children:"光伏发电"}),h.jsx("option",{value:"wind",children:"风电出力"}),h.jsx("option",{value:"net_load",children:"净负荷 (负荷-光伏-风电)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-province",className:"block text-base font-medium text-neutral-300 mb-1",children:"省份"}),h.jsxs("select",{id:"roll-province",value:c,onChange:q=>u(q.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[n&&n.map(q=>h.jsx("option",{value:q,children:q},q)),(!n||n.length===0)&&h.jsx("option",{value:"上海",children:"上海 (默认)"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-startDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"开始日期时间"}),h.jsx("input",{type:"date",id:"roll-startDate",value:f,max:g,onChange:q=>p(q.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-endDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"结束日期时间"}),h.jsx("input",{type:"date",id:"roll-endDate",value:g,min:f,onChange:q=>y(q.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-interval",className:"block text-base font-medium text-neutral-300 mb-1",children:"滚动间隔 (分钟)"}),h.jsx("input",{type:"number",id:"roll-interval",value:v,min:"15",step:"15",onChange:q=>b(parseInt(q.target.value,10)),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-historicalDays",className:"block text-base font-medium text-neutral-300 mb-1",children:"历史数据天数 (1-30)"}),h.jsx("input",{type:"number",id:"roll-historicalDays",value:_,min:"1",max:"30",onChange:q=>k(parseInt(q.target.value,10)),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),(i==="load"||i==="net_load")&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"roll-weatherAware",type:"checkbox",checked:I,onChange:q=>T(q.target.checked),disabled:i!=="load",className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:"roll-weatherAware",className:`ml-2 block text-base text-neutral-300 ${i!=="load"?"opacity-50 cursor-not-allowed":""}`,children:"启用天气感知预测"})]}),I&&i==="load"&&h.jsxs("div",{className:"bg-neutral-900 rounded-lg p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"天气特征选择"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{key:"temperature",label:"温度"},{key:"humidity",label:"湿度"},{key:"pressure",label:"气压"},{key:"wind_speed",label:"风速"},{key:"wind_direction",label:"风向"},{key:"precipitation",label:"降水"},{key:"solar_radiation",label:"太阳辐射"}].map(q=>h.jsxs("label",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"checkbox",checked:A.includes(q.key),onChange:Q=>{const D=Q.target.checked;E(H=>D?[...H,q.key]:H.filter(ae=>ae!==q.key))},className:"h-3 w-3 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600"}),h.jsx("span",{className:"text-xs text-neutral-300",children:q.label})]},q.key))})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-weatherDataPath",className:"block text-sm font-medium text-neutral-300 mb-1",children:"天气数据路径 (可选)"}),h.jsx("input",{type:"text",id:"roll-weatherDataPath",value:P,onChange:q=>B(q.target.value),placeholder:"留空则自动构建",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"roll-weatherModelDir",className:"block text-sm font-medium text-neutral-300 mb-1",children:"天气模型目录 (可选)"}),h.jsx("input",{type:"text",id:"roll-weatherModelDir",value:F,onChange:q=>W(q.target.value),placeholder:"留空则自动构建",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm text-sm"})]})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"roll-realTimeAdjustment",type:"checkbox",checked:S,onChange:q=>M(q.target.checked),disabled:i!=="load"&&i!=="net_load",className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:"roll-realTimeAdjustment",className:`ml-2 block text-base text-neutral-300 ${i!=="load"&&i!=="net_load"?"opacity-50 cursor-not-allowed":""}`,children:"启用实时校正 (简单)"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"roll-enablePidCorrection",type:"checkbox",checked:te,onChange:q=>J(q.target.checked),disabled:i!=="load",className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:"roll-enablePidCorrection",className:`ml-2 block text-base text-neutral-300 ${i!=="load"?"opacity-50 cursor-not-allowed":""}`,children:"启用PID误差修正 (高级)"})]}),te&&i==="load"&&h.jsx(we,{})]}),h.jsx("div",{children:h.jsx("button",{onClick:Ee,disabled:t,className:"btn-primary w-full md:w-auto",children:t?"正在滚动预测...":"开始滚动预测"})})]})]})};function Fy({availableProvinces:n,onSubmit:e,isLoading:t,initialParams:r,weatherScenario:i}){var p,g,y,v,b,_;const[l,c]=G.useState({forecast_type:(r==null?void 0:r.forecast_type)||"load",province:(r==null?void 0:r.province)||(n&&n.length>0?n[0]:""),forecast_date:(r==null?void 0:r.forecast_date)||"2024-03-01",forecast_end_date:(r==null?void 0:r.forecast_end_date)||"2024-03-01",confidence_level:(r==null?void 0:r.confidence_level)||.9,model_type:(r==null?void 0:r.model_type)||"peak_aware",historical_days:(r==null?void 0:r.historical_days)||14,interval_minutes:(r==null?void 0:r.interval)||15,force_refresh:(r==null?void 0:r.force_refresh)||!1,weather_aware:(r==null?void 0:r.weather_aware)||!1,renewable_enhanced:(r==null?void 0:r.renewable_enhanced)||!1,enable_renewable_prediction:(r==null?void 0:r.enable_renewable_prediction)!==!1});G.useEffect(()=>{r&&c(k=>({...k,...r.forecast_type&&{forecast_type:r.forecast_type},...r.province&&{province:r.province},...r.forecast_date&&{forecast_date:r.forecast_date},...r.forecast_end_date&&{forecast_end_date:r.forecast_end_date},...r.confidence_level&&{confidence_level:r.confidence_level},...r.model_type&&{model_type:r.model_type},...r.historical_days&&{historical_days:r.historical_days},...r.interval&&{interval_minutes:r.interval},...r.force_refresh!==void 0&&{force_refresh:r.force_refresh},...r.weather_aware!==void 0&&{weather_aware:r.weather_aware},...r.renewable_enhanced!==void 0&&{renewable_enhanced:r.renewable_enhanced},...r.enable_renewable_prediction!==void 0&&{enable_renewable_prediction:r.enable_renewable_prediction}}))},[r]);const u=k=>{k.preventDefault(),e({predictionType:"day-ahead",forecastType:l.forecast_type,province:l.province,forecastDate:l.forecast_date,forecastEndDate:l.forecast_end_date,confidenceLevel:l.confidence_level,modelType:l.model_type,historicalDays:l.historical_days,interval:l.interval_minutes,interval_forecast:!0,force_refresh:l.force_refresh,weather_aware:l.weather_aware,renewable_enhanced:l.renewable_enhanced,enable_renewable_prediction:l.enable_renewable_prediction})},f=k=>{const{name:S,value:M,type:I,checked:T}=k.target;c({...l,[S]:I==="checkbox"?T:M})};return h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl text-neutral-100 mb-6",children:"参数设置 - 区间预测"}),i&&l.forecast_type==="load"&&h.jsxs("div",{className:"mb-6 p-4 bg-neutral-700 rounded-lg",children:[h.jsx("h3",{className:"text-lg font-medium text-neutral-100 mb-3",children:"天气场景分析"}),i.error?h.jsxs("p",{className:"text-red-400",children:["天气场景分析失败: ",i.error]}):h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-neutral-300",children:[h.jsx("span",{className:"font-medium",children:"场景类型:"})," ",i.scenario_type]}),h.jsxs("p",{className:"text-neutral-300",children:[h.jsx("span",{className:"font-medium",children:"平均温度:"})," ",(p=i.temperature_mean)==null?void 0:p.toFixed(1),"°C"]}),h.jsxs("p",{className:"text-neutral-300",children:[h.jsx("span",{className:"font-medium",children:"温度范围:"})," ",(g=i.temperature_min)==null?void 0:g.toFixed(1),"°C - ",(y=i.temperature_max)==null?void 0:y.toFixed(1),"°C"]})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-neutral-300",children:[h.jsx("span",{className:"font-medium",children:"平均湿度:"})," ",(v=i.humidity_mean)==null?void 0:v.toFixed(1),"%"]}),h.jsxs("p",{className:"text-neutral-300",children:[h.jsx("span",{className:"font-medium",children:"平均风速:"})," ",(b=i.wind_speed_mean)==null?void 0:b.toFixed(1)," m/s"]}),h.jsxs("p",{className:"text-neutral-300",children:[h.jsx("span",{className:"font-medium",children:"累计降水:"})," ",(_=i.precipitation_sum)==null?void 0:_.toFixed(1)," mm"]})]})]})]}),h.jsxs("form",{onSubmit:u,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-forecastType",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测类型"}),h.jsxs("select",{id:"interval-forecastType",name:"forecast_type",value:l.forecast_type,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"load",children:"电力负荷"}),h.jsx("option",{value:"pv",children:"光伏发电"}),h.jsx("option",{value:"wind",children:"风电出力"}),h.jsx("option",{value:"net_load",children:"净负荷 (负荷-光伏-风电)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-province",className:"block text-base font-medium text-neutral-300 mb-1",children:"省份"}),h.jsxs("select",{id:"interval-province",name:"province",value:l.province,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[n&&n.map(k=>h.jsx("option",{value:k,children:k},k)),(!n||n.length===0)&&h.jsx("option",{value:"上海",children:"上海 (默认)"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-startDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测开始日期"}),h.jsx("input",{type:"date",id:"interval-startDate",name:"forecast_date",value:l.forecast_date,max:l.forecast_end_date,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-endDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测结束日期"}),h.jsx("input",{type:"date",id:"interval-endDate",name:"forecast_end_date",value:l.forecast_end_date,min:l.forecast_date,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-confidence",className:"block text-base font-medium text-neutral-300 mb-1",children:"置信水平 (0.5-0.99)"}),h.jsx("input",{type:"number",id:"interval-confidence",name:"confidence_level",value:l.confidence_level,min:"0.5",max:"0.99",step:"0.01",onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-modelType",className:"block text-base font-medium text-neutral-300 mb-1",children:"模型类型"}),h.jsxs("select",{id:"interval-modelType",name:"model_type",value:l.model_type,onChange:f,title:"区间预测推荐使用 peak_aware 模型，statistical 模型用于简单基准。",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"peak_aware",children:"峰谷感知模型 (推荐)"}),h.jsx("option",{value:"statistical",children:"统计模型 (基准)"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-historicalDays",className:"block text-base font-medium text-neutral-300 mb-1",children:"历史数据天数 (1-30)"}),h.jsx("input",{type:"number",id:"interval-historicalDays",name:"historical_days",value:l.historical_days,min:"1",max:"30",onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interval-intervalMinutes",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测时间间隔 (分钟)"}),h.jsx("input",{type:"number",id:"interval-intervalMinutes",name:"interval_minutes",value:l.interval_minutes,min:"15",step:"15",onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"interval-weatherAware",name:"weather_aware",checked:l.weather_aware,onChange:f,disabled:l.forecast_type!=="load",className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"}),h.jsx("label",{htmlFor:"interval-weatherAware",className:"ml-2 block text-base text-neutral-300",children:"启用天气感知"}),l.forecast_type!=="load"&&h.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(仅支持负荷)"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"interval-forceRefresh",name:"force_refresh",checked:l.force_refresh,onChange:f,className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),h.jsx("label",{htmlFor:"interval-forceRefresh",className:"ml-2 block text-base text-neutral-300",children:"强制刷新"})]})]}),h.jsxs("div",{className:"border-t border-neutral-600 pt-6",children:[h.jsx("h3",{className:"text-lg font-medium text-neutral-200 mb-4",children:"可再生能源增强预测 (实验性功能)"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"interval-renewableEnhanced",name:"renewable_enhanced",checked:l.renewable_enhanced,onChange:f,disabled:l.forecast_type!=="load",className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"}),h.jsx("label",{htmlFor:"interval-renewableEnhanced",className:"ml-2 block text-base text-neutral-300",children:"启用可再生能源增强区间预测"}),l.forecast_type!=="load"&&h.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(仅支持负荷)"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"interval-enableRenewablePrediction",name:"enable_renewable_prediction",checked:l.enable_renewable_prediction,onChange:f,disabled:!l.renewable_enhanced,className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"}),h.jsx("label",{htmlFor:"interval-enableRenewablePrediction",className:"ml-2 block text-base text-neutral-300",children:"启用新能源出力预测"}),!l.renewable_enhanced&&h.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(需先启用增强预测)"})]})]}),l.renewable_enhanced&&h.jsxs("div",{className:"mt-4 p-4 bg-neutral-700 rounded-lg",children:[h.jsx("h4",{className:"text-base font-medium text-neutral-200 mb-2",children:"功能说明"}),h.jsxs("ul",{className:"text-sm text-neutral-300 space-y-1",children:[h.jsx("li",{children:"• 集成光伏和风电出力预测，识别新能源高出力时段"}),h.jsx("li",{children:"• 基于天气条件和新能源状态进行增强场景识别"}),h.jsx("li",{children:"• 动态调整预测区间以反映新能源不确定性影响"}),h.jsx("li",{children:"• 提供综合风险等级评估和系统影响分析"})]}),h.jsx("p",{className:"text-xs text-amber-400 mt-2",children:"注意：此功能需要训练好的光伏和风电模型，如模型不可用将自动降级为标准区间预测"})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:t,className:"btn-primary w-full md:w-auto",children:t?"正在预测...":"开始区间预测"})})]})]})}const Ry=[.05,.1,.25,.5,.75,.9,.95];function Ay({availableProvinces:n,onSubmit:e,isLoading:t,initialParams:r}){const[i,l]=G.useState((r==null?void 0:r.forecastType)||"load"),[c,u]=G.useState((r==null?void 0:r.province)||(n&&n.length>0?n[0]:""));new Date().toISOString().split("T")[0];const[f,p]=G.useState((r==null?void 0:r.forecastDate)||"2024-03-01"),[g,y]=G.useState((r==null?void 0:r.quantiles)||[.1,.5,.9]),[v,b]=G.useState((r==null?void 0:r.historicalDays)||15),[_,k]=G.useState((r==null?void 0:r.interval)||15),[S,M]=G.useState("torch");G.useEffect(()=>{r&&(r.forecastType&&l(r.forecastType),r.province&&u(r.province),r.forecastDate&&p(r.forecastDate),r.quantiles&&y(r.quantiles),r.historicalDays&&b(r.historicalDays),r.interval&&k(r.interval))},[r]);const I=A=>{y(E=>E.includes(A)?E.filter(P=>P!==A):[...E,A])},T=A=>{if(A.preventDefault(),g.length===0){alert("请至少选择一个分位数。");return}e({predictionType:"day-ahead",forecastType:i,province:c,forecastDate:f,quantiles:g.sort((E,P)=>E-P),historicalDays:v,interval:_,probabilistic:!0,modelType:S})};return h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl text-neutral-100 mb-6",children:"参数设置 - 概率预测"}),h.jsxs("form",{onSubmit:T,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prob-forecastType",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测类型"}),h.jsxs("select",{id:"prob-forecastType",value:i,onChange:A=>l(A.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"load",children:"电力负荷"}),h.jsx("option",{value:"pv",children:"光伏发电"}),h.jsx("option",{value:"wind",children:"风电出力"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prob-province",className:"block text-base font-medium text-neutral-300 mb-1",children:"省份"}),h.jsxs("select",{id:"prob-province",value:c,onChange:A=>u(A.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[n&&n.map(A=>h.jsx("option",{value:A,children:A},A)),(!n||n.length===0)&&h.jsx("option",{value:"上海",children:"上海 (默认)"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prob-forecastDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测日期"}),h.jsx("input",{type:"date",id:"prob-forecastDate",value:f,onChange:A=>p(A.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prob-historicalDays",className:"block text-base font-medium text-neutral-300 mb-1",children:"历史数据天数 (1-30)"}),h.jsx("input",{type:"number",id:"prob-historicalDays",value:v,min:"1",max:"30",onChange:A=>b(parseInt(A.target.value,10)),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prob-interval",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测时间间隔 (分钟)"}),h.jsx("input",{type:"number",id:"prob-interval",value:_,min:"15",step:"15",onChange:A=>k(parseInt(A.target.value,10)),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"prob-modelType",className:"block text-base font-medium text-neutral-300 mb-1",children:"模型类型"}),h.jsxs("select",{id:"prob-modelType",value:S,onChange:A=>M(A.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"torch",children:"Torch (推荐)"}),h.jsx("option",{value:"keras",children:"Keras"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-base font-medium text-neutral-300 mb-2",children:"选择分位数 (Quantiles)"}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-7 gap-3",children:Ry.map(A=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:`quantile-${A}`,type:"checkbox",checked:g.includes(A),onChange:()=>I(A),className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:`quantile-${A}`,className:"ml-2 text-base text-neutral-300 relative",style:{bottom:"5px"},children:A.toFixed(2)})]},A))})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:t||g.length===0,className:"btn-primary w-full md:w-auto",title:g.length===0?"请至少选择一个分位数":"开始概率预测",children:t?"正在预测...":"开始概率预测"})})]})]})}const Ly=({availableProvinces:n,onSubmit:e,isLoading:t,initialParams:r})=>{const[i,l]=G.useState((r==null?void 0:r.province)||(n&&n.length>0?n[0]:"")),[c,u]=G.useState((r==null?void 0:r.forecastDate)||"2024-03-01"),[f,p]=G.useState((r==null?void 0:r.force_refresh)||!1);G.useEffect(()=>{r!=null&&r.province&&l(r.province),r!=null&&r.forecastDate&&u(r.forecastDate),(r==null?void 0:r.force_refresh)!==void 0&&p(r.force_refresh)},[r]);const g=y=>{y.preventDefault(),e({province:i,date:c})};return h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl text-neutral-100 mb-6",children:"参数设置 - 场景识别"}),h.jsxs("form",{onSubmit:g,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"scenario-province",className:"block text-base font-medium text-neutral-300 mb-1",children:"省份"}),h.jsxs("select",{id:"scenario-province",value:i,onChange:y=>l(y.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[n&&n.map(y=>h.jsx("option",{value:y,children:y},y)),(!n||n.length===0)&&h.jsx("option",{value:"上海",children:"上海 (默认)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"scenario-forecastDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测日期 (用于场景识别)"}),h.jsx("input",{type:"date",id:"scenario-forecastDate",value:c,onChange:y=>u(y.target.value),className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{type:"submit",disabled:t,className:"btn-primary w-full md:w-auto",children:t?"正在识别...":"识别场景"})})]})]})};function Iy({availableProvinces:n,onSubmit:e,isLoading:t,initialParams:r}){const[i,l]=G.useState({forecast_type:(r==null?void 0:r.forecast_type)||"load",province:(r==null?void 0:r.province)||(n&&n.length>0?n[0]:""),train_start:(r==null?void 0:r.train_start)||"2024-01-01",train_end:(r==null?void 0:r.train_end)||"2024-02-28",epochs:(r==null?void 0:r.epochs)||100,batch_size:(r==null?void 0:r.batch_size)||32,learning_rate:(r==null?void 0:r.learning_rate)||.001,train_prediction_type:(r==null?void 0:r.train_prediction_type)||"deterministic",retrain:(r==null?void 0:r.retrain)||!1,peak_aware:(r==null?void 0:r.peak_aware)||!1,peak_start:(r==null?void 0:r.peak_start)||0,peak_end:(r==null?void 0:r.peak_end)||0,valley_start:(r==null?void 0:r.valley_start)||0,valley_end:(r==null?void 0:r.valley_end)||0,peak_weight:(r==null?void 0:r.peak_weight)||1,valley_weight:(r==null?void 0:r.valley_weight)||1,historical_days:(r==null?void 0:r.historical_days)||1,weather_aware:(r==null?void 0:r.weather_aware)||!1}),c=new Date().toISOString().split("T")[0],u=p=>{p.preventDefault(),e(i)},f=p=>{const{name:g,type:y,checked:v,value:b}=p.target;l(_=>({..._,[g]:y==="checkbox"?v:b}))};return h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl text-neutral-100 mb-6",children:"参数设置 - 模型训练"}),h.jsxs("form",{onSubmit:u,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-forecastType",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测类型"}),h.jsxs("select",{id:"train-forecastType",name:"forecast_type",value:i.forecast_type,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"load",children:"电力负荷"}),h.jsx("option",{value:"pv",children:"光伏发电"}),h.jsx("option",{value:"wind",children:"风电出力"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-province",className:"block text-base font-medium text-neutral-300 mb-1",children:"省份"}),h.jsxs("select",{id:"train-province",name:"province",value:i.province,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[n&&n.map(p=>h.jsx("option",{value:p,children:p},p)),(!n||n.length===0)&&h.jsx("option",{value:"上海",children:"上海 (默认)"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-trainStartDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"训练开始日期"}),h.jsx("input",{type:"date",id:"train-trainStartDate",name:"train_start",value:i.train_start,max:i.train_end,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-trainEndDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"训练结束日期"}),h.jsx("input",{type:"date",id:"train-trainEndDate",name:"train_end",value:i.train_end,min:i.train_start,max:c,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-epochs",className:"block text-base font-medium text-neutral-300 mb-1",children:"训练轮数 (Epochs)"}),h.jsx("input",{type:"number",id:"train-epochs",name:"epochs",value:i.epochs,min:"1",onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-batchSize",className:"block text-base font-medium text-neutral-300 mb-1",children:"批处理大小 (Batch Size)"}),h.jsx("input",{type:"number",id:"train-batchSize",name:"batch_size",value:i.batch_size,min:"16",step:"16",onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-learningRate",className:"block text-base font-medium text-neutral-300 mb-1",children:"学习率"}),h.jsx("input",{type:"number",id:"train-learningRate",name:"learning_rate",value:i.learning_rate,min:"0.00001",max:"0.1",step:"0.00001",onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-historicalDays",className:"block text-base font-medium text-neutral-300 mb-1",children:"历史数据天数 (特征工程)"}),h.jsx("input",{type:"number",id:"train-historicalDays",name:"historical_days",value:i.historical_days,min:"1",max:"30",onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-trainPredictionType",className:"block text-base font-medium text-neutral-300 mb-1",children:"训练目标类型"}),h.jsxs("select",{id:"train-trainPredictionType",name:"train_prediction_type",value:i.train_prediction_type,onChange:f,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"deterministic",children:"确定性预测"}),h.jsx("option",{value:"probabilistic",children:"概率性预测"})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"train-retrain",type:"checkbox",name:"retrain",checked:i.retrain,onChange:f,className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:"train-retrain",className:"ml-2 text-base text-neutral-300",children:"重新训练 (覆盖现有模型)"})]}),i.forecast_type==="load"&&i.train_prediction_type==="deterministic"&&h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"train-peakAware",type:"checkbox",name:"peak_aware",checked:i.peak_aware,onChange:f,className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsx("label",{htmlFor:"train-peakAware",className:"ml-2 text-base text-neutral-300",children:"启用峰谷感知 (仅负荷确定性)"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"train-weatherAware",type:"checkbox",name:"weather_aware",checked:i.weather_aware,onChange:f,className:"h-4 w-4 text-red-500 border-neutral-600 rounded bg-neutral-700 focus:ring-red-600 focus:ring-offset-neutral-800"}),h.jsxs("label",{htmlFor:"train-weatherAware",className:"ml-2 text-base text-neutral-300",children:["启用天气感知训练 (使用天气数据增强",i.forecast_type==="load"?"负荷":i.forecast_type==="pv"?"光伏":"风电","预测)"]})]}),i.weather_aware&&h.jsxs("div",{className:"bg-neutral-750 p-4 rounded-md border border-neutral-600",children:[h.jsx("p",{className:"text-sm text-neutral-400 mb-2",children:h.jsx("strong",{children:"天气感知训练说明："})}),h.jsxs("ul",{className:"text-sm text-neutral-400 space-y-1 list-disc list-inside",children:[i.forecast_type==="load"&&h.jsxs(h.Fragment,{children:[h.jsx("li",{children:"将使用集成的天气负荷数据进行训练"}),h.jsx("li",{children:"包含温度、湿度、风速、降水等气象特征"}),h.jsx("li",{children:"自动计算供暖度日(HDD)和制冷度日(CDD)"}),h.jsx("li",{children:"提升模型对天气变化的敏感性和预测准确性"})]}),i.forecast_type==="pv"&&h.jsxs(h.Fragment,{children:[h.jsx("li",{children:"将使用集成的天气光伏数据进行训练"}),h.jsx("li",{children:"重点关注温度、湿度、降水、露点等影响光伏发电的因素"}),h.jsx("li",{children:"自动识别光照强度和云层覆盖对发电的影响"}),h.jsx("li",{children:"提高光伏发电量预测在不同天气条件下的准确性"})]}),i.forecast_type==="wind"&&h.jsxs(h.Fragment,{children:[h.jsx("li",{children:"将使用集成的天气风电数据进行训练"}),h.jsx("li",{children:"重点关注风速、风向、温度、湿度等影响风电的因素"}),h.jsx("li",{children:"捕捉风速变化模式和大气稳定性对发电的影响"}),h.jsx("li",{children:"提升风电出力预测在复杂气象条件下的精度"})]}),h.jsx("li",{children:"支持确定性和概率性预测"}),h.jsx("li",{children:"采用与传统训练一致的模型架构，确保兼容性"})]})]})]}),i.peak_aware&&i.forecast_type==="load"&&i.train_prediction_type==="deterministic"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-peakStart",className:"block text-base font-medium text-neutral-300 mb-1",children:"峰时段开始 (小时)"}),h.jsx("input",{type:"number",id:"train-peakStart",name:"peak_start",value:i.peak_start,onChange:f,min:"0",max:"23",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-peakEnd",className:"block text-base font-medium text-neutral-300 mb-1",children:"峰时段结束 (小时)"}),h.jsx("input",{type:"number",id:"train-peakEnd",name:"peak_end",value:i.peak_end,onChange:f,min:"0",max:"23",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-valleyStart",className:"block text-base font-medium text-neutral-300 mb-1",children:"谷时段开始 (小时)"}),h.jsx("input",{type:"number",id:"train-valleyStart",name:"valley_start",value:i.valley_start,onChange:f,min:"0",max:"23",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-valleyEnd",className:"block text-base font-medium text-neutral-300 mb-1",children:"谷时段结束 (小时)"}),h.jsx("input",{type:"number",id:"train-valleyEnd",name:"valley_end",value:i.valley_end,onChange:f,min:"0",max:"23",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-peakWeight",className:"block text-base font-medium text-neutral-300 mb-1",children:"峰时段损失权重"}),h.jsx("input",{type:"number",id:"train-peakWeight",name:"peak_weight",value:i.peak_weight,onChange:f,step:"0.1",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"train-valleyWeight",className:"block text-base font-medium text-neutral-300 mb-1",children:"谷时段损失权重"}),h.jsx("input",{type:"number",id:"train-valleyWeight",name:"valley_weight",value:i.valley_weight,onChange:f,step:"0.1",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]})]})]}),h.jsxs("div",{className:"flex flex-col space-y-4 pt-4",children:[h.jsx("div",{className:"flex space-x-4",children:h.jsx("button",{type:"submit",disabled:t,className:"btn-primary w-full md:w-auto",children:t?"正在训练...":`训练${i.forecast_type==="load"?"负荷":i.forecast_type==="pv"?"光伏":"风电"}模型${i.weather_aware?" (天气感知)":""}`})}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("button",{type:"button",disabled:t,onClick:()=>{(async()=>{const g=["load","pv","wind"],y={...i,weather_aware:!1};for(let v=0;v<g.length;v++){const b=g[v];try{const _={...y,forecast_type:b};console.log(`开始训练${b}传统模型...`);const k=await e(_);v<g.length-1&&(console.log(`${b}传统模型训练任务已提交，等待5秒后继续训练下一个模型...`),await new Promise(S=>setTimeout(S,5e3)))}catch(_){console.error(`训练${b}传统模型时出错:`,_)}}console.log("所有传统模型训练任务已提交完成")})()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full md:w-auto",children:t?"训练进行中...":"一键训练所有传统模型"}),h.jsx("button",{type:"button",disabled:t,onClick:()=>{(async()=>{const g=["load","pv","wind"],y={...i,weather_aware:!0};for(let v=0;v<g.length;v++){const b=g[v];try{const _={...y,forecast_type:b};console.log(`开始训练${b}天气感知模型...`);const k=await e(_);v<g.length-1&&(console.log(`${b}天气感知模型训练任务已提交，等待8秒后继续训练下一个模型...`),await new Promise(S=>setTimeout(S,8e3)))}catch(_){console.error(`训练${b}天气感知模型时出错:`,_)}}console.log("所有天气感知模型训练任务已提交完成")})()},className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded w-full md:w-auto",children:t?"训练进行中...":"一键训练所有天气感知模型"})]}),h.jsx("div",{className:"flex space-x-4",children:h.jsx("button",{type:"button",disabled:t,onClick:()=>{(async()=>{const g=["load","pv","wind"],y=[{weather_aware:!1,name:"传统"},{weather_aware:!0,name:"天气感知"}];for(let v=0;v<y.length;v++){const b=y[v];console.log(`开始训练${b.name}模型组...`);for(let _=0;_<g.length;_++){const k=g[_];try{const S={...i,forecast_type:k,weather_aware:b.weather_aware};console.log(`开始训练${k}${b.name}模型...`);const M=await e(S),I=b.weather_aware?8e3:5e3;v===y.length-1&&_===g.length-1||(console.log(`${k}${b.name}模型训练任务已提交，等待${I/1e3}秒后继续...`),await new Promise(T=>setTimeout(T,I)))}catch(S){console.error(`训练${k}${b.name}模型时出错:`,S)}}}console.log("所有模型训练任务已提交完成（传统+天气感知）")})()},className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded w-full md:w-auto",children:t?"训练进行中...":"一键训练全部模型 (传统+天气感知)"})})]})]})]})}function zy({availableProvinces:n,onSubmit:e,isLoading:t,initialParams:r}){const[i,l]=G.useState({forecast_type:(r==null?void 0:r.forecast_type)||"load",province:(r==null?void 0:r.province)||(n&&n.length>0?n[0]:""),start_date:(r==null?void 0:r.start_date)||"2024-01-01",end_date:(r==null?void 0:r.end_date)||"2024-03-31",prediction_type:(r==null?void 0:r.prediction_type)||"all",model_type:(r==null?void 0:r.model_type)||"all",year:(r==null?void 0:r.year)||""});G.useEffect(()=>{const f={};r!=null&&r.forecast_type&&(f.forecast_type=r.forecast_type),r!=null&&r.province&&(f.province=r.province),r!=null&&r.start_date&&(f.start_date=r.start_date),r!=null&&r.end_date&&(f.end_date=r.end_date),r!=null&&r.prediction_type&&(f.prediction_type=r.prediction_type),r!=null&&r.model_type&&(f.model_type=r.model_type),r!=null&&r.year&&(f.year=r.year),Object.keys(f).length>0&&l(p=>({...p,...f}))},[r]);const c=f=>{f.preventDefault(),e({forecastType:i.forecast_type,province:i.province,startDate:i.year?"":i.start_date,endDate:i.year?"":i.end_date,predictionType:i.prediction_type,modelType:i.year?"convtrans_peak":i.model_type,year:i.year})},u=f=>{const{name:p,value:g}=f.target;l({...i,[p]:g})};return h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl text-neutral-100 mb-6",children:"历史结果查询"}),h.jsxs("form",{onSubmit:c,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"historical-forecastType",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测类型 (Target Type)"}),h.jsxs("select",{id:"historical-forecastType",name:"forecast_type",value:i.forecast_type,onChange:u,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"load",children:"电力负荷"}),h.jsx("option",{value:"pv",children:"光伏发电"}),h.jsx("option",{value:"wind",children:"风电出力"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"historical-province",className:"block text-base font-medium text-neutral-300 mb-1",children:"省份 (Province)"}),h.jsxs("select",{id:"historical-province",name:"province",value:i.province,onChange:u,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[n&&n.map(f=>h.jsx("option",{value:f,children:f},f)),(!n||n.length===0)&&h.jsx("option",{value:"上海",children:"上海 (默认)"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"historical-year",className:"block text-base font-medium text-neutral-300 mb-1",children:"年份 (Year - for yearly CSV)"}),h.jsx("input",{type:"text",id:"historical-year",name:"year",value:i.year,onChange:u,placeholder:"例如: 2023 (优先于日期范围)",className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm"})]}),h.jsx("div",{})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"historical-startDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"开始日期 (Start Date - if Year not set)"}),h.jsx("input",{type:"date",id:"historical-startDate",name:"start_date",value:i.start_date,max:i.end_date,onChange:u,disabled:!!i.year,className:`mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm ${i.year?"opacity-50 cursor-not-allowed":""}`})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"historical-endDate",className:"block text-base font-medium text-neutral-300 mb-1",children:"结束日期 (End Date - if Year not set)"}),h.jsx("input",{type:"date",id:"historical-endDate",name:"end_date",value:i.end_date,min:i.start_date,onChange:u,disabled:!!i.year,className:`mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm ${i.year?"opacity-50 cursor-not-allowed":""}`})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"historical-predictionType",className:"block text-base font-medium text-neutral-300 mb-1",children:"预测方式 (Prediction Method)"}),h.jsxs("select",{id:"historical-predictionType",name:"prediction_type",value:i.prediction_type,onChange:u,className:"mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm",children:[h.jsx("option",{value:"all",children:"全部"}),h.jsx("option",{value:"day-ahead",children:"日前预测"}),h.jsx("option",{value:"rolling",children:"滚动预测"}),h.jsx("option",{value:"interval",children:"区间预测"}),h.jsx("option",{value:"probabilistic",children:"概率预测"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"historical-modelType",className:"block text-base font-medium text-neutral-300 mb-1",children:"模型类型 (Model Type - if Year not set)"}),h.jsxs("select",{id:"historical-modelType",name:"model_type",value:i.model_type,onChange:u,disabled:!!i.year,className:`mt-1 block w-full bg-neutral-700 border-neutral-600 text-neutral-100 focus:ring-red-500 focus:border-red-500 rounded-md shadow-sm ${i.year?"opacity-50 cursor-not-allowed":""}`,children:[h.jsx("option",{value:"all",children:"全部"}),h.jsx("option",{value:"torch",children:"PyTorch"}),h.jsx("option",{value:"peak_aware",children:"峰值感知"}),h.jsx("option",{value:"statistical",children:"统计模型"})]}),i.year&&h.jsx("p",{className:"mt-1 text-xs text-neutral-400",children:"(年度CSV查询时固定为 convtrans_peak)"})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:t,className:"btn-primary w-full md:w-auto",children:t?"正在查询...":"查询历史结果"})})]})]})}const Py=()=>{const[n,e]=G.useState({province:"上海",forecastType:"load",forecastDate:new Date(Date.now()+864e5).toISOString().split("T")[0],forecastEndDate:"",confidenceLevel:.9,historicalDays:14,includeExplanations:!0}),[t,r]=G.useState(!1),[i,l]=G.useState(null),[c,u]=G.useState(null),f=["上海","安徽","浙江","江苏","福建"],p=[{value:"load",label:"负荷"},{value:"pv",label:"光伏"},{value:"wind",label:"风电"},{value:"net_load",label:"净负荷"}],g=_=>{const{name:k,value:S,type:M,checked:I}=_.target;e({...n,[k]:M==="checkbox"?I:S})},y=async _=>{_.preventDefault(),r(!0),u(null),l(null);try{const k=await fetch("/api/scenario-aware-uncertainty-forecast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!k.ok)throw new Error(`HTTP错误: ${k.status}`);const S=await k.json();if(!S.success)throw new Error(S.error||"预测失败");l(S.data)}catch(k){console.error("场景感知不确定性预测失败:",k),u(k.message)}finally{r(!1)}},v=_=>_?new Date(_).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",b=_=>{switch(_){case"high":return"bg-red-700 text-white";case"medium":return"bg-yellow-600 text-white";case"low":return"bg-green-700 text-white";default:return"bg-gray-600 text-white"}};return h.jsxs("div",{className:"container mx-auto px-4 py-6",children:[h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6 mb-6",children:[h.jsx("h2",{className:"text-xl font-medium text-neutral-100 mb-4",children:"场景感知不确定性预测参数设置"}),h.jsxs("form",{onSubmit:y,children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"省份"}),h.jsx("select",{name:"province",value:n.province,onChange:g,className:"w-full bg-neutral-700 border border-neutral-600 rounded-md py-2 px-3 text-neutral-100 focus:outline-none focus:ring-2 focus:ring-red-500",children:f.map(_=>h.jsx("option",{value:_,children:_},_))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"预测类型"}),h.jsx("select",{name:"forecastType",value:n.forecastType,onChange:g,className:"w-full bg-neutral-700 border border-neutral-600 rounded-md py-2 px-3 text-neutral-100 focus:outline-none focus:ring-2 focus:ring-red-500",children:p.map(_=>h.jsx("option",{value:_.value,children:_.label},_.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"预测日期"}),h.jsx("input",{type:"date",name:"forecastDate",value:n.forecastDate,onChange:g,className:"w-full bg-neutral-700 border border-neutral-600 rounded-md py-2 px-3 text-neutral-100 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"结束日期 (可选)"}),h.jsx("input",{type:"date",name:"forecastEndDate",value:n.forecastEndDate,onChange:g,className:"w-full bg-neutral-700 border border-neutral-600 rounded-md py-2 px-3 text-neutral-100 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"置信水平"}),h.jsxs("select",{name:"confidenceLevel",value:n.confidenceLevel,onChange:g,className:"w-full bg-neutral-700 border border-neutral-600 rounded-md py-2 px-3 text-neutral-100 focus:outline-none focus:ring-2 focus:ring-red-500",children:[h.jsx("option",{value:"0.8",children:"80%"}),h.jsx("option",{value:"0.9",children:"90%"}),h.jsx("option",{value:"0.95",children:"95%"}),h.jsx("option",{value:"0.99",children:"99%"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-1",children:"历史数据天数"}),h.jsx("input",{type:"number",name:"historicalDays",value:n.historicalDays,onChange:g,min:"1",max:"30",className:"w-full bg-neutral-700 border border-neutral-600 rounded-md py-2 px-3 text-neutral-100 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",name:"includeExplanations",checked:n.includeExplanations,onChange:g,id:"includeExplanations",className:"h-4 w-4 text-red-600 focus:ring-red-500 border-neutral-500 rounded"}),h.jsx("label",{htmlFor:"includeExplanations",className:"ml-2 block text-sm text-neutral-300",children:"包含详细解释"})]})]}),h.jsx("div",{className:"mt-6",children:h.jsx("button",{type:"submit",disabled:t,className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-neutral-800 disabled:opacity-50",children:t?"预测中...":"执行预测"})})]})]}),c&&h.jsxs("div",{className:"bg-red-900 bg-opacity-30 border border-red-800 rounded-lg p-4 mb-6",children:[h.jsx("h3",{className:"text-lg font-medium text-red-300",children:"预测失败"}),h.jsx("p",{className:"text-red-200",children:c})]}),i&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"天气场景分析"}),i.scenarios&&i.scenarios.length>0&&h.jsxs("div",{className:"bg-neutral-900 rounded-lg p-4 mb-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-medium text-blue-400 mb-2",children:"主导天气场景"}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-4",children:[h.jsx("p",{className:"text-lg font-medium text-white",children:i.scenarios[0].scenario}),h.jsx("p",{className:"text-neutral-300 mt-2",children:i.scenarios[0].description})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-medium text-blue-400 mb-2",children:"不确定性倍数"}),h.jsx("div",{className:"bg-neutral-800 rounded-lg p-4",children:h.jsxs("p",{className:"text-2xl font-bold text-white",children:[i.scenarios[0].uncertainty_multiplier,"X"]})})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-xl font-medium text-blue-400 mb-2",children:"场景描述"}),h.jsx("p",{className:"text-neutral-300",children:i.scenarios[0].description})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-xl font-medium text-blue-400 mb-2",children:"系统风险等级"}),h.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${b(i.scenarios[0].risk_level)}`,children:i.scenarios[0].risk_level==="high"?"高风险":i.scenarios[0].risk_level==="medium"?"中风险":"低风险"})]})]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"不确定性分析"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-medium text-neutral-300 mb-2",children:"建模方法"}),h.jsx("p",{className:"text-xl font-medium text-white",children:"天气场景感知"})]}),h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-medium text-neutral-300 mb-2",children:"基础不确定性"}),h.jsx("p",{className:"text-xl font-medium text-white",children:i.predictions&&i.predictions.length>0?`${(i.predictions[0].uncertainty/i.scenarios[0].uncertainty_multiplier).toFixed(1)}%`:"5.0%"})]}),h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-medium text-neutral-300 mb-2",children:"场景调整倍数"}),h.jsx("p",{className:"text-xl font-medium text-white",children:i.scenarios&&i.scenarios.length>0?`${i.scenarios[0].uncertainty_multiplier.toFixed(2)}X`:"1.00X"})]})]})]}),i.explanations&&i.explanations.length>0&&h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"不确定性来源分析"}),h.jsxs("div",{className:"bg-amber-900 bg-opacity-30 border border-amber-800 rounded-lg p-4",children:[h.jsx("h3",{className:"text-xl font-medium text-amber-300 mb-2",children:"场景影响分析"}),h.jsx("p",{className:"text-neutral-200",children:i.explanations[0].explanation.scenario_impact})]}),i.explanations[0].explanation.uncertainty_sources&&h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-xl font-medium text-amber-300 mb-2",children:"不确定性来源"}),h.jsx("ul",{className:"list-disc pl-5 text-neutral-200 space-y-1",children:i.explanations[0].explanation.uncertainty_sources.map((_,k)=>h.jsx("li",{children:_},k))})]}),i.explanations[0].explanation.calculation_method&&h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-xl font-medium text-amber-300 mb-2",children:"计算方法"}),h.jsx("p",{className:"text-neutral-200",children:i.explanations[0].explanation.calculation_method})]}),i.explanations[0].explanation.operation_suggestions&&h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-xl font-medium text-amber-300 mb-2",children:"运行建议"}),h.jsx("ul",{className:"list-disc pl-5 text-neutral-200 space-y-1",children:i.explanations[0].explanation.operation_suggestions.map((_,k)=>h.jsx("li",{children:_},k))})]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"预测结果"}),h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-neutral-700",children:[h.jsx("thead",{className:"bg-neutral-900",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"时间"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"预测值"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"下限"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"上限"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"不确定性"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"场景"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"风险等级"})]})}),h.jsx("tbody",{className:"bg-neutral-800 divide-y divide-neutral-700",children:i.predictions&&i.predictions.slice(0,24).map((_,k)=>h.jsxs("tr",{className:k%2===0?"bg-neutral-800":"bg-neutral-750",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:v(_.datetime)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:_.predicted.toFixed(2)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:_.lower_bound.toFixed(2)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:_.upper_bound.toFixed(2)}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:[_.uncertainty.toFixed(1),"%"]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:_.scenario}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(_.risk_level)}`,children:_.risk_level==="high"?"高":_.risk_level==="medium"?"中":"低"})})]},k))})]}),i.predictions&&i.predictions.length>24&&h.jsx("div",{className:"mt-4 text-center text-neutral-400",children:h.jsxs("p",{children:["显示前24条记录，共",i.predictions.length,"条"]})})]})]})]})]})};function vu({metrics:n}){var r,i,l,c,u,f,p,g,y,v,b,_,k,S,M,I;if(console.log("MetricsCard 接收到的指标：",n),!n||Object.keys(n).length===0)return null;const t=[{key:"mape",label:"MAPE",unit:"%",description:"平均绝对百分比误差",formatter:T=>`${T.toFixed(2)}%`},{key:"mae",label:"MAE",unit:"MW",description:"平均绝对误差",formatter:T=>`${T.toFixed(2)} MW`},{key:"rmse",label:"RMSE",unit:"MW",description:"均方根误差",formatter:T=>`${T.toFixed(2)} MW`},{key:"peak_mape",label:"峰时MAPE",unit:"%",description:"高峰时段平均绝对百分比误差",formatter:T=>`${T.toFixed(2)}%`},{key:"valley_mape",label:"谷时MAPE",unit:"%",description:"低谷时段平均绝对百分比误差",formatter:T=>`${T.toFixed(2)}%`},{key:"max_error",label:"最大误差",unit:"%",description:"最大绝对百分比误差",formatter:T=>`${T.toFixed(2)}%`},{key:"hit_rate",label:"命中率",unit:"%",description:"预测区间命中率",formatter:T=>`${T.toFixed(2)}%`},{key:"avg_interval_width",label:"平均区间宽度",unit:"MW",description:"预测区间平均宽度",formatter:T=>`${T.toFixed(2)} MW`},{key:"average_interval_width",label:"平均区间宽度",unit:"MW",description:"预测区间平均宽度",formatter:T=>`${T.toFixed(2)} MW`},{key:"confidence_level",label:"置信水平",unit:"",description:"预测置信水平",formatter:T=>`${(T*100).toFixed(0)}%`},{key:"total_predictions",label:"预测点数",unit:"",description:"总预测点数",formatter:T=>`${T}`}].filter(T=>n[T.key]!==void 0&&n[T.key]!==null&&!isNaN(n[T.key]));return t.length===0?(console.log("没有有效的指标可显示"),null):h.jsxs("div",{className:"mt-6 p-4 bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl",children:[h.jsx("h3",{className:"text-xl font-medium text-neutral-100 mb-4",children:"预测指标"}),n.renewable_predictions&&h.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/20 to-blue-900/20 rounded-lg border border-green-600/30",children:[h.jsxs("h4",{className:"text-lg font-medium text-green-400 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:"🌱"}),"可再生能源预测分析"]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.renewable_predictions.pv&&h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4 border border-orange-600/30",children:[h.jsxs("h5",{className:"text-md font-medium text-orange-300 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:"☀️"}),"光伏发电预测"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-neutral-400",children:"预测状态"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.renewable_predictions.pv.status==="success"?"bg-green-600 text-white":n.renewable_predictions.pv.status==="no_data"?"bg-yellow-600 text-white":n.renewable_predictions.pv.status==="missing_files"?"bg-orange-600 text-white":"bg-red-600 text-white"}`,children:n.renewable_predictions.pv.status==="success"?"成功":n.renewable_predictions.pv.status==="no_data"?"数据缺失":n.renewable_predictions.pv.status==="missing_files"?"模型缺失":"失败"})]}),n.renewable_predictions.pv.error&&h.jsxs("div",{className:"p-2 bg-red-900/20 border border-red-600/30 rounded text-sm text-red-300",children:["错误: ",n.renewable_predictions.pv.error]}),n.renewable_predictions.pv.quality_assessment&&h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{className:"bg-neutral-800 rounded p-2",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"夜间零值率"}),h.jsxs("div",{className:"text-sm font-semibold text-orange-300",children:[(n.renewable_predictions.pv.quality_assessment.night_zero_rate*100).toFixed(1),"%"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded p-2",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"日间有效率"}),h.jsxs("div",{className:"text-sm font-semibold text-orange-300",children:[(n.renewable_predictions.pv.quality_assessment.day_valid_rate*100).toFixed(1),"%"]})]})]}),n.renewable_predictions.pv.high_output_periods&&n.renewable_predictions.pv.high_output_periods.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-sm text-neutral-400",children:["高发时段 (",n.renewable_predictions.pv.high_output_periods.length,"个)"]}),n.renewable_predictions.pv.high_output_periods.slice(0,2).map((T,A)=>{var E,P;return h.jsxs("div",{className:"bg-neutral-800 rounded p-2 text-xs",children:[h.jsxs("div",{className:"text-orange-300 font-medium",children:[new Date(T.start_time).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})," -",new Date(T.end_time).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})]}),h.jsxs("div",{className:"text-neutral-300",children:["平均: ",(E=T.avg_output)==null?void 0:E.toFixed(1),"MW, 峰值: ",(P=T.max_output)==null?void 0:P.toFixed(1),"MW"]})]},A)})]})]})]}),n.renewable_predictions.wind&&h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4 border border-cyan-600/30",children:[h.jsxs("h5",{className:"text-md font-medium text-cyan-300 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:"💨"}),"风力发电预测"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-neutral-400",children:"预测状态"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.renewable_predictions.wind.status==="success"?"bg-green-600 text-white":n.renewable_predictions.wind.status==="no_data"?"bg-yellow-600 text-white":n.renewable_predictions.wind.status==="missing_files"?"bg-orange-600 text-white":"bg-red-600 text-white"}`,children:n.renewable_predictions.wind.status==="success"?"成功":n.renewable_predictions.wind.status==="no_data"?"数据缺失":n.renewable_predictions.wind.status==="missing_files"?"模型缺失":"失败"})]}),n.renewable_predictions.wind.error&&h.jsxs("div",{className:"p-2 bg-red-900/20 border border-red-600/30 rounded text-sm text-red-300",children:["错误: ",n.renewable_predictions.wind.error]}),n.renewable_predictions.wind.quality_assessment&&h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{className:"bg-neutral-800 rounded p-2",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"有效预测率"}),h.jsxs("div",{className:"text-sm font-semibold text-cyan-300",children:[(n.renewable_predictions.wind.quality_assessment.valid_rate*100).toFixed(1),"%"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded p-2",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"平均出力"}),h.jsxs("div",{className:"text-sm font-semibold text-cyan-300",children:[(r=n.renewable_predictions.wind.quality_assessment.avg_output)==null?void 0:r.toFixed(1),"MW"]})]})]}),n.renewable_predictions.wind.high_output_periods&&n.renewable_predictions.wind.high_output_periods.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-sm text-neutral-400",children:["高发时段 (",n.renewable_predictions.wind.high_output_periods.length,"个)"]}),n.renewable_predictions.wind.high_output_periods.slice(0,2).map((T,A)=>{var E,P;return h.jsxs("div",{className:"bg-neutral-800 rounded p-2 text-xs",children:[h.jsxs("div",{className:"text-cyan-300 font-medium",children:[new Date(T.start_time).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})," -",new Date(T.end_time).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})]}),h.jsxs("div",{className:"text-neutral-300",children:["平均: ",(E=T.avg_output)==null?void 0:E.toFixed(1),"MW, 峰值: ",(P=T.max_output)==null?void 0:P.toFixed(1),"MW"]})]},A)})]})]})]})]}),n.renewable_predictions.combined_high_output&&h.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-900/20 to-pink-900/20 rounded-lg border border-purple-600/30",children:[h.jsxs("h5",{className:"text-md font-medium text-purple-300 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:"⚡"}),"联合高发时段分析"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[h.jsxs("div",{className:"bg-neutral-800 rounded p-2 text-center",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"总高发时段"}),h.jsx("div",{className:"text-lg font-bold text-purple-300",children:((i=n.renewable_predictions.combined_high_output.analysis)==null?void 0:i.total_renewable_high_periods)||0})]}),h.jsxs("div",{className:"bg-neutral-800 rounded p-2 text-center",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"光伏独有"}),h.jsx("div",{className:"text-lg font-bold text-orange-300",children:((l=n.renewable_predictions.combined_high_output.analysis)==null?void 0:l.pv_only_periods)||0})]}),h.jsxs("div",{className:"bg-neutral-800 rounded p-2 text-center",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"风电独有"}),h.jsx("div",{className:"text-lg font-bold text-cyan-300",children:((c=n.renewable_predictions.combined_high_output.analysis)==null?void 0:c.wind_only_periods)||0})]}),h.jsxs("div",{className:"bg-neutral-800 rounded p-2 text-center",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"同时高发"}),h.jsx("div",{className:"text-lg font-bold text-pink-300",children:((u=n.renewable_predictions.combined_high_output.analysis)==null?void 0:u.both_high_periods)||0})]})]}),((f=n.renewable_predictions.combined_high_output.analysis)==null?void 0:f.renewable_penetration_level)&&h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-sm text-neutral-400",children:"新能源渗透率等级: "}),h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.renewable_predictions.combined_high_output.analysis.renewable_penetration_level==="high"?"bg-red-600 text-white":n.renewable_predictions.combined_high_output.analysis.renewable_penetration_level==="medium"?"bg-yellow-600 text-white":"bg-green-600 text-white"}`,children:n.renewable_predictions.combined_high_output.analysis.renewable_penetration_level==="high"?"高":n.renewable_predictions.combined_high_output.analysis.renewable_penetration_level==="medium"?"中":"低"})]})]})]}),n.enhanced_scenario&&h.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-indigo-900/20 to-purple-900/20 rounded-lg border border-indigo-600/30",children:[h.jsxs("h4",{className:"text-lg font-medium text-indigo-400 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:"🎭"}),"增强场景分析"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.enhanced_scenario.enhanced_scenario&&h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-2",children:"识别场景"}),h.jsx("div",{className:"text-base font-semibold text-indigo-300 mb-1",children:n.enhanced_scenario.enhanced_scenario.name}),h.jsxs("div",{className:"text-xs text-neutral-300",children:["风险等级: ",n.enhanced_scenario.enhanced_scenario.risk_level]}),h.jsxs("div",{className:"text-xs text-neutral-300",children:["负荷影响: ",n.enhanced_scenario.enhanced_scenario.load_impact]})]}),n.enhanced_scenario.renewable_status&&h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-2",children:"新能源状态"}),h.jsxs("div",{className:"space-y-1 text-xs",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-neutral-300",children:"光伏:"}),h.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${n.enhanced_scenario.renewable_status.pv_status==="high_output"?"bg-orange-600 text-white":n.enhanced_scenario.renewable_status.pv_status==="moderate_output"?"bg-yellow-600 text-white":"bg-green-600 text-white"}`,children:n.enhanced_scenario.renewable_status.pv_status==="high_output"?"高发":n.enhanced_scenario.renewable_status.pv_status==="moderate_output"?"中发":n.enhanced_scenario.renewable_status.pv_status==="low_output"?"低发":"正常"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-neutral-300",children:"风电:"}),h.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${n.enhanced_scenario.renewable_status.wind_status==="high_output"?"bg-cyan-600 text-white":n.enhanced_scenario.renewable_status.wind_status==="moderate_output"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:n.enhanced_scenario.renewable_status.wind_status==="high_output"?"高发":n.enhanced_scenario.renewable_status.wind_status==="moderate_output"?"中发":n.enhanced_scenario.renewable_status.wind_status==="low_output"?"低发":"正常"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-neutral-300",children:"渗透率:"}),h.jsx("span",{className:"text-neutral-200",children:n.enhanced_scenario.renewable_status.renewable_penetration})]})]})]}),h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-2",children:"综合评估"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-neutral-300",children:"风险等级:"}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.enhanced_scenario.composite_risk_level==="high"?"bg-red-600 text-white":n.enhanced_scenario.composite_risk_level==="medium"||n.enhanced_scenario.composite_risk_level==="low-medium"?"bg-yellow-600 text-white":"bg-green-600 text-white"}`,children:n.enhanced_scenario.composite_risk_level})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-neutral-300",children:"不确定性调整:"}),h.jsxs("span",{className:"text-sm font-semibold text-neutral-200",children:["×",(p=n.enhanced_scenario.uncertainty_adjustment)==null?void 0:p.toFixed(2)]})]})]})]})]})]}),n.weather_scenario&&!n.weather_scenario.error&&h.jsxs("div",{className:"mb-6 p-4 bg-neutral-700 rounded-lg border border-neutral-600",children:[h.jsx("h4",{className:"text-lg font-medium text-blue-400 mb-3",children:"天气场景分析"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-1",children:"场景类型"}),h.jsx("div",{className:"text-base font-semibold text-white",children:n.weather_scenario.scenario_type})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-1",children:"平均温度"}),h.jsxs("div",{className:"text-base font-semibold text-white",children:[((g=n.weather_scenario.temperature_mean)==null?void 0:g.toFixed(1))||"N/A","°C"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-1",children:"温度范围"}),h.jsxs("div",{className:"text-base font-semibold text-white",children:[((y=n.weather_scenario.temperature_min)==null?void 0:y.toFixed(1))||"N/A","°C -",((v=n.weather_scenario.temperature_max)==null?void 0:v.toFixed(1))||"N/A","°C"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-1",children:"平均湿度"}),h.jsxs("div",{className:"text-base font-semibold text-white",children:[((b=n.weather_scenario.humidity_mean)==null?void 0:b.toFixed(1))||"N/A","%"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-1",children:"平均风速"}),h.jsxs("div",{className:"text-base font-semibold text-white",children:[((_=n.weather_scenario.wind_speed_mean)==null?void 0:_.toFixed(1))||"N/A"," m/s"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-1",children:"累计降水"}),h.jsxs("div",{className:"text-base font-semibold text-white",children:[((k=n.weather_scenario.precipitation_sum)==null?void 0:k.toFixed(1))||"N/A"," mm"]})]})]}),n.weather_scenario.scenario_match&&h.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-900/20 to-blue-900/20 rounded-lg border border-purple-600/30",children:[h.jsxs("h5",{className:"text-md font-medium text-purple-300 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:"🎯"}),"典型场景匹配"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-2",children:"最佳匹配场景"}),h.jsx("div",{className:"text-base font-semibold text-purple-300 mb-1",children:n.weather_scenario.scenario_match.matched_scenario}),h.jsxs("div",{className:"text-sm text-neutral-300",children:["相似度: ",((S=n.weather_scenario.scenario_match.similarity_percentage)==null?void 0:S.toFixed(1))||"N/A","%"]}),h.jsxs("div",{className:"text-xs text-neutral-400 mt-1",children:["置信度: ",(n.weather_scenario.scenario_match.confidence_level*100).toFixed(0)||"N/A","%"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-2",children:"场景特点"}),h.jsx("div",{className:"text-sm text-neutral-300 leading-relaxed",children:n.weather_scenario.scenario_match.description||"无描述"}),h.jsxs("div",{className:"text-xs text-neutral-400 mt-1",children:["历史占比: ",((M=n.weather_scenario.scenario_match.typical_percentage)==null?void 0:M.toFixed(1))||"N/A","%"]})]})]}),n.weather_scenario.scenario_match.top_scenarios&&n.weather_scenario.scenario_match.top_scenarios.length>0&&h.jsxs("div",{className:"mt-3",children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-2",children:"相似场景排名"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:n.weather_scenario.scenario_match.top_scenarios.map((T,A)=>{var E;return h.jsxs("div",{className:`px-3 py-1 rounded-full text-xs ${A===0?"bg-purple-600 text-white":A===1?"bg-blue-600 text-white":"bg-neutral-600 text-neutral-300"}`,children:[T.rank,". ",T.name," (",(E=T.similarity_percentage)==null?void 0:E.toFixed(1),"%)"]},A)})})]}),(n.weather_scenario.daily_load_mean||n.weather_scenario.daily_load_volatility)&&h.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-2",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"平均负荷"}),h.jsxs("div",{className:"text-sm font-semibold text-white",children:[((I=n.weather_scenario.daily_load_mean)==null?void 0:I.toFixed(0))||"N/A"," MW"]})]}),h.jsxs("div",{className:"bg-neutral-800 rounded-lg p-2",children:[h.jsx("div",{className:"text-xs text-neutral-400",children:"负荷波动率"}),h.jsxs("div",{className:"text-sm font-semibold text-white",children:[(n.weather_scenario.daily_load_volatility*100).toFixed(1)||"N/A","%"]})]})]})]}),n.weather_scenario.scenario_match_error&&h.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg",children:h.jsxs("div",{className:"text-sm text-yellow-300",children:["⚠️ 场景匹配暂不可用: ",n.weather_scenario.scenario_match_error]})})]}),n.weather_scenario&&n.weather_scenario.error&&h.jsxs("div",{className:"mb-6 p-4 bg-red-900 bg-opacity-20 border border-red-600 rounded-lg",children:[h.jsx("h4",{className:"text-lg font-medium text-red-400 mb-2",children:"天气场景分析"}),h.jsxs("p",{className:"text-red-300",children:["分析失败: ",n.weather_scenario.error]})]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(T=>{const A=n[T.key],E=T.formatter?T.formatter(A):`${A} ${T.unit}`;return h.jsxs("div",{className:"bg-neutral-700 rounded-lg p-3 border border-neutral-600 hover:border-neutral-500 transition-colors",title:T.description,children:[h.jsx("div",{className:"text-sm text-neutral-400 mb-1",children:T.label}),h.jsx("div",{className:"text-lg font-semibold text-neutral-100",children:E})]},T.key)})}),(n.hit_rate!==void 0||n.avg_interval_width!==void 0)&&h.jsxs("div",{className:"mt-4 p-3 bg-neutral-700 rounded-lg border border-neutral-600",children:[h.jsx("h4",{className:"text-md font-medium text-neutral-200 mb-2",children:"区间预测性能"}),h.jsxs("div",{className:"text-sm text-neutral-300",children:[n.hit_rate!==void 0&&h.jsxs("div",{children:["实际值落在预测区间内的比例：",n.hit_rate.toFixed(2),"%"]}),(n.avg_interval_width!==void 0||n.average_interval_width!==void 0)&&h.jsxs("div",{children:["平均预测区间宽度：",(n.avg_interval_width||n.average_interval_width).toFixed(2)," MW"]}),n.confidence_level!==void 0&&h.jsxs("div",{children:["置信水平：",(n.confidence_level*100).toFixed(0),"%"]})]})]}),!1]})}function Am(n,e){return function(){return n.apply(e,arguments)}}const{toString:By}=Object.prototype,{getPrototypeOf:wu}=Object,{iterator:bl,toStringTag:Lm}=Symbol,_l=(n=>e=>{const t=By.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Kt=n=>(n=n.toLowerCase(),e=>_l(e)===n),kl=n=>e=>typeof e===n,{isArray:ls}=Array,mi=kl("undefined");function Hy(n){return n!==null&&!mi(n)&&n.constructor!==null&&!mi(n.constructor)&&St(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Im=Kt("ArrayBuffer");function Wy(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Im(n.buffer),e}const $y=kl("string"),St=kl("function"),zm=kl("number"),Sl=n=>n!==null&&typeof n=="object",Uy=n=>n===!0||n===!1,rl=n=>{if(_l(n)!=="object")return!1;const e=wu(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Lm in n)&&!(bl in n)},Vy=Kt("Date"),Yy=Kt("File"),qy=Kt("Blob"),Qy=Kt("FileList"),Xy=n=>Sl(n)&&St(n.pipe),Ky=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||St(n.append)&&((e=_l(n))==="formdata"||e==="object"&&St(n.toString)&&n.toString()==="[object FormData]"))},Gy=Kt("URLSearchParams"),[Jy,Zy,ev,tv]=["ReadableStream","Request","Response","Headers"].map(Kt),nv=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ki(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ls(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let u;for(r=0;r<c;r++)u=l[r],e.call(null,n[u],u,n)}}function Pm(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bm=n=>!mi(n)&&n!==gr;function Kc(){const{caseless:n}=Bm(this)&&this||{},e={},t=(r,i)=>{const l=n&&Pm(e,i)||i;rl(e[l])&&rl(r)?e[l]=Kc(e[l],r):rl(r)?e[l]=Kc({},r):ls(r)?e[l]=r.slice():e[l]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ki(arguments[r],t);return e}const rv=(n,e,t,{allOwnKeys:r}={})=>(ki(e,(i,l)=>{t&&St(i)?n[l]=Am(i,t):n[l]=i},{allOwnKeys:r}),n),sv=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),iv=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},ov=(n,e,t,r)=>{let i,l,c;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),l=i.length;l-- >0;)c=i[l],(!r||r(c,n,e))&&!u[c]&&(e[c]=n[c],u[c]=!0);n=t!==!1&&wu(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},lv=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},av=n=>{if(!n)return null;if(ls(n))return n;let e=n.length;if(!zm(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},cv=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&wu(Uint8Array)),uv=(n,e)=>{const r=(n&&n[bl]).call(n);let i;for(;(i=r.next())&&!i.done;){const l=i.value;e.call(n,l[0],l[1])}},dv=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},fv=Kt("HTMLFormElement"),hv=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Xh=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),pv=Kt("RegExp"),Hm=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ki(t,(i,l)=>{let c;(c=e(i,l,n))!==!1&&(r[l]=c||i)}),Object.defineProperties(n,r)},mv=n=>{Hm(n,(e,t)=>{if(St(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(St(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},gv=(n,e)=>{const t={},r=i=>{i.forEach(l=>{t[l]=!0})};return ls(n)?r(n):r(String(n).split(e)),t},xv=()=>{},yv=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function vv(n){return!!(n&&St(n.append)&&n[Lm]==="FormData"&&n[bl])}const wv=n=>{const e=new Array(10),t=(r,i)=>{if(Sl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const l=ls(r)?[]:{};return ki(r,(c,u)=>{const f=t(c,i+1);!mi(f)&&(l[u]=f)}),e[i]=void 0,l}}return r};return t(n,0)},bv=Kt("AsyncFunction"),_v=n=>n&&(Sl(n)||St(n))&&St(n.then)&&St(n.catch),Wm=((n,e)=>n?setImmediate:e?((t,r)=>(gr.addEventListener("message",({source:i,data:l})=>{i===gr&&l===t&&r.length&&r.shift()()},!1),i=>{r.push(i),gr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",St(gr.postMessage)),kv=typeof queueMicrotask<"u"?queueMicrotask.bind(gr):typeof process<"u"&&process.nextTick||Wm,Sv=n=>n!=null&&St(n[bl]),z={isArray:ls,isArrayBuffer:Im,isBuffer:Hy,isFormData:Ky,isArrayBufferView:Wy,isString:$y,isNumber:zm,isBoolean:Uy,isObject:Sl,isPlainObject:rl,isReadableStream:Jy,isRequest:Zy,isResponse:ev,isHeaders:tv,isUndefined:mi,isDate:Vy,isFile:Yy,isBlob:qy,isRegExp:pv,isFunction:St,isStream:Xy,isURLSearchParams:Gy,isTypedArray:cv,isFileList:Qy,forEach:ki,merge:Kc,extend:rv,trim:nv,stripBOM:sv,inherits:iv,toFlatObject:ov,kindOf:_l,kindOfTest:Kt,endsWith:lv,toArray:av,forEachEntry:uv,matchAll:dv,isHTMLForm:fv,hasOwnProperty:Xh,hasOwnProp:Xh,reduceDescriptors:Hm,freezeMethods:mv,toObjectSet:gv,toCamelCase:hv,noop:xv,toFiniteNumber:yv,findKey:Pm,global:gr,isContextDefined:Bm,isSpecCompliantForm:vv,toJSONObject:wv,isAsyncFn:bv,isThenable:_v,setImmediate:Wm,asap:kv,isIterable:Sv};function fe(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const $m=fe.prototype,Um={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Um[n]={value:n}});Object.defineProperties(fe,Um);Object.defineProperty($m,"isAxiosError",{value:!0});fe.from=(n,e,t,r,i,l)=>{const c=Object.create($m);return z.toFlatObject(n,c,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),fe.call(c,n.message,e,t,r,i),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const Nv=null;function Gc(n){return z.isPlainObject(n)||z.isArray(n)}function Vm(n){return z.endsWith(n,"[]")?n.slice(0,-2):n}function Kh(n,e,t){return n?n.concat(e).map(function(i,l){return i=Vm(i),!t&&l?"["+i+"]":i}).join(t?".":""):e}function jv(n){return z.isArray(n)&&!n.some(Gc)}const Dv=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function Nl(n,e,t){if(!z.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,S){return!z.isUndefined(S[k])});const r=t.metaTokens,i=t.visitor||g,l=t.dots,c=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(z.isDate(_))return _.toISOString();if(!f&&z.isBlob(_))throw new fe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(_)||z.isTypedArray(_)?f&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function g(_,k,S){let M=_;if(_&&!S&&typeof _=="object"){if(z.endsWith(k,"{}"))k=r?k:k.slice(0,-2),_=JSON.stringify(_);else if(z.isArray(_)&&jv(_)||(z.isFileList(_)||z.endsWith(k,"[]"))&&(M=z.toArray(_)))return k=Vm(k),M.forEach(function(T,A){!(z.isUndefined(T)||T===null)&&e.append(c===!0?Kh([k],A,l):c===null?k:k+"[]",p(T))}),!1}return Gc(_)?!0:(e.append(Kh(S,k,l),p(_)),!1)}const y=[],v=Object.assign(Dv,{defaultVisitor:g,convertValue:p,isVisitable:Gc});function b(_,k){if(!z.isUndefined(_)){if(y.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(_),z.forEach(_,function(M,I){(!(z.isUndefined(M)||M===null)&&i.call(e,M,z.isString(I)?I.trim():I,k,v))===!0&&b(M,k?k.concat(I):[I])}),y.pop()}}if(!z.isObject(n))throw new TypeError("data must be an object");return b(n),e}function Gh(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function bu(n,e){this._pairs=[],n&&Nl(n,this,e)}const Ym=bu.prototype;Ym.append=function(e,t){this._pairs.push([e,t])};Ym.toString=function(e){const t=e?function(r){return e.call(this,r,Gh)}:Gh;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Cv(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qm(n,e,t){if(!e)return n;const r=t&&t.encode||Cv;z.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let l;if(i?l=i(e,t):l=z.isURLSearchParams(e)?e.toString():new bu(e,t).toString(r),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class Jh{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Qm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tv=typeof URLSearchParams<"u"?URLSearchParams:bu,Ev=typeof FormData<"u"?FormData:null,Mv=typeof Blob<"u"?Blob:null,Ov={isBrowser:!0,classes:{URLSearchParams:Tv,FormData:Ev,Blob:Mv},protocols:["http","https","file","blob","url","data"]},_u=typeof window<"u"&&typeof document<"u",Jc=typeof navigator=="object"&&navigator||void 0,Fv=_u&&(!Jc||["ReactNative","NativeScript","NS"].indexOf(Jc.product)<0),Rv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Av=_u&&window.location.href||"http://localhost",Lv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_u,hasStandardBrowserEnv:Fv,hasStandardBrowserWebWorkerEnv:Rv,navigator:Jc,origin:Av},Symbol.toStringTag,{value:"Module"})),dt={...Lv,...Ov};function Iv(n,e){return Nl(n,new dt.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,l){return dt.isNode&&z.isBuffer(t)?(this.append(r,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function zv(n){return z.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Pv(n){const e={},t=Object.keys(n);let r;const i=t.length;let l;for(r=0;r<i;r++)l=t[r],e[l]=n[l];return e}function Xm(n){function e(t,r,i,l){let c=t[l++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),f=l>=t.length;return c=!c&&z.isArray(i)?i.length:c,f?(z.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!u):((!i[c]||!z.isObject(i[c]))&&(i[c]=[]),e(t,r,i[c],l)&&z.isArray(i[c])&&(i[c]=Pv(i[c])),!u)}if(z.isFormData(n)&&z.isFunction(n.entries)){const t={};return z.forEachEntry(n,(r,i)=>{e(zv(r),i,t,0)}),t}return null}function Bv(n,e,t){if(z.isString(n))try{return(e||JSON.parse)(n),z.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Si={transitional:Qm,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,l=z.isObject(e);if(l&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return i?JSON.stringify(Xm(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Iv(e,this.formSerializer).toString();if((u=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Nl(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return l||i?(t.setContentType("application/json",!1),Bv(e)):e}],transformResponse:[function(e){const t=this.transitional||Si.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||i)){const c=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?fe.from(u,fe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],n=>{Si.headers[n]={}});const Hv=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wv=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(c){i=c.indexOf(":"),t=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!t||e[t]&&Hv[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Zh=Symbol("internals");function Ks(n){return n&&String(n).trim().toLowerCase()}function sl(n){return n===!1||n==null?n:z.isArray(n)?n.map(sl):String(n)}function $v(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Uv=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ac(n,e,t,r,i){if(z.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function Vv(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Yv(n,e){const t=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,l,c){return this[r].call(this,e,i,l,c)},configurable:!0})})}let Nt=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function l(u,f,p){const g=Ks(f);if(!g)throw new Error("header name must be a non-empty string");const y=z.findKey(i,g);(!y||i[y]===void 0||p===!0||p===void 0&&i[y]!==!1)&&(i[y||f]=sl(u))}const c=(u,f)=>z.forEach(u,(p,g)=>l(p,g,f));if(z.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(z.isString(e)&&(e=e.trim())&&!Uv(e))c(Wv(e),t);else if(z.isObject(e)&&z.isIterable(e)){let u={},f,p;for(const g of e){if(!z.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[p=g[0]]=(f=u[p])?z.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}c(u,t)}else e!=null&&l(t,e,r);return this}get(e,t){if(e=Ks(e),e){const r=z.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return $v(i);if(z.isFunction(t))return t.call(this,i,r);if(z.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ks(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Ac(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function l(c){if(c=Ks(c),c){const u=z.findKey(r,c);u&&(!t||Ac(r,r[u],u,t))&&(delete r[u],i=!0)}}return z.isArray(e)?e.forEach(l):l(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const l=t[r];(!e||Ac(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const t=this,r={};return z.forEach(this,(i,l)=>{const c=z.findKey(r,l);if(c){t[c]=sl(i),delete t[l];return}const u=e?Vv(l):String(l).trim();u!==l&&delete t[l],t[u]=sl(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&z.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Zh]=this[Zh]={accessors:{}}).accessors,i=this.prototype;function l(c){const u=Ks(c);r[u]||(Yv(i,c),r[u]=!0)}return z.isArray(e)?e.forEach(l):l(e),this}};Nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Nt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});z.freezeMethods(Nt);function Lc(n,e){const t=this||Si,r=e||t,i=Nt.from(r.headers);let l=r.data;return z.forEach(n,function(u){l=u.call(t,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function Km(n){return!!(n&&n.__CANCEL__)}function as(n,e,t){fe.call(this,n??"canceled",fe.ERR_CANCELED,e,t),this.name="CanceledError"}z.inherits(as,fe,{__CANCEL__:!0});function Gm(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new fe("Request failed with status code "+t.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function qv(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Qv(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),g=r[l];c||(c=p),t[i]=f,r[i]=p;let y=l,v=0;for(;y!==i;)v+=t[y++],y=y%n;if(i=(i+1)%n,i===l&&(l=(l+1)%n),p-c<e)return;const b=g&&p-g;return b?Math.round(v*1e3/b):void 0}}function Xv(n,e){let t=0,r=1e3/e,i,l;const c=(p,g=Date.now())=>{t=g,i=null,l&&(clearTimeout(l),l=null),n.apply(null,p)};return[(...p)=>{const g=Date.now(),y=g-t;y>=r?c(p,g):(i=p,l||(l=setTimeout(()=>{l=null,c(i)},r-y)))},()=>i&&c(i)]}const ul=(n,e,t=3)=>{let r=0;const i=Qv(50,250);return Xv(l=>{const c=l.loaded,u=l.lengthComputable?l.total:void 0,f=c-r,p=i(f),g=c<=u;r=c;const y={loaded:c,total:u,progress:u?c/u:void 0,bytes:f,rate:p||void 0,estimated:p&&u&&g?(u-c)/p:void 0,event:l,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(y)},t)},ep=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},tp=n=>(...e)=>z.asap(()=>n(...e)),Kv=dt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,dt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,Gv=dt.hasStandardBrowserEnv?{write(n,e,t,r,i,l){const c=[n+"="+encodeURIComponent(e)];z.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),z.isString(r)&&c.push("path="+r),z.isString(i)&&c.push("domain="+i),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jv(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Zv(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Jm(n,e,t){let r=!Jv(e);return n&&(r||t==!1)?Zv(n,e):e}const np=n=>n instanceof Nt?{...n}:n;function br(n,e){e=e||{};const t={};function r(p,g,y,v){return z.isPlainObject(p)&&z.isPlainObject(g)?z.merge.call({caseless:v},p,g):z.isPlainObject(g)?z.merge({},g):z.isArray(g)?g.slice():g}function i(p,g,y,v){if(z.isUndefined(g)){if(!z.isUndefined(p))return r(void 0,p,y,v)}else return r(p,g,y,v)}function l(p,g){if(!z.isUndefined(g))return r(void 0,g)}function c(p,g){if(z.isUndefined(g)){if(!z.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function u(p,g,y){if(y in e)return r(p,g);if(y in n)return r(void 0,p)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(p,g,y)=>i(np(p),np(g),y,!0)};return z.forEach(Object.keys(Object.assign({},n,e)),function(g){const y=f[g]||i,v=y(n[g],e[g],g);z.isUndefined(v)&&y!==u||(t[g]=v)}),t}const Zm=n=>{const e=br({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:l,headers:c,auth:u}=e;e.headers=c=Nt.from(c),e.url=qm(Jm(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let f;if(z.isFormData(t)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[p,...g]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",...g].join("; "))}}if(dt.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&Kv(e.url))){const p=i&&l&&Gv.read(l);p&&c.set(i,p)}return e},ew=typeof XMLHttpRequest<"u",tw=ew&&function(n){return new Promise(function(t,r){const i=Zm(n);let l=i.data;const c=Nt.from(i.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:p}=i,g,y,v,b,_;function k(){b&&b(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function M(){if(!S)return;const T=Nt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:n,request:S};Gm(function(B){t(B),k()},function(B){r(B),k()},E),S=null}"onloadend"in S?S.onloadend=M:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(M)},S.onabort=function(){S&&(r(new fe("Request aborted",fe.ECONNABORTED,n,S)),S=null)},S.onerror=function(){r(new fe("Network Error",fe.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||Qm;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new fe(A,E.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,n,S)),S=null},l===void 0&&c.setContentType(null),"setRequestHeader"in S&&z.forEach(c.toJSON(),function(A,E){S.setRequestHeader(E,A)}),z.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),u&&u!=="json"&&(S.responseType=i.responseType),p&&([v,_]=ul(p,!0),S.addEventListener("progress",v)),f&&S.upload&&([y,b]=ul(f),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(g=T=>{S&&(r(!T||T.type?new as(null,n,S):T),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const I=qv(i.url);if(I&&dt.protocols.indexOf(I)===-1){r(new fe("Unsupported protocol "+I+":",fe.ERR_BAD_REQUEST,n));return}S.send(l||null)})},nw=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const l=function(p){if(!i){i=!0,u();const g=p instanceof Error?p:this.reason;r.abort(g instanceof fe?g:new as(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,l(new fe(`timeout ${e} of ms exceeded`,fe.ETIMEDOUT))},e);const u=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),n=null)};n.forEach(p=>p.addEventListener("abort",l));const{signal:f}=r;return f.unsubscribe=()=>z.asap(u),f}},rw=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},sw=async function*(n,e){for await(const t of iw(n))yield*rw(t,e)},iw=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},rp=(n,e,t,r)=>{const i=sw(n,e);let l=0,c,u=f=>{c||(c=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:g}=await i.next();if(p){u(),f.close();return}let y=g.byteLength;if(t){let v=l+=y;t(v)}f.enqueue(new Uint8Array(g))}catch(p){throw u(p),p}},cancel(f){return u(f),i.return()}},{highWaterMark:2})},jl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eg=jl&&typeof ReadableStream=="function",ow=jl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),tg=(n,...e)=>{try{return!!n(...e)}catch{return!1}},lw=eg&&tg(()=>{let n=!1;const e=new Request(dt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),sp=64*1024,Zc=eg&&tg(()=>z.isReadableStream(new Response("").body)),dl={stream:Zc&&(n=>n.body)};jl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!dl[e]&&(dl[e]=z.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new fe(`Response type '${e}' is not supported`,fe.ERR_NOT_SUPPORT,r)})})})(new Response);const aw=async n=>{if(n==null)return 0;if(z.isBlob(n))return n.size;if(z.isSpecCompliantForm(n))return(await new Request(dt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(z.isArrayBufferView(n)||z.isArrayBuffer(n))return n.byteLength;if(z.isURLSearchParams(n)&&(n=n+""),z.isString(n))return(await ow(n)).byteLength},cw=async(n,e)=>{const t=z.toFiniteNumber(n.getContentLength());return t??aw(e)},uw=jl&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:l,timeout:c,onDownloadProgress:u,onUploadProgress:f,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:v}=Zm(n);p=p?(p+"").toLowerCase():"text";let b=nw([i,l&&l.toAbortSignal()],c),_;const k=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let S;try{if(f&&lw&&t!=="get"&&t!=="head"&&(S=await cw(g,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(z.isFormData(r)&&(P=E.headers.get("content-type"))&&g.setContentType(P),E.body){const[B,F]=ep(S,ul(tp(f)));r=rp(E.body,sp,B,F)}}z.isString(y)||(y=y?"include":"omit");const M="credentials"in Request.prototype;_=new Request(e,{...v,signal:b,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:M?y:void 0});let I=await fetch(_);const T=Zc&&(p==="stream"||p==="response");if(Zc&&(u||T&&k)){const E={};["status","statusText","headers"].forEach(W=>{E[W]=I[W]});const P=z.toFiniteNumber(I.headers.get("content-length")),[B,F]=u&&ep(P,ul(tp(u),!0))||[];I=new Response(rp(I.body,sp,B,()=>{F&&F(),k&&k()}),E)}p=p||"text";let A=await dl[z.findKey(dl,p)||"text"](I,n);return!T&&k&&k(),await new Promise((E,P)=>{Gm(E,P,{data:A,headers:Nt.from(I.headers),status:I.status,statusText:I.statusText,config:n,request:_})})}catch(M){throw k&&k(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,n,_),{cause:M.cause||M}):fe.from(M,M&&M.code,n,_)}}),eu={http:Nv,xhr:tw,fetch:uw};z.forEach(eu,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ip=n=>`- ${n}`,dw=n=>z.isFunction(n)||n===null||n===!1,ng={getAdapter:n=>{n=z.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let l=0;l<e;l++){t=n[l];let c;if(r=t,!dw(t)&&(r=eu[(c=String(t)).toLowerCase()],r===void 0))throw new fe(`Unknown adapter '${c}'`);if(r)break;i[c||"#"+l]=r}if(!r){const l=Object.entries(i).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(ip).join(`
`):" "+ip(l[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:eu};function Ic(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new as(null,n)}function op(n){return Ic(n),n.headers=Nt.from(n.headers),n.data=Lc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ng.getAdapter(n.adapter||Si.adapter)(n).then(function(r){return Ic(n),r.data=Lc.call(n,n.transformResponse,r),r.headers=Nt.from(r.headers),r},function(r){return Km(r)||(Ic(n),r&&r.response&&(r.response.data=Lc.call(n,n.transformResponse,r.response),r.response.headers=Nt.from(r.response.headers))),Promise.reject(r)})}const rg="1.9.0",Dl={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Dl[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const lp={};Dl.transitional=function(e,t,r){function i(l,c){return"[Axios v"+rg+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,u)=>{if(e===!1)throw new fe(i(c," has been removed"+(t?" in "+t:"")),fe.ERR_DEPRECATED);return t&&!lp[c]&&(lp[c]=!0,console.warn(i(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,u):!0}};Dl.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fw(n,e,t){if(typeof n!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const l=r[i],c=e[l];if(c){const u=n[l],f=u===void 0||c(u,l,n);if(f!==!0)throw new fe("option "+l+" must be "+f,fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new fe("Unknown option "+l,fe.ERR_BAD_OPTION)}}const il={assertOptions:fw,validators:Dl},nn=il.validators;let vr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Jh,response:new Jh}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=br(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:l}=t;r!==void 0&&il.assertOptions(r,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),i!=null&&(z.isFunction(i)?t.paramsSerializer={serialize:i}:il.assertOptions(i,{encode:nn.function,serialize:nn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),il.assertOptions(t,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&z.merge(l.common,l[t.method]);l&&z.forEach(["delete","get","head","post","put","patch","common"],_=>{delete l[_]}),t.headers=Nt.concat(c,l);const u=[];let f=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(f=f&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const p=[];this.interceptors.response.forEach(function(k){p.push(k.fulfilled,k.rejected)});let g,y=0,v;if(!f){const _=[op.bind(this),void 0];for(_.unshift.apply(_,u),_.push.apply(_,p),v=_.length,g=Promise.resolve(t);y<v;)g=g.then(_[y++],_[y++]);return g}v=u.length;let b=t;for(y=0;y<v;){const _=u[y++],k=u[y++];try{b=_(b)}catch(S){k.call(this,S);break}}try{g=op.call(this,b)}catch(_){return Promise.reject(_)}for(y=0,v=p.length;y<v;)g=g.then(p[y++],p[y++]);return g}getUri(e){e=br(this.defaults,e);const t=Jm(e.baseURL,e.url,e.allowAbsoluteUrls);return qm(t,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){vr.prototype[e]=function(t,r){return this.request(br(r||{},{method:e,url:t,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function t(r){return function(l,c,u){return this.request(br(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}vr.prototype[e]=t(),vr.prototype[e+"Form"]=t(!0)});let hw=class sg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const r=this;this.promise.then(i=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](i);r._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(u=>{r.subscribe(u),l=u}).then(i);return c.cancel=function(){r.unsubscribe(l)},c},e(function(l,c,u){r.reason||(r.reason=new as(l,c,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sg(function(i){e=i}),cancel:e}}};function pw(n){return function(t){return n.apply(null,t)}}function mw(n){return z.isObject(n)&&n.isAxiosError===!0}const tu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tu).forEach(([n,e])=>{tu[e]=n});function ig(n){const e=new vr(n),t=Am(vr.prototype.request,e);return z.extend(t,vr.prototype,e,{allOwnKeys:!0}),z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ig(br(n,i))},t}const Se=ig(Si);Se.Axios=vr;Se.CanceledError=as;Se.CancelToken=hw;Se.isCancel=Km;Se.VERSION=rg;Se.toFormData=Nl;Se.AxiosError=fe;Se.Cancel=Se.CanceledError;Se.all=function(e){return Promise.all(e)};Se.spread=pw;Se.isAxiosError=mw;Se.mergeConfig=br;Se.AxiosHeaders=Nt;Se.formToJSON=n=>Xm(z.isHTMLForm(n)?new FormData(n):n);Se.getAdapter=ng.getAdapter;Se.HttpStatusCode=tu;Se.default=Se;const{Axios:X2,AxiosError:K2,CanceledError:G2,isCancel:J2,CancelToken:Z2,VERSION:ej,all:tj,Cancel:nj,isAxiosError:rj,spread:sj,toFormData:ij,AxiosHeaders:oj,HttpStatusCode:lj,formToJSON:aj,getAdapter:cj,mergeConfig:uj}=Se,Sn="http://localhost:5001",ku="http://localhost:5000",ap=["上海","安徽","浙江","江苏","福建"],Cl=async(n,e,t=!0)=>{var r,i;try{const l=t?Sn:ku;return(await Se.post(`${l}${n}`,e)).data}catch(l){throw console.error(`Error in postRequest for endpoint ${n}:`,l),new Error(((i=(r=l.response)==null?void 0:r.data)==null?void 0:i.error)||l.message||"An unknown API error occurred")}},gw=async()=>{try{console.log("Trying to get provinces from new DDD API...");const n=await Se.get(`${Sn}/api/provinces`);return n.data&&n.data.success?n.data.data:(console.log("DDD API failed, using dummy provinces for testing."),ap)}catch{return console.log("DDD API not available, using dummy provinces for testing."),ap}},og=async n=>{var e,t;try{console.log("Routing to NEW DDD API for prediction:",n);const r=await Se.post(`${Sn}/api/predict`,n);if(r.data&&r.data.success){const i=r.data.data;return console.log("Using DDD implementation:",r.data.implementation),i}else throw new Error(r.data.error||"DDD API returned an error")}catch(r){console.error("Error running prediction:",r);const i=((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.error)||r.message||"Prediction failed";throw new Error(i)}},xw=async n=>{try{console.log("Routing interval forecast to NEW DDD API:",n);const e=await Se.post(`${Sn}/api/predict`,{...n,prediction_type:"interval"});if(e.data&&e.data.success)return e.data.data;throw new Error(e.data.error||"区间预测失败")}catch(e){console.error("Interval forecast error:",e),console.log("Fallback to old API for interval forecast");const t=await Cl("/api/interval-forecast",n,!1);if(!t.success)throw new Error(t.error||"区间预测失败");return t}},yw=async n=>{try{console.log("Routing training to NEW DDD API:",n);const e=await Se.post(`${Sn}/api/train`,n);if(e.data&&e.data.success)return e.data;throw new Error(e.data.error||"DDD API训练失败")}catch(e){console.error("Training error with DDD API:",e),console.log("Fallback to old API for training");const t=await Cl("/api/train",n,!1);if(!t.success)throw new Error(t.error||"模型训练启动失败");return t}},vw=async n=>{var e,t;try{console.log("Getting training status from DDD API:",n);const r=await Se.get(`${Sn}/api/training-status/${n}`);if(r.data.success)return r.data.data;throw new Error(r.data.error||`Failed to get status for task ${n}`)}catch(r){console.error("Training status error with DDD API:",r);try{const i=await Se.get(`${ku}/api/training-status/${n}`);if(i.data.success)return i.data.data;throw new Error(i.data.error||`Failed to get status for task ${n}`)}catch(i){const l=((t=(e=i.response)==null?void 0:e.data)==null?void 0:t.error)||i.message||"Failed to fetch training status";throw new Error(l)}}},ww=async n=>{try{console.log("Routing scenario recognition to NEW DDD API:",n);const e=await Se.post(`${Sn}/api/scenarios`,n);if(e.data&&e.data.success)return e.data.data;throw new Error(e.data.error||"场景识别失败")}catch(e){console.error("Scenario recognition error with DDD API:",e);const t=await Cl("/recognize-scenarios",n,!1);if(!t.success)throw new Error(t.error||"场景识别失败");return t.data}},bw=async()=>{try{console.log("Clearing cache via DDD API");const n=await Se.post(`${Sn}/api/clear-cache`,{});if(n.data&&n.data.success)return n.data;throw new Error(n.data.error||"Cache clear failed")}catch(n){return console.error("Cache clear error with DDD API:",n),await Cl("/api/clear-cache",{},!1)}},_w=async n=>{var e,t;try{console.log("Getting historical results from DDD API:",n);const r=await Se.get(`${Sn}/api/historical-results`,{params:n});if(r.data.success)return r.data.data;throw new Error(r.data.error||"Failed to fetch historical results")}catch(r){console.error("Historical results error with DDD API:",r);try{const i=await Se.get(`${ku}/api/historical-results`,{params:n});if(i.data.success)return i.data.data;throw new Error(i.data.error||"Failed to fetch historical results")}catch(i){const l=((t=(e=i.response)==null?void 0:e.data)==null?void 0:t.error)||i.message||"Failed to fetch historical results";throw new Error(l)}}},kw=["上海","安徽","浙江","江苏","福建"],Sw="2024-03-01",Nw="2024-03-02",jw=()=>{const[n,e]=G.useState({forecastType:"load",forecastDate:Sw,forecastEndDate:Nw,province:kw[0],predictionType:"day-ahead",historicalDays:15,modelType:"torch",weatherAware:!1}),[t,r]=G.useState(null),[i,l]=G.useState(!1),[c,u]=G.useState(null),f=G.useCallback(async p=>{e(p),l(!0),u(null),r(null);try{const g=await og(p);r(g)}catch(g){u(g.message),console.error("Day Ahead Forecast Failed:",g)}finally{l(!1)}},[]);return{params:n,result:t,isLoading:i,error:c,runPrediction:f}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ni(n){return n+.5|0}const qn=(n,e,t)=>Math.max(Math.min(n,t),e);function ii(n){return qn(Ni(n*2.55),0,255)}function Xn(n){return qn(Ni(n*255),0,255)}function _n(n){return qn(Ni(n/2.55)/100,0,1)}function cp(n){return qn(Ni(n*100),0,100)}const It={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nu=[..."0123456789ABCDEF"],Dw=n=>nu[n&15],Cw=n=>nu[(n&240)>>4]+nu[n&15],Ho=n=>(n&240)>>4===(n&15),Tw=n=>Ho(n.r)&&Ho(n.g)&&Ho(n.b)&&Ho(n.a);function Ew(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&It[n[1]]*17,g:255&It[n[2]]*17,b:255&It[n[3]]*17,a:e===5?It[n[4]]*17:255}:(e===7||e===9)&&(t={r:It[n[1]]<<4|It[n[2]],g:It[n[3]]<<4|It[n[4]],b:It[n[5]]<<4|It[n[6]],a:e===9?It[n[7]]<<4|It[n[8]]:255})),t}const Mw=(n,e)=>n<255?e(n):"";function Ow(n){var e=Tw(n)?Dw:Cw;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Mw(n.a,e):void 0}const Fw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lg(n,e,t){const r=e*Math.min(t,1-t),i=(l,c=(l+n/30)%12)=>t-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function Rw(n,e,t){const r=(i,l=(i+n/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[r(5),r(3),r(1)]}function Aw(n,e,t){const r=lg(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function Lw(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Su(n){const t=n.r/255,r=n.g/255,i=n.b/255,l=Math.max(t,r,i),c=Math.min(t,r,i),u=(l+c)/2;let f,p,g;return l!==c&&(g=l-c,p=u>.5?g/(2-l-c):g/(l+c),f=Lw(t,r,i,g,l),f=f*60+.5),[f|0,p||0,u]}function Nu(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Xn)}function ju(n,e,t){return Nu(lg,n,e,t)}function Iw(n,e,t){return Nu(Aw,n,e,t)}function zw(n,e,t){return Nu(Rw,n,e,t)}function ag(n){return(n%360+360)%360}function Pw(n){const e=Fw.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?ii(+e[5]):Xn(+e[5]));const i=ag(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?r=Iw(i,l,c):e[1]==="hsv"?r=zw(i,l,c):r=ju(i,l,c),{r:r[0],g:r[1],b:r[2],a:t}}function Bw(n,e){var t=Su(n);t[0]=ag(t[0]+e),t=ju(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Hw(n){if(!n)return;const e=Su(n),t=e[0],r=cp(e[1]),i=cp(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${_n(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const up={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ww(){const n={},e=Object.keys(dp),t=Object.keys(up);let r,i,l,c,u;for(r=0;r<e.length;r++){for(c=u=e[r],i=0;i<t.length;i++)l=t[i],u=u.replace(l,up[l]);l=parseInt(dp[c],16),n[u]=[l>>16&255,l>>8&255,l&255]}return n}let Wo;function $w(n){Wo||(Wo=Ww(),Wo.transparent=[0,0,0,0]);const e=Wo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Uw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Vw(n){const e=Uw.exec(n);let t=255,r,i,l;if(e){if(e[7]!==r){const c=+e[7];t=e[8]?ii(c):qn(c*255,0,255)}return r=+e[1],i=+e[3],l=+e[5],r=255&(e[2]?ii(r):qn(r,0,255)),i=255&(e[4]?ii(i):qn(i,0,255)),l=255&(e[6]?ii(l):qn(l,0,255)),{r,g:i,b:l,a:t}}}function Yw(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${_n(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const zc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Gr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qw(n,e,t){const r=Gr(_n(n.r)),i=Gr(_n(n.g)),l=Gr(_n(n.b));return{r:Xn(zc(r+t*(Gr(_n(e.r))-r))),g:Xn(zc(i+t*(Gr(_n(e.g))-i))),b:Xn(zc(l+t*(Gr(_n(e.b))-l))),a:n.a+t*(e.a-n.a)}}function $o(n,e,t){if(n){let r=Su(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=ju(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function cg(n,e){return n&&Object.assign(e||{},n)}function fp(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Xn(n[3]))):(e=cg(n,{r:0,g:0,b:0,a:1}),e.a=Xn(e.a)),e}function Qw(n){return n.charAt(0)==="r"?Vw(n):Pw(n)}class gi{constructor(e){if(e instanceof gi)return e;const t=typeof e;let r;t==="object"?r=fp(e):t==="string"&&(r=Ew(e)||$w(e)||Qw(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=cg(this._rgb);return e&&(e.a=_n(e.a)),e}set rgb(e){this._rgb=fp(e)}rgbString(){return this._valid?Yw(this._rgb):void 0}hexString(){return this._valid?Ow(this._rgb):void 0}hslString(){return this._valid?Hw(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let l;const c=t===l?.5:t,u=2*c-1,f=r.a-i.a,p=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;l=1-p,r.r=255&p*r.r+l*i.r+.5,r.g=255&p*r.g+l*i.g+.5,r.b=255&p*r.b+l*i.b+.5,r.a=c*r.a+(1-c)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=qw(this._rgb,e._rgb,t)),this}clone(){return new gi(this.rgb)}alpha(e){return this._rgb.a=Xn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ni(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $o(this._rgb,2,e),this}darken(e){return $o(this._rgb,2,-e),this}saturate(e){return $o(this._rgb,1,e),this}desaturate(e){return $o(this._rgb,1,-e),this}rotate(e){return Bw(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function vn(){}const Xw=(()=>{let n=0;return()=>n++})();function Fe(n){return n==null}function Ze(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ht(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function rn(n,e){return ht(n)?n:e}function ve(n,e){return typeof n>"u"?e:n}const Kw=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Le(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Te(n,e,t,r){let i,l,c;if(Ze(n))for(l=n.length,i=0;i<l;i++)e.call(t,n[i],i);else if(be(n))for(c=Object.keys(n),l=c.length,i=0;i<l;i++)e.call(t,n[c[i]],c[i])}function fl(n,e){let t,r,i,l;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],l=e[t],i.datasetIndex!==l.datasetIndex||i.index!==l.index)return!1;return!0}function hl(n){if(Ze(n))return n.map(hl);if(be(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=hl(n[t[i]]);return e}return n}function ug(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Gw(n,e,t,r){if(!ug(n))return;const i=e[n],l=t[n];be(i)&&be(l)?xi(i,l,r):e[n]=hl(l)}function xi(n,e,t){const r=Ze(e)?e:[e],i=r.length;if(!be(n))return n;t=t||{};const l=t.merger||Gw;let c;for(let u=0;u<i;++u){if(c=r[u],!be(c))continue;const f=Object.keys(c);for(let p=0,g=f.length;p<g;++p)l(f[p],n,c,t)}return n}function ai(n,e){return xi(n,e,{merger:Jw})}function Jw(n,e,t){if(!ug(n))return;const r=e[n],i=t[n];be(r)&&be(i)?ai(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=hl(i))}const hp={"":n=>n,x:n=>n.x,y:n=>n.y};function Zw(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function eb(n){const e=Zw(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function pl(n,e){return(hp[e]||(hp[e]=eb(e)))(n)}function Du(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ml=n=>typeof n<"u",Kn=n=>typeof n=="function",pp=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function tb(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const rt=Math.PI,Xt=2*rt,nb=Xt+rt,gl=Number.POSITIVE_INFINITY,rb=rt/180,Qt=rt/2,ur=rt/4,mp=rt*2/3,dg=Math.log10,rs=Math.sign;function ci(n,e,t){return Math.abs(n-e)<t}function gp(n){const e=Math.round(n);n=ci(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(dg(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function sb(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,l)=>i-l).pop(),e}function ib(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function yi(n){return!ib(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ob(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function lb(n,e,t){let r,i,l;for(r=0,i=n.length;r<i;r++)l=n[r][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function xr(n){return n*(rt/180)}function ab(n){return n*(180/rt)}function xp(n){if(!ht(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function cb(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let l=Math.atan2(r,t);return l<-.5*rt&&(l+=Xt),{angle:l,distance:i}}function ru(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ub(n,e){return(n-e+nb)%Xt-rt}function ln(n){return(n%Xt+Xt)%Xt}function fg(n,e,t,r){const i=ln(n),l=ln(e),c=ln(t),u=ln(l-i),f=ln(c-i),p=ln(i-l),g=ln(i-c);return i===l||i===c||r&&l===c||u>f&&p<g}function zt(n,e,t){return Math.max(e,Math.min(t,n))}function db(n){return zt(n,-32768,32767)}function ts(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Cu(n,e,t){t=t||(c=>n[c]<e);let r=n.length-1,i=0,l;for(;r-i>1;)l=i+r>>1,t(l)?i=l:r=l;return{lo:i,hi:r}}const yr=(n,e,t,r)=>Cu(n,t,r?i=>{const l=n[i][e];return l<t||l===t&&n[i+1][e]===t}:i=>n[i][e]<t),fb=(n,e,t)=>Cu(n,t,r=>n[r][e]>=t);function hb(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const hg=["push","pop","shift","splice","unshift"];function pb(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),hg.forEach(t=>{const r="_onData"+Du(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...l){const c=i.apply(this,l);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...l)}),c}})})}function yp(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(hg.forEach(l=>{delete n[l]}),delete n._chartjs)}function mb(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const pg=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function mg(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,pg.call(window,()=>{r=!1,n.apply(e,t)}))}}function gb(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Tu=n=>n==="start"?"left":n==="end"?"right":"center",ut=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,xb=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function yb(n,e,t){const r=e.length;let i=0,l=r;if(n._sorted){const{iScale:c,vScale:u,_parsed:f}=n,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=c.axis,{min:y,max:v,minDefined:b,maxDefined:_}=c.getUserBounds();if(b){if(i=Math.min(yr(f,g,y).lo,t?r:yr(e,g,c.getPixelForValue(y)).lo),p){const k=f.slice(0,i+1).reverse().findIndex(S=>!Fe(S[u.axis]));i-=Math.max(0,k)}i=zt(i,0,r-1)}if(_){let k=Math.max(yr(f,c.axis,v,!0).hi+1,t?0:yr(e,g,c.getPixelForValue(v),!0).hi+1);if(p){const S=f.slice(k-1).findIndex(M=>!Fe(M[u.axis]));k+=Math.max(0,S)}l=zt(k,i,r)-i}else l=r-i}return{start:i,count:l}}function vb(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const l=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),l}const Uo=n=>n===0||n===1,vp=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Xt/t)),wp=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Xt/t)+1,ui={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Qt)+1,easeOutSine:n=>Math.sin(n*Qt),easeInOutSine:n=>-.5*(Math.cos(rt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Uo(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Uo(n)?n:vp(n,.075,.3),easeOutElastic:n=>Uo(n)?n:wp(n,.075,.3),easeInOutElastic(n){return Uo(n)?n:n<.5?.5*vp(n*2,.1125,.45):.5+.5*wp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ui.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ui.easeInBounce(n*2)*.5:ui.easeOutBounce(n*2-1)*.5+.5};function Eu(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function bp(n){return Eu(n)?n:new gi(n)}function Pc(n){return Eu(n)?n:new gi(n).saturate(.5).darken(.1).hexString()}const wb=["x","y","borderWidth","radius","tension"],bb=["color","borderColor","backgroundColor"];function _b(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:bb},numbers:{type:"number",properties:wb}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kb(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _p=new Map;function Sb(n,e){e=e||{};const t=n+JSON.stringify(e);let r=_p.get(t);return r||(r=new Intl.NumberFormat(n,e),_p.set(t,r)),r}function gg(n,e,t){return Sb(e,t).format(n)}const Nb={values(n){return Ze(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,l=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(i="scientific"),l=jb(n,t)}const c=dg(Math.abs(l)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),gg(n,r,f)}};function jb(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var xg={formatters:Nb};function Db(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _r=Object.create(null),su=Object.create(null);function di(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const l=t[r];n=n[l]||(n[l]=Object.create(null))}return n}function Bc(n,e,t){return typeof e=="string"?xi(di(n,e),t):xi(di(n,""),e)}class Cb{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Pc(i.backgroundColor),this.hoverBorderColor=(r,i)=>Pc(i.borderColor),this.hoverColor=(r,i)=>Pc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Bc(this,e,t)}get(e){return di(this,e)}describe(e,t){return Bc(su,e,t)}override(e,t){return Bc(_r,e,t)}route(e,t,r,i){const l=di(this,e),c=di(this,r),u="_"+t;Object.defineProperties(l,{[u]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[u],p=c[i];return be(f)?Object.assign({},p,f):ve(f,p)},set(f){this[u]=f}}})}apply(e){e.forEach(t=>t(this))}}var qe=new Cb({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_b,kb,Db]);function Tb(n){return!n||Fe(n.size)||Fe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function kp(n,e,t,r,i){let l=e[i];return l||(l=e[i]=n.measureText(i).width,t.push(i)),l>r&&(r=l),r}function dr(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Sp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function iu(n,e,t,r){yg(n,e,t,r,null)}function yg(n,e,t,r,i){let l,c,u,f,p,g,y,v;const b=e.pointStyle,_=e.rotation,k=e.radius;let S=(_||0)*rb;if(b&&typeof b=="object"&&(l=b.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(S),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),b){default:i?n.ellipse(t,r,i/2,k,0,0,Xt):n.arc(t,r,k,0,Xt),n.closePath();break;case"triangle":g=i?i/2:k,n.moveTo(t+Math.sin(S)*g,r-Math.cos(S)*k),S+=mp,n.lineTo(t+Math.sin(S)*g,r-Math.cos(S)*k),S+=mp,n.lineTo(t+Math.sin(S)*g,r-Math.cos(S)*k),n.closePath();break;case"rectRounded":p=k*.516,f=k-p,c=Math.cos(S+ur)*f,y=Math.cos(S+ur)*(i?i/2-p:f),u=Math.sin(S+ur)*f,v=Math.sin(S+ur)*(i?i/2-p:f),n.arc(t-y,r-u,p,S-rt,S-Qt),n.arc(t+v,r-c,p,S-Qt,S),n.arc(t+y,r+u,p,S,S+Qt),n.arc(t-v,r+c,p,S+Qt,S+rt),n.closePath();break;case"rect":if(!_){f=Math.SQRT1_2*k,g=i?i/2:f,n.rect(t-g,r-f,2*g,2*f);break}S+=ur;case"rectRot":y=Math.cos(S)*(i?i/2:k),c=Math.cos(S)*k,u=Math.sin(S)*k,v=Math.sin(S)*(i?i/2:k),n.moveTo(t-y,r-u),n.lineTo(t+v,r-c),n.lineTo(t+y,r+u),n.lineTo(t-v,r+c),n.closePath();break;case"crossRot":S+=ur;case"cross":y=Math.cos(S)*(i?i/2:k),c=Math.cos(S)*k,u=Math.sin(S)*k,v=Math.sin(S)*(i?i/2:k),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-c),n.lineTo(t-v,r+c);break;case"star":y=Math.cos(S)*(i?i/2:k),c=Math.cos(S)*k,u=Math.sin(S)*k,v=Math.sin(S)*(i?i/2:k),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-c),n.lineTo(t-v,r+c),S+=ur,y=Math.cos(S)*(i?i/2:k),c=Math.cos(S)*k,u=Math.sin(S)*k,v=Math.sin(S)*(i?i/2:k),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-c),n.lineTo(t-v,r+c);break;case"line":c=i?i/2:Math.cos(S)*k,u=Math.sin(S)*k,n.moveTo(t-c,r-u),n.lineTo(t+c,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(S)*(i?i/2:k),r+Math.sin(S)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function vi(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Tl(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function El(n){n.restore()}function Eb(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const l=(e.x+t.x)/2;n.lineTo(l,e.y),n.lineTo(l,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Mb(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Ob(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Fe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Fb(n,e,t,r,i){if(i.strikethrough||i.underline){const l=n.measureText(r),c=e-l.actualBoundingBoxLeft,u=e+l.actualBoundingBoxRight,f=t-l.actualBoundingBoxAscent,p=t+l.actualBoundingBoxDescent,g=i.strikethrough?(f+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(c,g),n.lineTo(u,g),n.stroke()}}function Rb(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function wi(n,e,t,r,i,l={}){const c=Ze(e)?e:[e],u=l.strokeWidth>0&&l.strokeColor!=="";let f,p;for(n.save(),n.font=i.string,Ob(n,l),f=0;f<c.length;++f)p=c[f],l.backdrop&&Rb(n,l.backdrop),u&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),Fe(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(p,t,r,l.maxWidth)),n.fillText(p,t,r,l.maxWidth),Fb(n,t,r,p,l),r+=Number(i.lineHeight);n.restore()}function ou(n,e){const{x:t,y:r,w:i,h:l,radius:c}=e;n.arc(t+c.topLeft,r+c.topLeft,c.topLeft,1.5*rt,rt,!0),n.lineTo(t,r+l-c.bottomLeft),n.arc(t+c.bottomLeft,r+l-c.bottomLeft,c.bottomLeft,rt,Qt,!0),n.lineTo(t+i-c.bottomRight,r+l),n.arc(t+i-c.bottomRight,r+l-c.bottomRight,c.bottomRight,Qt,0,!0),n.lineTo(t+i,r+c.topRight),n.arc(t+i-c.topRight,r+c.topRight,c.topRight,0,-Qt,!0),n.lineTo(t+c.topLeft,r)}const Ab=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ib(n,e){const t=(""+n).match(Ab);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const zb=n=>+n||0;function vg(n,e){const t={},r=be(e),i=r?Object.keys(e):e,l=be(n)?r?c=>ve(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of i)t[c]=zb(l(c));return t}function Pb(n){return vg(n,{top:"y",right:"x",bottom:"y",left:"x"})}function fi(n){return vg(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Bt(n){const e=Pb(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ft(n,e){n=n||{},e=e||qe.font;let t=ve(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=ve(n.style,e.style);r&&!(""+r).match(Lb)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ve(n.family,e.family),lineHeight:Ib(ve(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:ve(n.weight,e.weight),string:""};return i.string=Tb(i),i}function Vo(n,e,t,r){let i,l,c;for(i=0,l=n.length;i<l;++i)if(c=n[i],c!==void 0&&c!==void 0)return c}function Bb(n,e,t){const{min:r,max:i}=n,l=Kw(e,(i-r)/2),c=(u,f)=>t&&u===0?0:u+f;return{min:c(r,-Math.abs(l)),max:c(i,l)}}function kr(n,e){return Object.assign(Object.create(n),e)}function Mu(n,e=[""],t,r,i=()=>n[0]){const l=t||n;typeof r>"u"&&(r=kg("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:r,_getTarget:i,override:u=>Mu([u,...n],e,l,r)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return bg(u,f,()=>Qb(f,e,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return jp(u).includes(f)},ownKeys(u){return jp(u)},set(u,f,p){const g=u._storage||(u._storage=i());return u[f]=g[f]=p,delete u._keys,!0}})}function ss(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:wg(n,r),setContext:l=>ss(n,l,t,r),override:l=>ss(n.override(l),e,t,r)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete n[c],!0},get(l,c,u){return bg(l,c,()=>Wb(l,c,u))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(l,c,u){return n[c]=u,delete l[c],!0}})}function wg(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Kn(t)?t:()=>t,isIndexable:Kn(r)?r:()=>r}}const Hb=(n,e)=>n?n+Du(e):e,Ou=(n,e)=>be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bg(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Wb(n,e,t){const{_proxy:r,_context:i,_subProxy:l,_descriptors:c}=n;let u=r[e];return Kn(u)&&c.isScriptable(e)&&(u=$b(e,u,n,t)),Ze(u)&&u.length&&(u=Ub(e,u,n,c.isIndexable)),Ou(e,u)&&(u=ss(u,i,l&&l[e],c)),u}function $b(n,e,t,r){const{_proxy:i,_context:l,_subProxy:c,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=e(l,c||r);return u.delete(n),Ou(n,f)&&(f=Fu(i._scopes,i,n,f)),f}function Ub(n,e,t,r){const{_proxy:i,_context:l,_subProxy:c,_descriptors:u}=t;if(typeof l.index<"u"&&r(n))return e[l.index%e.length];if(be(e[0])){const f=e,p=i._scopes.filter(g=>g!==f);e=[];for(const g of f){const y=Fu(p,i,n,g);e.push(ss(y,l,c&&c[n],u))}}return e}function _g(n,e,t){return Kn(n)?n(e,t):n}const Vb=(n,e)=>n===!0?e:typeof n=="string"?pl(e,n):void 0;function Yb(n,e,t,r,i){for(const l of e){const c=Vb(t,l);if(c){n.add(c);const u=_g(c._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(c===!1&&typeof r<"u"&&t!==r)return null}return!1}function Fu(n,e,t,r){const i=e._rootScopes,l=_g(e._fallback,t,r),c=[...n,...i],u=new Set;u.add(r);let f=Np(u,c,t,l||t,r);return f===null||typeof l<"u"&&l!==t&&(f=Np(u,c,l,f,r),f===null)?!1:Mu(Array.from(u),[""],i,l,()=>qb(e,t,r))}function Np(n,e,t,r,i){for(;t;)t=Yb(n,e,t,r,i);return t}function qb(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Ze(i)&&be(t)?t:i||{}}function Qb(n,e,t,r){let i;for(const l of e)if(i=kg(Hb(l,n),t),typeof i<"u")return Ou(n,i)?Fu(t,r,n,i):i}function kg(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function jp(n){let e=n._keys;return e||(e=n._keys=Xb(n._scopes)),e}function Xb(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const Kb=Number.EPSILON||1e-14,is=(n,e)=>e<n.length&&!n[e].skip&&n[e],Sg=n=>n==="x"?"y":"x";function Gb(n,e,t,r){const i=n.skip?e:n,l=e,c=t.skip?e:t,u=ru(l,i),f=ru(c,l);let p=u/(u+f),g=f/(u+f);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const y=r*p,v=r*g;return{previous:{x:l.x-y*(c.x-i.x),y:l.y-y*(c.y-i.y)},next:{x:l.x+v*(c.x-i.x),y:l.y+v*(c.y-i.y)}}}function Jb(n,e,t){const r=n.length;let i,l,c,u,f,p=is(n,0);for(let g=0;g<r-1;++g)if(f=p,p=is(n,g+1),!(!f||!p)){if(ci(e[g],0,Kb)){t[g]=t[g+1]=0;continue}i=t[g]/e[g],l=t[g+1]/e[g],u=Math.pow(i,2)+Math.pow(l,2),!(u<=9)&&(c=3/Math.sqrt(u),t[g]=i*c*e[g],t[g+1]=l*c*e[g])}}function Zb(n,e,t="x"){const r=Sg(t),i=n.length;let l,c,u,f=is(n,0);for(let p=0;p<i;++p){if(c=u,u=f,f=is(n,p+1),!u)continue;const g=u[t],y=u[r];c&&(l=(g-c[t])/3,u[`cp1${t}`]=g-l,u[`cp1${r}`]=y-l*e[p]),f&&(l=(f[t]-g)/3,u[`cp2${t}`]=g+l,u[`cp2${r}`]=y+l*e[p])}}function e_(n,e="x"){const t=Sg(e),r=n.length,i=Array(r).fill(0),l=Array(r);let c,u,f,p=is(n,0);for(c=0;c<r;++c)if(u=f,f=p,p=is(n,c+1),!!f){if(p){const g=p[e]-f[e];i[c]=g!==0?(p[t]-f[t])/g:0}l[c]=u?p?rs(i[c-1])!==rs(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}Jb(n,i,l),Zb(n,l,e)}function Yo(n,e,t){return Math.max(Math.min(n,t),e)}function t_(n,e){let t,r,i,l,c,u=vi(n[0],e);for(t=0,r=n.length;t<r;++t)c=l,l=u,u=t<r-1&&vi(n[t+1],e),l&&(i=n[t],c&&(i.cp1x=Yo(i.cp1x,e.left,e.right),i.cp1y=Yo(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=Yo(i.cp2x,e.left,e.right),i.cp2y=Yo(i.cp2y,e.top,e.bottom)))}function n_(n,e,t,r,i){let l,c,u,f;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")e_(n,i);else{let p=r?n[n.length-1]:n[0];for(l=0,c=n.length;l<c;++l)u=n[l],f=Gb(p,u,n[Math.min(l+1,c-(r?0:1))%c],e.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,p=u}e.capBezierPoints&&t_(n,t)}function Ru(){return typeof window<"u"&&typeof document<"u"}function Au(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function xl(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Ml=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function r_(n,e){return Ml(n).getPropertyValue(e)}const s_=["top","right","bottom","left"];function wr(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const l=s_[i];r[l]=parseFloat(n[e+"-"+l+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const i_=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function o_(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:l}=r;let c=!1,u,f;if(i_(i,l,n.target))u=i,f=l;else{const p=e.getBoundingClientRect();u=r.clientX-p.left,f=r.clientY-p.top,c=!0}return{x:u,y:f,box:c}}function hr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Ml(t),l=i.boxSizing==="border-box",c=wr(i,"padding"),u=wr(i,"border","width"),{x:f,y:p,box:g}=o_(n,t),y=c.left+(g&&u.left),v=c.top+(g&&u.top);let{width:b,height:_}=e;return l&&(b-=c.width+u.width,_-=c.height+u.height),{x:Math.round((f-y)/b*t.width/r),y:Math.round((p-v)/_*t.height/r)}}function l_(n,e,t){let r,i;if(e===void 0||t===void 0){const l=n&&Au(n);if(!l)e=n.clientWidth,t=n.clientHeight;else{const c=l.getBoundingClientRect(),u=Ml(l),f=wr(u,"border","width"),p=wr(u,"padding");e=c.width-p.width-f.width,t=c.height-p.height-f.height,r=xl(u.maxWidth,l,"clientWidth"),i=xl(u.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:r||gl,maxHeight:i||gl}}const qo=n=>Math.round(n*10)/10;function a_(n,e,t,r){const i=Ml(n),l=wr(i,"margin"),c=xl(i.maxWidth,n,"clientWidth")||gl,u=xl(i.maxHeight,n,"clientHeight")||gl,f=l_(n,e,t);let{width:p,height:g}=f;if(i.boxSizing==="content-box"){const v=wr(i,"border","width"),b=wr(i,"padding");p-=b.width+v.width,g-=b.height+v.height}return p=Math.max(0,p-l.width),g=Math.max(0,r?p/r:g-l.height),p=qo(Math.min(p,c,f.maxWidth)),g=qo(Math.min(g,u,f.maxHeight)),p&&!g&&(g=qo(p/2)),(e!==void 0||t!==void 0)&&r&&f.height&&g>f.height&&(g=f.height,p=qo(Math.floor(g*r))),{width:p,height:g}}function Dp(n,e,t){const r=e||1,i=Math.floor(n.height*r),l=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||c.height!==i||c.width!==l?(n.currentDevicePixelRatio=r,c.height=i,c.width=l,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const c_=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ru()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Cp(n,e){const t=r_(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function pr(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function u_(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function d_(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},l={x:e.cp1x,y:e.cp1y},c=pr(n,i,t),u=pr(i,l,t),f=pr(l,e,t),p=pr(c,u,t),g=pr(u,f,t);return pr(p,g,t)}const f_=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},h_=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ns(n,e,t){return n?f_(e,t):h_()}function Ng(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function jg(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Dg(n){return n==="angle"?{between:fg,compare:ub,normalize:ln}:{between:ts,compare:(e,t)=>e-t,normalize:e=>e}}function Tp({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function p_(n,e,t){const{property:r,start:i,end:l}=t,{between:c,normalize:u}=Dg(r),f=e.length;let{start:p,end:g,loop:y}=n,v,b;if(y){for(p+=f,g+=f,v=0,b=f;v<b&&c(u(e[p%f][r]),i,l);++v)p--,g--;p%=f,g%=f}return g<p&&(g+=f),{start:p,end:g,loop:y,style:n.style}}function Cg(n,e,t){if(!t)return[n];const{property:r,start:i,end:l}=t,c=e.length,{compare:u,between:f,normalize:p}=Dg(r),{start:g,end:y,loop:v,style:b}=p_(n,e,t),_=[];let k=!1,S=null,M,I,T;const A=()=>f(i,T,M)&&u(i,T)!==0,E=()=>u(l,M)===0||f(l,T,M),P=()=>k||A(),B=()=>!k||E();for(let F=g,W=g;F<=y;++F)I=e[F%c],!I.skip&&(M=p(I[r]),M!==T&&(k=f(M,i,l),S===null&&P()&&(S=u(M,i)===0?F:W),S!==null&&B()&&(_.push(Tp({start:S,end:F,loop:v,count:c,style:b})),S=null),W=F,T=M));return S!==null&&_.push(Tp({start:S,end:y,loop:v,count:c,style:b})),_}function Tg(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const l=Cg(r[i],n.points,e);l.length&&t.push(...l)}return t}function m_(n,e,t,r){let i=0,l=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(l+=i);l>i&&n[l%e].skip;)l--;return l%=e,{start:i,end:l}}function g_(n,e,t,r){const i=n.length,l=[];let c=e,u=n[e],f;for(f=e+1;f<=t;++f){const p=n[f%i];p.skip||p.stop?u.skip||(r=!1,l.push({start:e%i,end:(f-1)%i,loop:r}),e=c=p.stop?f:null):(c=f,u.skip&&(e=f)),u=p}return c!==null&&l.push({start:e%i,end:c%i,loop:r}),l}function x_(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const l=!!n._loop,{start:c,end:u}=m_(t,i,l,r);if(r===!0)return Ep(n,[{start:c,end:u,loop:l}],t,e);const f=u<c?u+i:u,p=!!n._fullLoop&&c===0&&u===i-1;return Ep(n,g_(t,c,f,p),t,e)}function Ep(n,e,t,r){return!r||!r.setContext||!t?e:y_(n,e,t,r)}function y_(n,e,t,r){const i=n._chart.getContext(),l=Mp(n.options),{_datasetIndex:c,options:{spanGaps:u}}=n,f=t.length,p=[];let g=l,y=e[0].start,v=y;function b(_,k,S,M){const I=u?-1:1;if(_!==k){for(_+=f;t[_%f].skip;)_-=I;for(;t[k%f].skip;)k+=I;_%f!==k%f&&(p.push({start:_%f,end:k%f,loop:S,style:M}),g=M,y=k%f)}}for(const _ of e){y=u?y:_.start;let k=t[y%f],S;for(v=y+1;v<=_.end;v++){const M=t[v%f];S=Mp(r.setContext(kr(i,{type:"segment",p0:k,p1:M,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:c}))),v_(S,g)&&b(y,v-1,_.loop,g),k=M,g=S}y<v-1&&b(y,v-1,_.loop,g)}return p}function Mp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function v_(n,e){if(!e)return!1;const t=[],r=function(i,l){return Eu(l)?(t.includes(l)||t.push(l),t.indexOf(l)):l};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Qo(n,e,t){return n.options.clip?n[t]:e[t]}function w_(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Qo(t,e,"left"),right:Qo(t,e,"right"),top:Qo(r,e,"top"),bottom:Qo(r,e,"bottom")}:e}function Eg(n,e){const t=e._clip;if(t.disabled)return!1;const r=w_(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class b_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const l=t.listeners[i],c=t.duration;l.forEach(u=>u({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(r-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=pg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const l=r.items;let c=l.length-1,u=!1,f;for(;c>=0;--c)f=l[c],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(e),u=!0):(l[c]=l[l.length-1],l.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),l.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wn=new b_;const Op="transparent",__={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=bp(n||Op),i=r.valid&&bp(e||Op);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class k_{constructor(e,t,r,i){const l=t[r];i=Vo([e.to,i,l,e.from]);const c=Vo([e.from,l,i]);this._active=!0,this._fn=e.fn||__[e.type||typeof c],this._easing=ui[e.easing]||ui.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],l=r-this._start,c=this._duration-l;this._start=r,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Vo([e.to,t,i,e.from]),this._from=Vo([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,l=this._from,c=this._loop,u=this._to;let f;if(this._active=l!==u&&(c||t<r),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=l;return}f=t/r%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[i]=this._fn(l,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Mg{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!be(e))return;const t=Object.keys(qe.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const l=e[i];if(!be(l))return;const c={};for(const u of t)c[u]=l[u];(Ze(l.properties)&&l.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,c)})})}_animateOptions(e,t){const r=t.options,i=N_(e,r);if(!i)return[];const l=this._createAnimations(i,r);return r.$shared&&S_(e.options.$animations,r).then(()=>{e.options=r},()=>{}),l}_createAnimations(e,t){const r=this._properties,i=[],l=e.$animations||(e.$animations={}),c=Object.keys(t),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const p=c[f];if(p.charAt(0)==="$")continue;if(p==="options"){i.push(...this._animateOptions(e,t));continue}const g=t[p];let y=l[p];const v=r.get(p);if(y)if(v&&y.active()){y.update(v,g,u);continue}else y.cancel();if(!v||!v.duration){e[p]=g;continue}l[p]=y=new k_(v,e,p,g),i.push(y)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return wn.add(this._chart,r),!0}}function S_(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const l=n[r[i]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function N_(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Fp(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:r?l:i,end:r?i:l}}function j_(n,e,t){if(t===!1)return!1;const r=Fp(n,t),i=Fp(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function D_(n){let e,t,r,i;return be(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function Og(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,l;for(i=0,l=r.length;i<l;++i)t.push(r[i].index);return t}function Rp(n,e,t,r={}){const i=n.keys,l=r.mode==="single";let c,u,f,p;if(e===null)return;let g=!1;for(c=0,u=i.length;c<u;++c){if(f=+i[c],f===t){if(g=!0,r.all)continue;break}p=n.values[f],ht(p)&&(l||e===0||rs(e)===rs(p))&&(e+=p)}return!g&&!r.all?0:e}function C_(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",l=r.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let f,p,g;for(f=0,p=c.length;f<p;++f)g=c[f],u[f]={[i]:g,[l]:n[g]};return u}function Hc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function T_(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function E_(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function M_(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Ap(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const l=n[i.index];if(t&&l>0||!t&&l<0)return i.index}return null}function Lp(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:l,vScale:c,index:u}=r,f=l.axis,p=c.axis,g=T_(l,c,r),y=e.length;let v;for(let b=0;b<y;++b){const _=e[b],{[f]:k,[p]:S}=_,M=_._stacks||(_._stacks={});v=M[p]=M_(i,g,k),v[u]=S,v._top=Ap(v,c,!0,r.type),v._bottom=Ap(v,c,!1,r.type);const I=v._visualValues||(v._visualValues={});I[u]=S}}function Wc(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function O_(n,e){return kr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function F_(n,e,t){return kr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Gs(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const l=i._stacks;if(!l||l[r]===void 0||l[r][t]===void 0)return;delete l[r][t],l[r]._visualValues!==void 0&&l[r]._visualValues[t]!==void 0&&delete l[r]._visualValues[t]}}}const $c=n=>n==="reset"||n==="none",Ip=(n,e)=>e?n:Object.assign({},n),R_=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Og(t,!0),values:null};class hi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Gs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(y,v,b,_)=>y==="x"?v:y==="r"?_:b,l=t.xAxisID=ve(r.xAxisID,Wc(e,"x")),c=t.yAxisID=ve(r.yAxisID,Wc(e,"y")),u=t.rAxisID=ve(r.rAxisID,Wc(e,"r")),f=t.indexAxis,p=t.iAxisID=i(f,l,c,u),g=t.vAxisID=i(f,c,l,u);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&yp(this._data,this),e._stacked&&Gs(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(be(t)){const i=this._cachedMeta;this._data=C_(t,i)}else if(r!==t){if(r){yp(r,this);const i=this._cachedMeta;Gs(i),i._parsed=[]}t&&Object.isExtensible(t)&&pb(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const l=t._stacked;t._stacked=Hc(t.vScale,t),t.stack!==r.stack&&(i=!0,Gs(t),t.stack=r.stack),this._resyncElements(e),(i||l!==t._stacked)&&(Lp(this,t._parsed),t._stacked=Hc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:l,_stacked:c}=r,u=l.axis;let f=e===0&&t===i.length?!0:r._sorted,p=e>0&&r._parsed[e-1],g,y,v;if(this._parsing===!1)r._parsed=i,r._sorted=!0,v=i;else{Ze(i[e])?v=this.parseArrayData(r,i,e,t):be(i[e])?v=this.parseObjectData(r,i,e,t):v=this.parsePrimitiveData(r,i,e,t);const b=()=>y[u]===null||p&&y[u]<p[u];for(g=0;g<t;++g)r._parsed[g+e]=y=v[g],f&&(b()&&(f=!1),p=y);r._sorted=f}c&&Lp(this,v)}parsePrimitiveData(e,t,r,i){const{iScale:l,vScale:c}=e,u=l.axis,f=c.axis,p=l.getLabels(),g=l===c,y=new Array(i);let v,b,_;for(v=0,b=i;v<b;++v)_=v+r,y[v]={[u]:g||l.parse(p[_],_),[f]:c.parse(t[_],_)};return y}parseArrayData(e,t,r,i){const{xScale:l,yScale:c}=e,u=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=t[g],u[f]={x:l.parse(y[0],g),y:c.parse(y[1],g)};return u}parseObjectData(e,t,r,i){const{xScale:l,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,p=new Array(i);let g,y,v,b;for(g=0,y=i;g<y;++g)v=g+r,b=t[v],p[g]={x:l.parse(pl(b,u),v),y:c.parse(pl(b,f),v)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,l=this._cachedMeta,c=t[e.axis],u={keys:Og(i,!0),values:t._stacks[e.axis]._visualValues};return Rp(u,c,l.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const l=r[t.axis];let c=l===null?NaN:l;const u=i&&r._stacks[t.axis];i&&u&&(i.values=u,c=Rp(i,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,l=r._sorted&&e===r.iScale,c=i.length,u=this._getOtherScale(e),f=R_(t,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=E_(u);let v,b;function _(){b=i[v];const k=b[u.axis];return!ht(b[e.axis])||g>k||y<k}for(v=0;v<c&&!(!_()&&(this.updateRangeFromParsed(p,e,b,f),l));++v);if(l){for(v=c-1;v>=0;--v)if(!_()){this.updateRangeFromParsed(p,e,b,f);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,l,c;for(i=0,l=t.length;i<l;++i)c=t[i][e.axis],ht(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,l=this.getParsed(e);return{label:r?""+r.getLabelForValue(l[r.axis]):"",value:i?""+i.getLabelForValue(l[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=D_(ve(this.options.clip,j_(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],l=t.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||i.length-u,p=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,l,u,f),g=u;g<u+f;++g){const y=i[g];y.hidden||(y.active&&p?c.push(y):y.draw(e,l))}for(g=0;g<c.length;++g)c[g].draw(e,l)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=F_(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=i.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=O_(this.chart.getContext(),this.index)),l.dataset=i,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=r,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",l=this._cachedDataOpts,c=e+"-"+t,u=l[c],f=this.enableOptionSharing&&ml(r);if(u)return Ip(u,f);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,e),y=i?[`${e}Hover`,"hover",e,""]:[e,""],v=p.getOptionScopes(this.getDataset(),g),b=Object.keys(qe.elements[e]),_=()=>this.getContext(r,i,t),k=p.resolveNamedOptions(v,b,_,y);return k.$shared&&(k.$shared=f,l[c]=Object.freeze(Ip(k,f))),k}_resolveAnimations(e,t,r){const i=this.chart,l=this._cachedDataOpts,c=`animation-${t}`,u=l[c];if(u)return u;let f;if(i.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),y);f=g.createResolver(v,this.getContext(e,r,t))}const p=new Mg(i,f&&f.animations);return f&&f._cacheable&&(l[c]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||$c(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,l=this.getSharedOptions(r),c=this.includeOptions(t,l)||l!==i;return this.updateSharedOptions(l,t,r),{sharedOptions:l,includeOptions:c}}updateElement(e,t,r,i){$c(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!$c(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const l=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,f,p]of this._syncList)this[u](f,p);this._syncList=[];const i=r.length,l=t.length,c=Math.min(l,i);c&&this.parse(0,c),l>i?this._insertElements(i,l-i,e):l<i&&this._removeElements(l,i-l)}_insertElements(e,t,r=!0){const i=this._cachedMeta,l=i.data,c=e+t;let u;const f=p=>{for(p.length+=t,u=p.length-1;u>=c;u--)p[u]=p[u-t]};for(f(l),u=e;u<c;++u)l[u]=new this.dataElementType;this._parsing&&f(i._parsed),this.parse(e,t),r&&this.updateElements(l,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Gs(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(hi,"defaults",{}),$(hi,"datasetElementType",null),$(hi,"dataElementType",null);class ol extends hi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:l}=t,c=this.chart._animationsDisabled;let{start:u,count:f}=yb(t,i,c);this._drawStart=u,this._drawCount=f,vb(t)&&(u=0,f=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=i;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:p},e),this.updateElements(i,u,f,e)}updateElements(e,t,r,i){const l=i==="reset",{iScale:c,vScale:u,_stacked:f,_dataset:p}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,i),v=c.axis,b=u.axis,{spanGaps:_,segment:k}=this.options,S=yi(_)?_:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||l||i==="none",I=t+r,T=e.length;let A=t>0&&this.getParsed(t-1);for(let E=0;E<T;++E){const P=e[E],B=M?P:{};if(E<t||E>=I){B.skip=!0;continue}const F=this.getParsed(E),W=Fe(F[b]),te=B[v]=c.getPixelForValue(F[v],E),J=B[b]=l||W?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,F,f):F[b],E);B.skip=isNaN(te)||isNaN(J)||W,B.stop=E>0&&Math.abs(F[v]-A[v])>S,k&&(B.parsed=F,B.raw=p.data[E]),y&&(B.options=g||this.resolveDataElementOptions(E,P.active?"active":i)),M||this.updateElement(P,E,B,i),A=F}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const l=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,l,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$(ol,"id","line"),$(ol,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(ol,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function fr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lu{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(Lu.prototype,e)}init(){}formats(){return fr()}parse(){return fr()}format(){return fr()}add(){return fr()}diff(){return fr()}startOf(){return fr()}endOf(){return fr()}}var Fg={_date:Lu};function A_(n,e,t,r){const{controller:i,data:l,_sorted:c}=n,u=i._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&l.length){const p=u._reversePixels?fb:yr;if(r){if(i._sharedOptions){const g=l[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const v=p(l,e,t-y),b=p(l,e,t+y);return{lo:v.lo,hi:b.hi}}}}else{const g=p(l,e,t);if(f){const{vScale:y}=i._cachedMeta,{_parsed:v}=n,b=v.slice(0,g.lo+1).reverse().findIndex(k=>!Fe(k[y.axis]));g.lo-=Math.max(0,b);const _=v.slice(g.hi).findIndex(k=>!Fe(k[y.axis]));g.hi+=Math.max(0,_)}return g}}return{lo:0,hi:l.length-1}}function Ol(n,e,t,r,i){const l=n.getSortedVisibleDatasetMetas(),c=t[e];for(let u=0,f=l.length;u<f;++u){const{index:p,data:g}=l[u],{lo:y,hi:v}=A_(l[u],e,c,i);for(let b=y;b<=v;++b){const _=g[b];_.skip||r(_,p,b)}}}function L_(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const l=e?Math.abs(r.x-i.x):0,c=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function Uc(n,e,t,r,i){const l=[];return!i&&!n.isPointInArea(e)||Ol(n,t,e,function(u,f,p){!i&&!vi(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&l.push({element:u,datasetIndex:f,index:p})},!0),l}function I_(n,e,t,r){let i=[];function l(c,u,f){const{startAngle:p,endAngle:g}=c.getProps(["startAngle","endAngle"],r),{angle:y}=cb(c,{x:e.x,y:e.y});fg(y,p,g)&&i.push({element:c,datasetIndex:u,index:f})}return Ol(n,t,e,l),i}function z_(n,e,t,r,i,l){let c=[];const u=L_(t);let f=Number.POSITIVE_INFINITY;function p(g,y,v){const b=g.inRange(e.x,e.y,i);if(r&&!b)return;const _=g.getCenterPoint(i);if(!(!!l||n.isPointInArea(_))&&!b)return;const S=u(e,_);S<f?(c=[{element:g,datasetIndex:y,index:v}],f=S):S===f&&c.push({element:g,datasetIndex:y,index:v})}return Ol(n,t,e,p),c}function Vc(n,e,t,r,i,l){return!l&&!n.isPointInArea(e)?[]:t==="r"&&!r?I_(n,e,t,i):z_(n,e,t,r,i,l)}function zp(n,e,t,r,i){const l=[],c=t==="x"?"inXRange":"inYRange";let u=!1;return Ol(n,t,e,(f,p,g)=>{f[c]&&f[c](e[t],i)&&(l.push({element:f,datasetIndex:p,index:g}),u=u||f.inRange(e.x,e.y,i))}),r&&!u?[]:l}var P_={modes:{index(n,e,t,r){const i=hr(e,n),l=t.axis||"x",c=t.includeInvisible||!1,u=t.intersect?Uc(n,i,l,r,c):Vc(n,i,l,!1,r,c),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const g=u[0].index,y=p.data[g];y&&!y.skip&&f.push({element:y,datasetIndex:p.index,index:g})}),f):[]},dataset(n,e,t,r){const i=hr(e,n),l=t.axis||"xy",c=t.includeInvisible||!1;let u=t.intersect?Uc(n,i,l,r,c):Vc(n,i,l,!1,r,c);if(u.length>0){const f=u[0].datasetIndex,p=n.getDatasetMeta(f).data;u=[];for(let g=0;g<p.length;++g)u.push({element:p[g],datasetIndex:f,index:g})}return u},point(n,e,t,r){const i=hr(e,n),l=t.axis||"xy",c=t.includeInvisible||!1;return Uc(n,i,l,r,c)},nearest(n,e,t,r){const i=hr(e,n),l=t.axis||"xy",c=t.includeInvisible||!1;return Vc(n,i,l,t.intersect,r,c)},x(n,e,t,r){const i=hr(e,n);return zp(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=hr(e,n);return zp(n,i,"y",t.intersect,r)}}};const Rg=["left","top","right","bottom"];function Js(n,e){return n.filter(t=>t.pos===e)}function Pp(n,e){return n.filter(t=>Rg.indexOf(t.pos)===-1&&t.box.axis===e)}function Zs(n,e){return n.sort((t,r)=>{const i=e?r:t,l=e?t:r;return i.weight===l.weight?i.index-l.index:i.weight-l.weight})}function B_(n){const e=[];let t,r,i,l,c,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:l,options:{stack:c,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:l,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&l+c,stackWeight:u});return e}function H_(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:l}=t;if(!r||!Rg.includes(i))continue;const c=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function W_(n,e){const t=H_(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let l,c,u;for(l=0,c=n.length;l<c;++l){u=n[l];const{fullSize:f}=u.box,p=t[u.stack],g=p&&u.stackWeight/p.weight;u.horizontal?(u.width=g?g*r:f&&e.availableWidth,u.height=i):(u.width=r,u.height=g?g*i:f&&e.availableHeight)}return t}function $_(n){const e=B_(n),t=Zs(e.filter(p=>p.box.fullSize),!0),r=Zs(Js(e,"left"),!0),i=Zs(Js(e,"right")),l=Zs(Js(e,"top"),!0),c=Zs(Js(e,"bottom")),u=Pp(e,"x"),f=Pp(e,"y");return{fullSize:t,leftAndTop:r.concat(l),rightAndBottom:i.concat(f).concat(c).concat(u),chartArea:Js(e,"chartArea"),vertical:r.concat(i).concat(f),horizontal:l.concat(c).concat(u)}}function Bp(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Ag(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function U_(n,e,t,r){const{pos:i,box:l}=t,c=n.maxPadding;if(!be(i)){t.size&&(n[i]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?l.height:l.width),t.size=y.size/y.count,n[i]+=t.size}l.getPadding&&Ag(c,l.getPadding());const u=Math.max(0,e.outerWidth-Bp(c,n,"left","right")),f=Math.max(0,e.outerHeight-Bp(c,n,"top","bottom")),p=u!==n.w,g=f!==n.h;return n.w=u,n.h=f,t.horizontal?{same:p,other:g}:{same:g,other:p}}function V_(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Y_(n,e){const t=e.maxPadding;function r(i){const l={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{l[c]=Math.max(e[c],t[c])}),l}return r(n?["left","right"]:["top","bottom"])}function oi(n,e,t,r){const i=[];let l,c,u,f,p,g;for(l=0,c=n.length,p=0;l<c;++l){u=n[l],f=u.box,f.update(u.width||e.w,u.height||e.h,Y_(u.horizontal,e));const{same:y,other:v}=U_(e,t,u,r);p|=y&&i.length,g=g||v,f.fullSize||i.push(u)}return p&&oi(i,e,t,r)||g}function Xo(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function Hp(n,e,t,r){const i=t.padding;let{x:l,y:c}=e;for(const u of n){const f=u.box,p=r[u.stack]||{placed:0,weight:1},g=u.stackWeight/p.weight||1;if(u.horizontal){const y=e.w*g,v=p.size||f.height;ml(p.start)&&(c=p.start),f.fullSize?Xo(f,i.left,c,t.outerWidth-i.right-i.left,v):Xo(f,e.left+p.placed,c,y,v),p.start=c,p.placed+=y,c=f.bottom}else{const y=e.h*g,v=p.size||f.width;ml(p.start)&&(l=p.start),f.fullSize?Xo(f,l,i.top,v,t.outerHeight-i.bottom-i.top):Xo(f,l,e.top+p.placed,v,y),p.start=l,p.placed+=y,l=f.right}}e.x=l,e.y=c}var Pt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Bt(n.options.layout.padding),l=Math.max(e-i.width,0),c=Math.max(t-i.height,0),u=$_(n.boxes),f=u.vertical,p=u.horizontal;Te(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const g=f.reduce((k,S)=>S.box.options&&S.box.options.display===!1?k:k+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/g,hBoxMaxHeight:c/2}),v=Object.assign({},i);Ag(v,Bt(r));const b=Object.assign({maxPadding:v,w:l,h:c,x:i.left,y:i.top},i),_=W_(f.concat(p),y);oi(u.fullSize,b,y,_),oi(f,b,y,_),oi(p,b,y,_)&&oi(f,b,y,_),V_(b),Hp(u.leftAndTop,b,y,_),b.x+=b.w,b.y+=b.h,Hp(u.rightAndBottom,b,y,_),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Te(u.chartArea,k=>{const S=k.box;Object.assign(S,n.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Lg{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class q_ extends Lg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ll="$chartjs",Q_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wp=n=>n===null||n==="";function X_(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[ll]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Wp(i)){const l=Cp(n,"width");l!==void 0&&(n.width=l)}if(Wp(r))if(n.style.height==="")n.height=n.width/(e||2);else{const l=Cp(n,"height");l!==void 0&&(n.height=l)}return n}const Ig=c_?{passive:!0}:!1;function K_(n,e,t){n&&n.addEventListener(e,t,Ig)}function G_(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Ig)}function J_(n,e){const t=Q_[n.type]||n.type,{x:r,y:i}=hr(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function yl(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Z_(n,e,t){const r=n.canvas,i=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||yl(u.addedNodes,r),c=c&&!yl(u.removedNodes,r);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function e1(n,e,t){const r=n.canvas,i=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||yl(u.removedNodes,r),c=c&&!yl(u.addedNodes,r);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const bi=new Map;let $p=0;function zg(){const n=window.devicePixelRatio;n!==$p&&($p=n,bi.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function t1(n,e){bi.size||window.addEventListener("resize",zg),bi.set(n,e)}function n1(n){bi.delete(n),bi.size||window.removeEventListener("resize",zg)}function r1(n,e,t){const r=n.canvas,i=r&&Au(r);if(!i)return;const l=mg((u,f)=>{const p=i.clientWidth;t(u,f),p<i.clientWidth&&t()},window),c=new ResizeObserver(u=>{const f=u[0],p=f.contentRect.width,g=f.contentRect.height;p===0&&g===0||l(p,g)});return c.observe(i),t1(n,l),c}function Yc(n,e,t){t&&t.disconnect(),e==="resize"&&n1(n)}function s1(n,e,t){const r=n.canvas,i=mg(l=>{n.ctx!==null&&t(J_(l,n))},n);return K_(r,e,i),i}class i1 extends Lg{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(X_(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ll])return!1;const r=t[ll].initial;["height","width"].forEach(l=>{const c=r[l];Fe(c)?t.removeAttribute(l):t.setAttribute(l,c)});const i=r.style||{};return Object.keys(i).forEach(l=>{t.style[l]=i[l]}),t.width=t.width,delete t[ll],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),c={attach:Z_,detach:e1,resize:r1}[t]||s1;i[t]=c(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Yc,detach:Yc,resize:Yc}[t]||G_)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return a_(e,t,r,i)}isAttached(e){const t=e&&Au(e);return!!(t&&t.isConnected)}}function o1(n){return!Ru()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?q_:i1}class kn{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return yi(this.x)&&yi(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(l=>{i[l]=r[l]&&r[l].active()?r[l]._to:this[l]}),i}}$(kn,"defaults",{}),$(kn,"defaultRoutes");function l1(n,e){const t=n.options.ticks,r=a1(n),i=Math.min(t.maxTicksLimit||r,r),l=t.major.enabled?u1(e):[],c=l.length,u=l[0],f=l[c-1],p=[];if(c>i)return d1(e,p,l,c/i),p;const g=c1(l,e,i);if(c>0){let y,v;const b=c>1?Math.round((f-u)/(c-1)):null;for(Ko(e,p,g,Fe(b)?0:u-b,u),y=0,v=c-1;y<v;y++)Ko(e,p,g,l[y],l[y+1]);return Ko(e,p,g,f,Fe(b)?e.length:f+b),p}return Ko(e,p,g),p}function a1(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function c1(n,e,t){const r=f1(n),i=e.length/t;if(!r)return Math.max(i,1);const l=sb(r);for(let c=0,u=l.length-1;c<u;c++){const f=l[c];if(f>i)return f}return Math.max(i,1)}function u1(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function d1(n,e,t,r){let i=0,l=t[0],c;for(r=Math.ceil(r),c=0;c<n.length;c++)c===l&&(e.push(n[c]),i++,l=t[i*r])}function Ko(n,e,t,r,i){const l=ve(r,0),c=Math.min(ve(i,n.length),n.length);let u=0,f,p,g;for(t=Math.ceil(t),i&&(f=i-r,t=f/Math.floor(f/t)),g=l;g<0;)u++,g=Math.round(l+u*t);for(p=Math.max(l,0);p<c;p++)p===g&&(e.push(n[p]),u++,g=Math.round(l+u*t))}function f1(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const h1=n=>n==="left"?"right":n==="right"?"left":n,Up=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Vp=(n,e)=>Math.min(e||n,n);function Yp(n,e){const t=[],r=n.length/e,i=n.length;let l=0;for(;l<i;l+=r)t.push(n[Math.floor(l)]);return t}function p1(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),l=n._startPixel,c=n._endPixel,u=1e-6;let f=n.getPixelForTick(i),p;if(!(t&&(r===1?p=Math.max(f-l,c-f):e===0?p=(n.getPixelForTick(1)-f)/2:p=(f-n.getPixelForTick(i-1))/2,f+=i<e?p:-p,f<l-u||f>c+u)))return f}function m1(n,e){Te(n,t=>{const r=t.gc,i=r.length/2;let l;if(i>e){for(l=0;l<i;++l)delete t.data[r[l]];r.splice(0,i)}})}function ei(n){return n.drawTicks?n.tickLength:0}function qp(n,e){if(!n.display)return 0;const t=ft(n.font,e),r=Bt(n.padding);return(Ze(n.text)?n.text.length:1)*t.lineHeight+r.height}function g1(n,e){return kr(n,{scale:e,type:"scale"})}function x1(n,e,t){return kr(n,{tick:t,index:e,type:"tick"})}function y1(n,e,t){let r=Tu(n);return(t&&e!=="right"||!t&&e==="right")&&(r=h1(r)),r}function v1(n,e,t,r){const{top:i,left:l,bottom:c,right:u,chart:f}=n,{chartArea:p,scales:g}=f;let y=0,v,b,_;const k=c-i,S=u-l;if(n.isHorizontal()){if(b=ut(r,l,u),be(t)){const M=Object.keys(t)[0],I=t[M];_=g[M].getPixelForValue(I)+k-e}else t==="center"?_=(p.bottom+p.top)/2+k-e:_=Up(n,t,e);v=u-l}else{if(be(t)){const M=Object.keys(t)[0],I=t[M];b=g[M].getPixelForValue(I)-S+e}else t==="center"?b=(p.left+p.right)/2-S+e:b=Up(n,t,e);_=ut(r,c,i),y=t==="left"?-Qt:Qt}return{titleX:b,titleY:_,maxWidth:v,rotation:y}}class cs extends kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=rn(e,Number.POSITIVE_INFINITY),t=rn(t,Number.NEGATIVE_INFINITY),r=rn(r,Number.POSITIVE_INFINITY),i=rn(i,Number.NEGATIVE_INFINITY),{min:rn(e,r),max:rn(t,i),minDefined:ht(e),maxDefined:ht(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:l}=this.getUserBounds(),c;if(i&&l)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let f=0,p=u.length;f<p;++f)c=u[f].controller.getMinMax(this,e),i||(t=Math.min(t,c.min)),l||(r=Math.max(r,c.max));return t=l&&t>r?r:t,r=i&&t>r?t:r,{min:rn(t,rn(r,t)),max:rn(r,rn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:l,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Bb(this,l,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?Yp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=l1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Le(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,l;for(r=0,i=e.length;r<i;r++)l=e[r],l.label=Le(t.callback,[l.value,r,e],this)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Vp(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,l=t.maxRotation;let c=i,u,f,p;if(!this._isVisible()||!t.display||i>=l||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,b=zt(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/r:b/(r-1),y+6>u&&(u=b/(r-(e.offset?.5:1)),f=this.maxHeight-ei(e.grid)-t.padding-qp(e.title,this.chart.options.font),p=Math.sqrt(y*y+v*v),c=ab(Math.min(Math.asin(zt((g.highest.height+6)/u,-1,1)),Math.asin(zt(f/p,-1,1))-Math.asin(zt(v/p,-1,1)))),c=Math.max(i,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:l}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=qp(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=ei(l)+f):(e.height=this.maxHeight,e.width=ei(l)+f),r.display&&this.ticks.length){const{first:p,last:g,widest:y,highest:v}=this._getLabelSizes(),b=r.padding*2,_=xr(this.labelRotation),k=Math.cos(_),S=Math.sin(_);if(u){const M=r.mirror?0:S*y.width+k*v.height;e.height=Math.min(this.maxHeight,e.height+M+b)}else{const M=r.mirror?0:k*y.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+M+b)}this._calculatePadding(p,g,S,k)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:l,padding:c},position:u}=this.options,f=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;f?p?(v=i*e.width,b=r*t.height):(v=r*e.height,b=i*t.width):l==="start"?b=t.width:l==="end"?v=e.width:l!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((b-y+c)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;l==="start"?(g=0,y=e.height):l==="end"&&(g=t.height,y=0),this.paddingTop=g+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Fe(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Yp(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:l}=this,c=[],u=[],f=Math.floor(t/Vp(t,r));let p=0,g=0,y,v,b,_,k,S,M,I,T,A,E;for(y=0;y<t;y+=f){if(_=e[y].label,k=this._resolveTickFontOptions(y),i.font=S=k.string,M=l[S]=l[S]||{data:{},gc:[]},I=k.lineHeight,T=A=0,!Fe(_)&&!Ze(_))T=kp(i,M.data,M.gc,T,_),A=I;else if(Ze(_))for(v=0,b=_.length;v<b;++v)E=_[v],!Fe(E)&&!Ze(E)&&(T=kp(i,M.data,M.gc,T,E),A+=I);c.push(T),u.push(A),p=Math.max(T,p),g=Math.max(A,g)}m1(l,t);const P=c.indexOf(p),B=u.indexOf(g),F=W=>({width:c[W]||0,height:u[W]||0});return{first:F(0),last:F(t-1),widest:F(P),highest:F(B),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return db(this._alignToPixels?dr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=x1(this.getContext(),e,r))}return this.$context||(this.$context=g1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=xr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,u=l?l.widest.width+c:0,f=l?l.highest.height+c:0;return this.isHorizontal()?f*r>u*i?u/r:f/i:f*i<u*r?f/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:l,position:c,border:u}=i,f=l.offset,p=this.isHorizontal(),y=this.ticks.length+(f?1:0),v=ei(l),b=[],_=u.setContext(this.getContext()),k=_.display?_.width:0,S=k/2,M=function(ye){return dr(r,ye,k)};let I,T,A,E,P,B,F,W,te,J,Z,he;if(c==="top")I=M(this.bottom),B=this.bottom-v,W=I-S,J=M(e.top)+S,he=e.bottom;else if(c==="bottom")I=M(this.top),J=e.top,he=M(e.bottom)-S,B=I+S,W=this.top+v;else if(c==="left")I=M(this.right),P=this.right-v,F=I-S,te=M(e.left)+S,Z=e.right;else if(c==="right")I=M(this.left),te=e.left,Z=M(e.right)-S,P=I+S,F=this.left+v;else if(t==="x"){if(c==="center")I=M((e.top+e.bottom)/2+.5);else if(be(c)){const ye=Object.keys(c)[0],me=c[ye];I=M(this.chart.scales[ye].getPixelForValue(me))}J=e.top,he=e.bottom,B=I+S,W=B+v}else if(t==="y"){if(c==="center")I=M((e.left+e.right)/2);else if(be(c)){const ye=Object.keys(c)[0],me=c[ye];I=M(this.chart.scales[ye].getPixelForValue(me))}P=I-S,F=P-v,te=e.left,Z=e.right}const Ee=ve(i.ticks.maxTicksLimit,y),we=Math.max(1,Math.ceil(y/Ee));for(T=0;T<y;T+=we){const ye=this.getContext(T),me=l.setContext(ye),K=u.setContext(ye),q=me.lineWidth,Q=me.color,D=K.dash||[],H=K.dashOffset,ae=me.tickWidth,ce=me.tickColor,ge=me.tickBorderDash||[],pe=me.tickBorderDashOffset;A=p1(this,T,f),A!==void 0&&(E=dr(r,A,q),p?P=F=te=Z=E:B=W=J=he=E,b.push({tx1:P,ty1:B,tx2:F,ty2:W,x1:te,y1:J,x2:Z,y2:he,width:q,color:Q,borderDash:D,borderDashOffset:H,tickWidth:ae,tickColor:ce,tickBorderDash:ge,tickBorderDashOffset:pe}))}return this._ticksLength=y,this._borderValue=I,b}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:l}=r,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:p,padding:g,mirror:y}=l,v=ei(r.grid),b=v+g,_=y?-g:b,k=-xr(this.labelRotation),S=[];let M,I,T,A,E,P,B,F,W,te,J,Z,he="middle";if(i==="top")P=this.bottom-_,B=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+_,B=this._getXAxisLabelAlignment();else if(i==="left"){const we=this._getYAxisLabelAlignment(v);B=we.textAlign,E=we.x}else if(i==="right"){const we=this._getYAxisLabelAlignment(v);B=we.textAlign,E=we.x}else if(t==="x"){if(i==="center")P=(e.top+e.bottom)/2+b;else if(be(i)){const we=Object.keys(i)[0],ye=i[we];P=this.chart.scales[we].getPixelForValue(ye)+b}B=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")E=(e.left+e.right)/2-b;else if(be(i)){const we=Object.keys(i)[0],ye=i[we];E=this.chart.scales[we].getPixelForValue(ye)}B=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(f==="start"?he="top":f==="end"&&(he="bottom"));const Ee=this._getLabelSizes();for(M=0,I=u.length;M<I;++M){T=u[M],A=T.label;const we=l.setContext(this.getContext(M));F=this.getPixelForTick(M)+l.labelOffset,W=this._resolveTickFontOptions(M),te=W.lineHeight,J=Ze(A)?A.length:1;const ye=J/2,me=we.color,K=we.textStrokeColor,q=we.textStrokeWidth;let Q=B;c?(E=F,B==="inner"&&(M===I-1?Q=this.options.reverse?"left":"right":M===0?Q=this.options.reverse?"right":"left":Q="center"),i==="top"?p==="near"||k!==0?Z=-J*te+te/2:p==="center"?Z=-Ee.highest.height/2-ye*te+te:Z=-Ee.highest.height+te/2:p==="near"||k!==0?Z=te/2:p==="center"?Z=Ee.highest.height/2-ye*te:Z=Ee.highest.height-J*te,y&&(Z*=-1),k!==0&&!we.showLabelBackdrop&&(E+=te/2*Math.sin(k))):(P=F,Z=(1-J)*te/2);let D;if(we.showLabelBackdrop){const H=Bt(we.backdropPadding),ae=Ee.heights[M],ce=Ee.widths[M];let ge=Z-H.top,pe=0-H.left;switch(he){case"middle":ge-=ae/2;break;case"bottom":ge-=ae;break}switch(B){case"center":pe-=ce/2;break;case"right":pe-=ce;break;case"inner":M===I-1?pe-=ce:M>0&&(pe-=ce/2);break}D={left:pe,top:ge,width:ce+H.width,height:ae+H.height,color:we.backdropColor}}S.push({label:A,font:W,textOffset:Z,options:{rotation:k,color:me,strokeColor:K,strokeWidth:q,textAlign:Q,textBaseline:he,translation:[E,P],backdrop:D}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-xr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:l}}=this.options,c=this._getLabelSizes(),u=e+l,f=c.widest.width;let p,g;return t==="left"?i?(g=this.right+l,r==="near"?p="left":r==="center"?(p="center",g+=f/2):(p="right",g+=f)):(g=this.right-u,r==="near"?p="right":r==="center"?(p="center",g-=f/2):(p="left",g=this.left)):t==="right"?i?(g=this.left+l,r==="near"?p="right":r==="center"?(p="center",g-=f/2):(p="left",g-=f)):(g=this.left+u,r==="near"?p="left":r==="center"?(p="center",g+=f/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:l,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,l,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(l=>l.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const u=(f,p,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(t.display)for(l=0,c=i.length;l<c;++l){const f=i[l];t.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,l=r.setContext(this.getContext()),c=r.display?l.width:0;if(!c)return;const u=i.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let p,g,y,v;this.isHorizontal()?(p=dr(e,this.left,c)-c/2,g=dr(e,this.right,u)+u/2,y=v=f):(y=dr(e,this.top,c)-c/2,v=dr(e,this.bottom,u)+u/2,p=g=f),t.save(),t.lineWidth=l.width,t.strokeStyle=l.color,t.beginPath(),t.moveTo(p,y),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Tl(r,i);const l=this.getLabelItems(e);for(const c of l){const u=c.options,f=c.font,p=c.label,g=c.textOffset;wi(r,p,0,g,f,u)}i&&El(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const l=ft(r.font),c=Bt(r.padding),u=r.align;let f=l.lineHeight/2;t==="bottom"||t==="center"||be(t)?(f+=c.bottom,Ze(r.text)&&(f+=l.lineHeight*(r.text.length-1))):f+=c.top;const{titleX:p,titleY:g,maxWidth:y,rotation:v}=v1(this,f,t,u);wi(e,r.text,0,0,l,{color:r.color,maxWidth:y,rotation:v,textAlign:y1(u,t,i),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=ve(e.grid&&e.grid.z,-1),i=ve(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==cs.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:r,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let l,c;for(l=0,c=t.length;l<c;++l){const u=t[l];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ft(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Go{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;_1(t)&&(r=this.register(t));const i=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in i||(i[l]=e,w1(e,c,r),this.override&&qe.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in qe[i]&&(delete qe[i][r],this.override&&delete _r[r])}}function w1(n,e,t){const r=xi(Object.create(null),[t?qe.get(t):{},qe.get(e),n.defaults]);qe.set(e,r),n.defaultRoutes&&b1(e,n.defaultRoutes),n.descriptors&&qe.describe(e,n.descriptors)}function b1(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),l=[n].concat(r).join("."),c=e[t].split("."),u=c.pop(),f=c.join(".");qe.route(l,i,f,u)})}function _1(n){return"id"in n&&"defaults"in n}class k1{constructor(){this.controllers=new Go(hi,"datasets",!0),this.elements=new Go(kn,"elements"),this.plugins=new Go(Object,"plugins"),this.scales=new Go(cs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const l=r||this._getRegistryForType(i);r||l.isForType(i)||l===this.plugins&&i.id?this._exec(e,l,i):Te(i,c=>{const u=r||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,t,r){const i=Du(e);Le(r["before"+i],[],r),t[e](r),Le(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var on=new k1;class S1{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=i?this._descriptors(e).filter(i):this._descriptors(e),c=this._notify(l,e,t,r);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,r,i){i=i||{};for(const l of e){const c=l.plugin,u=c[r],f=[t,i,l.options];if(Le(u,f,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=ve(r.options&&r.options.plugins,{}),l=N1(r);return i===!1&&!t?[]:D1(e,l,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(l,c)=>l.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function N1(n){const e={},t=[],r=Object.keys(on.plugins.items);for(let l=0;l<r.length;l++)t.push(on.getPlugin(r[l]));const i=n.plugins||[];for(let l=0;l<i.length;l++){const c=i[l];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function j1(n,e){return!e&&n===!1?null:n===!0?{}:n}function D1(n,{plugins:e,localIds:t},r,i){const l=[],c=n.getContext();for(const u of e){const f=u.id,p=j1(r[f],i);p!==null&&l.push({plugin:u,options:C1(n.config,{plugin:u,local:t[f]},p,c)})}return l}function C1(n,{plugin:e,local:t},r,i){const l=n.pluginScopeKeys(e),c=n.getOptionScopes(r,l);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lu(n,e){const t=qe.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function T1(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function E1(n,e){return n===e?"_index_":"_value_"}function Qp(n){if(n==="x"||n==="y"||n==="r")return n}function M1(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function au(n,...e){if(Qp(n))return n;for(const t of e){const r=t.axis||M1(t.position)||n.length>1&&Qp(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Xp(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function O1(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Xp(n,"x",t[0])||Xp(n,"y",t[0])}return{}}function F1(n,e){const t=_r[n.type]||{scales:{}},r=e.scales||{},i=lu(n.type,e),l=Object.create(null);return Object.keys(r).forEach(c=>{const u=r[c];if(!be(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=au(c,u,O1(c,n),qe.scales[u.type]),p=E1(f,i),g=t.scales||{};l[c]=ai(Object.create(null),[{axis:f},u,g[f],g[p]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,f=c.indexAxis||lu(u,e),g=(_r[u]||{}).scales||{};Object.keys(g).forEach(y=>{const v=T1(y,f),b=c[v+"AxisID"]||v;l[b]=l[b]||Object.create(null),ai(l[b],[{axis:v},r[b],g[y]])})}),Object.keys(l).forEach(c=>{const u=l[c];ai(u,[qe.scales[u.type],qe.scale])}),l}function Pg(n){const e=n.options||(n.options={});e.plugins=ve(e.plugins,{}),e.scales=F1(n,e)}function Bg(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function R1(n){return n=n||{},n.data=Bg(n.data),Pg(n),n}const Kp=new Map,Hg=new Set;function Jo(n,e){let t=Kp.get(n);return t||(t=e(),Kp.set(n,t),Hg.add(t)),t}const ti=(n,e,t)=>{const r=pl(e,t);r!==void 0&&n.add(r)};class A1{constructor(e){this._config=R1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Bg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Pg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Jo(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Jo(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Jo(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:l}=this,c=this._cachedScopes(e,r),u=c.get(t);if(u)return u;const f=new Set;t.forEach(g=>{e&&(f.add(e),g.forEach(y=>ti(f,e,y))),g.forEach(y=>ti(f,i,y)),g.forEach(y=>ti(f,_r[l]||{},y)),g.forEach(y=>ti(f,qe,y)),g.forEach(y=>ti(f,su,y))});const p=Array.from(f);return p.length===0&&p.push(Object.create(null)),Hg.has(t)&&c.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,_r[t]||{},qe.datasets[t]||{},{type:t},qe,su]}resolveNamedOptions(e,t,r,i=[""]){const l={$shared:!0},{resolver:c,subPrefixes:u}=Gp(this._resolverCache,e,i);let f=c;if(I1(c,t)){l.$shared=!1,r=Kn(r)?r():r;const p=this.createResolver(e,r,u);f=ss(c,r,p)}for(const p of t)l[p]=f[p];return l}createResolver(e,t,r=[""],i){const{resolver:l}=Gp(this._resolverCache,e,r);return be(t)?ss(l,t,void 0,i):l}}function Gp(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let l=r.get(i);return l||(l={resolver:Mu(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,l)),l}const L1=n=>be(n)&&Object.getOwnPropertyNames(n).some(e=>Kn(n[e]));function I1(n,e){const{isScriptable:t,isIndexable:r}=wg(n);for(const i of e){const l=t(i),c=r(i),u=(c||l)&&n[i];if(l&&(Kn(u)||L1(u))||c&&Ze(u))return!0}return!1}var z1="4.4.9";const P1=["top","bottom","left","right","chartArea"];function Jp(n,e){return n==="top"||n==="bottom"||P1.indexOf(n)===-1&&e==="x"}function Zp(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function em(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Le(t&&t.onComplete,[n],e)}function B1(n){const e=n.chart,t=e.options.animation;Le(t&&t.onProgress,[n],e)}function Wg(n){return Ru()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const al={},tm=n=>{const e=Wg(n);return Object.values(al).filter(t=>t.canvas===e).pop()};function H1(n,e,t){const r=Object.keys(n);for(const i of r){const l=+i;if(l>=e){const c=n[i];delete n[i],(t>0||l>e)&&(n[l+t]=c)}}}function W1(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Yn;let Fl=(Yn=class{static register(...e){on.add(...e),nm()}static unregister(...e){on.remove(...e),nm()}constructor(e,t){const r=this.config=new A1(t),i=Wg(e),l=tm(i);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||o1(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,c.aspectRatio),f=u&&u.canvas,p=f&&f.height,g=f&&f.width;if(this.id=Xw(),this.ctx=u,this.canvas=f,this.width=g,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new S1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gb(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],al[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}wn.listen(this,"complete",em),wn.listen(this,"progress",B1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:l}=this;return Fe(e)?t&&l?l:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return on}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Dp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sp(this.canvas,this.ctx),this}stop(){return wn.stop(this),this}resize(e,t){wn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,l=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,e,t,l),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Dp(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Le(r.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Te(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((c,u)=>(c[u]=!1,c),{});let l=[];t&&(l=l.concat(Object.keys(t).map(c=>{const u=t[c],f=au(c,u),p=f==="r",g=f==="x";return{options:u,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),Te(l,c=>{const u=c.options,f=u.id,p=au(f,u),g=ve(u.type,c.dtype);(u.position===void 0||Jp(u.position,p)!==Jp(c.dposition))&&(u.position=c.dposition),i[f]=!0;let y=null;if(f in r&&r[f].type===g)y=r[f];else{const v=on.getScale(g);y=new v({id:f,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(u,e)}),Te(i,(c,u)=>{c||delete r[u]}),Te(r,c=>{Pt.configure(this,c,c.options),Pt.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,l)=>i.index-l.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Zp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(l=>l===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const l=t[r];let c=this.getDatasetMeta(r);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=u,c.indexAxis=l.indexAxis||lu(u,this.options),c.order=l.order||0,c.index=r,c.label=""+l.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const f=on.getController(u),{datasetElementType:p,dataElementType:g}=qe.datasets[u];Object.assign(f,{dataElementType:on.getElement(g),datasetElementType:p&&on.getElement(p)}),c.controller=new f(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Te(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:y}=this.getDatasetMeta(p),v=!i&&l.indexOf(y)===-1;y.buildOrUpdateElements(v),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),i||Te(l,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zp("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Te(this.scales,e=>{Pt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!pp(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:l}of t){const c=r==="_removeElements"?-l:l;H1(e,i,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=l=>new Set(e.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),i=r(0);for(let l=1;l<t;l++)if(!pp(i,r(l)))return;return Array.from(i).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pt.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Te(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,l)=>{i._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Kn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wn.has(this)?this.attached&&!wn.running(this)&&wn.start(this):(this.draw(),em({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,l;for(i=0,l=t.length;i<l;++i){const c=t[i];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Eg(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Tl(t,i),e.controller.draw(),i&&El(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const l=P_.modes[t];return typeof l=="function"?l(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(l=>l&&l._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=kr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,i);ml(t)?(l.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(l,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),wn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Sp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete al[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};Te(this.options.events,l=>r(l,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(f,p)=>{t.addEventListener(this,f,p),e[f]=p},i=(f,p)=>{e[f]&&(t.removeEventListener(this,f,p),delete e[f])},l=(f,p)=>{this.canvas&&this.resize(f,p)};let c;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",l),r("detach",c)};c=()=>{this.attached=!1,i("resize",l),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():c()}unbindEvents(){Te(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Te(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let l,c,u,f;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+i+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!fl(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,l=(f,p)=>f.filter(g=>!p.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),c=l(t,e),u=r?e:l(e,t);c.length&&this.updateHoverStyle(c,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const l=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(l||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:l}=this,c=t,u=this._getActiveElements(e,i,r,c),f=tb(e),p=W1(e,this._lastEvent,r,f);r&&(this._lastEvent=null,Le(l.onHover,[e,u,this],this),f&&Le(l.onClick,[e,u,this],this));const g=!fl(u,i);return(g||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=p,g}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,i)}},$(Yn,"defaults",qe),$(Yn,"instances",al),$(Yn,"overrides",_r),$(Yn,"registry",on),$(Yn,"version",z1),$(Yn,"getChart",tm),Yn);function nm(){return Te(Fl.instances,n=>n._plugins.invalidate())}function $g(n,e,t=e){n.lineCap=ve(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ve(t.borderDash,e.borderDash)),n.lineDashOffset=ve(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ve(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ve(t.borderWidth,e.borderWidth),n.strokeStyle=ve(t.borderColor,e.borderColor)}function $1(n,e,t){n.lineTo(t.x,t.y)}function U1(n){return n.stepped?Eb:n.tension||n.cubicInterpolationMode==="monotone"?Mb:$1}function Ug(n,e,t={}){const r=n.length,{start:i=0,end:l=r-1}=t,{start:c,end:u}=e,f=Math.max(i,c),p=Math.min(l,u),g=i<c&&l<c||i>u&&l>u;return{count:r,start:f,loop:e.loop,ilen:p<f&&!g?r+p-f:p-f}}function V1(n,e,t,r){const{points:i,options:l}=e,{count:c,start:u,loop:f,ilen:p}=Ug(i,t,r),g=U1(l);let{move:y=!0,reverse:v}=r||{},b,_,k;for(b=0;b<=p;++b)_=i[(u+(v?p-b:b))%c],!_.skip&&(y?(n.moveTo(_.x,_.y),y=!1):g(n,k,_,v,l.stepped),k=_);return f&&(_=i[(u+(v?p:0))%c],g(n,k,_,v,l.stepped)),!!f}function Y1(n,e,t,r){const i=e.points,{count:l,start:c,ilen:u}=Ug(i,t,r),{move:f=!0,reverse:p}=r||{};let g=0,y=0,v,b,_,k,S,M;const I=A=>(c+(p?u-A:A))%l,T=()=>{k!==S&&(n.lineTo(g,S),n.lineTo(g,k),n.lineTo(g,M))};for(f&&(b=i[I(0)],n.moveTo(b.x,b.y)),v=0;v<=u;++v){if(b=i[I(v)],b.skip)continue;const A=b.x,E=b.y,P=A|0;P===_?(E<k?k=E:E>S&&(S=E),g=(y*g+A)/++y):(T(),n.lineTo(A,E),_=P,y=0,k=S=E),M=E}T()}function cu(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Y1:V1}function q1(n){return n.stepped?u_:n.tension||n.cubicInterpolationMode==="monotone"?d_:pr}function Q1(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),$g(n,e.options),n.stroke(i)}function X1(n,e,t,r){const{segments:i,options:l}=e,c=cu(e);for(const u of i)$g(n,l,u.style),n.beginPath(),c(n,e,u,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const K1=typeof Path2D=="function";function G1(n,e,t,r){K1&&!e.options.segment?Q1(n,e,t,r):X1(n,e,t,r)}class Qn extends kn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;n_(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=x_(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],l=this.points,c=Tg(this,{property:t,start:i,end:i});if(!c.length)return;const u=[],f=q1(r);let p,g;for(p=0,g=c.length;p<g;++p){const{start:y,end:v}=c[p],b=l[y],_=l[v];if(b===_){u.push(b);continue}const k=Math.abs((i-b[t])/(_[t]-b[t])),S=f(b,_,k,r.stepped);S[t]=e[t],u.push(S)}return u.length===1?u[0]:u}pathSegment(e,t,r){return cu(this)(e,this,t,r)}path(e,t,r){const i=this.segments,l=cu(this);let c=this._loop;t=t||0,r=r||this.points.length-t;for(const u of i)c&=l(e,this,u,{start:t,end:t+r-1});return!!c}draw(e,t,r,i){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),G1(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(Qn,"id","line"),$(Qn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(Qn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(Qn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function rm(n,e,t,r){const i=n.options,{[t]:l}=n.getProps([t],r);return Math.abs(e-l)<i.radius+i.hitRadius}class cl extends kn{constructor(t){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const l=this.options,{x:c,y:u}=this.getProps(["x","y"],i);return Math.pow(t-c,2)+Math.pow(r-u,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,r){return rm(this,t,"x",r)}inYRange(t,r){return rm(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!vi(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,iu(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}$(cl,"id","point"),$(cl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(cl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function J1(n,e,t){const r=n.segments,i=n.points,l=e.points,c=[];for(const u of r){let{start:f,end:p}=u;p=Iu(f,p,i);const g=uu(t,i[f],i[p],u.loop);if(!e.segments){c.push({source:u,target:g,start:i[f],end:i[p]});continue}const y=Tg(e,g);for(const v of y){const b=uu(t,l[v.start],l[v.end],v.loop),_=Cg(u,i,b);for(const k of _)c.push({source:k,target:v,start:{[t]:sm(g,b,"start",Math.max)},end:{[t]:sm(g,b,"end",Math.min)}})}}return c}function uu(n,e,t,r){if(r)return;let i=e[n],l=t[n];return n==="angle"&&(i=ln(i),l=ln(l)),{property:n,start:i,end:l}}function Z1(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,l=[];return e.segments.forEach(({start:c,end:u})=>{u=Iu(c,u,i);const f=i[c],p=i[u];r!==null?(l.push({x:f.x,y:r}),l.push({x:p.x,y:r})):t!==null&&(l.push({x:t,y:f.y}),l.push({x:t,y:p.y}))}),l}function Iu(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function sm(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Vg(n,e){let t=[],r=!1;return Ze(n)?(r=!0,t=n):t=Z1(n,e),t.length?new Qn({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function im(n){return n&&n.fill!==!1}function ek(n,e,t){let i=n[e].fill;const l=[e];let c;if(!t)return i;for(;i!==!1&&l.indexOf(i)===-1;){if(!ht(i))return i;if(c=n[i],!c)return!1;if(c.visible)return i;l.push(i),i=c.fill}return!1}function tk(n,e,t){const r=ik(n);if(be(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ht(i)&&Math.floor(i)===i?nk(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function nk(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function rk(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:be(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function sk(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:be(n)?r=n.value:r=e.getBaseValue(),r}function ik(n){const e=n.options,t=e.fill;let r=ve(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function ok(n){const{scale:e,index:t,line:r}=n,i=[],l=r.segments,c=r.points,u=lk(e,t);u.push(Vg({x:null,y:e.bottom},r));for(let f=0;f<l.length;f++){const p=l[f];for(let g=p.start;g<=p.end;g++)ak(i,c[g],u)}return new Qn({points:i,options:{}})}function lk(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const l=r[i];if(l.index===e)break;l.hidden||t.unshift(l.dataset)}return t}function ak(n,e,t){const r=[];for(let i=0;i<t.length;i++){const l=t[i],{first:c,last:u,point:f}=ck(l,e,"x");if(!(!f||c&&u)){if(c)r.unshift(f);else if(n.push(f),!u)break}}n.push(...r)}function ck(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],l=n.segments,c=n.points;let u=!1,f=!1;for(let p=0;p<l.length;p++){const g=l[p],y=c[g.start][t],v=c[g.end][t];if(ts(i,y,v)){u=i===y,f=i===v;break}}return{first:u,last:f,point:r}}class Yg{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:l,radius:c}=this;return t=t||{start:0,end:Xt},e.arc(i,l,c,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,l=e.angle;return{x:t+Math.cos(l)*i,y:r+Math.sin(l)*i,angle:l}}}function uk(n){const{chart:e,fill:t,line:r}=n;if(ht(t))return dk(e,t);if(t==="stack")return ok(n);if(t==="shape")return!0;const i=fk(n);return i instanceof Yg?i:Vg(i,r)}function dk(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function fk(n){return(n.scale||{}).getPointPositionForValue?pk(n):hk(n)}function hk(n){const{scale:e={},fill:t}=n,r=rk(t,e);if(ht(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function pk(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,l=r.reverse?e.max:e.min,c=sk(t,e,l),u=[];if(r.grid.circular){const f=e.getPointPositionForValue(0,l);return new Yg({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(c)})}for(let f=0;f<i;++f)u.push(e.getPointPositionForValue(f,c));return u}function qc(n,e,t){const r=uk(e),{chart:i,index:l,line:c,scale:u,axis:f}=e,p=c.options,g=p.fill,y=p.backgroundColor,{above:v=y,below:b=y}=g||{},_=i.getDatasetMeta(l),k=Eg(i,_);r&&c.points.length&&(Tl(n,t),mk(n,{line:c,target:r,above:v,below:b,area:t,scale:u,axis:f,clip:k}),El(n))}function mk(n,e){const{line:t,target:r,above:i,below:l,area:c,scale:u,clip:f}=e,p=t._loop?"angle":e.axis;n.save(),p==="x"&&l!==i&&(om(n,r,c.top),lm(n,{line:t,target:r,color:i,scale:u,property:p,clip:f}),n.restore(),n.save(),om(n,r,c.bottom)),lm(n,{line:t,target:r,color:l,scale:u,property:p,clip:f}),n.restore()}function om(n,e,t){const{segments:r,points:i}=e;let l=!0,c=!1;n.beginPath();for(const u of r){const{start:f,end:p}=u,g=i[f],y=i[Iu(f,p,i)];l?(n.moveTo(g.x,g.y),l=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),c=!!e.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function lm(n,e){const{line:t,target:r,property:i,color:l,scale:c,clip:u}=e,f=J1(t,r,i);for(const{source:p,target:g,start:y,end:v}of f){const{style:{backgroundColor:b=l}={}}=p,_=r!==!0;n.save(),n.fillStyle=b,gk(n,c,u,_&&uu(i,y,v)),n.beginPath();const k=!!t.pathSegment(n,p);let S;if(_){k?n.closePath():am(n,r,v,i);const M=!!r.pathSegment(n,g,{move:k,reverse:!0});S=k&&M,S||am(n,r,y,i)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function gk(n,e,t,r){const i=e.chart.chartArea,{property:l,start:c,end:u}=r||{};if(l==="x"||l==="y"){let f,p,g,y;l==="x"?(f=c,p=i.top,g=u,y=i.bottom):(f=i.left,p=c,g=i.right,y=u),n.beginPath(),t&&(f=Math.max(f,t.left),g=Math.min(g,t.right),p=Math.max(p,t.top),y=Math.min(y,t.bottom)),n.rect(f,p,g-f,y-p),n.clip()}}function am(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var xk={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let l,c,u,f;for(c=0;c<r;++c)l=n.getDatasetMeta(c),u=l.dataset,f=null,u&&u.options&&u instanceof Qn&&(f={visible:n.isDatasetVisible(c),index:c,fill:tk(u,c,r),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:u}),l.$filler=f,i.push(f);for(c=0;c<r;++c)f=i[c],!(!f||f.fill===!1)&&(f.fill=ek(i,c,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let c=i.length-1;c>=0;--c){const u=i[c].$filler;u&&(u.line.updateControlPoints(l,u.axis),r&&u.fill&&qc(n.ctx,u,l))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const l=r[i].$filler;im(l)&&qc(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!im(r)||t.drawTime!=="beforeDatasetDraw"||qc(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cm=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},yk=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class um extends kn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Le(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=ft(r.font),l=i.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=cm(r,l);let p,g;t.font=i.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(c,l,u,f)+10):(g=this.maxHeight,p=this._fitCols(c,i,u,f)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:l,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],p=this.lineWidths=[0],g=i+u;let y=e;l.textAlign="left",l.textBaseline="middle";let v=-1,b=-g;return this.legendItems.forEach((_,k)=>{const S=r+t/2+l.measureText(_.text).width;(k===0||p[p.length-1]+S+2*u>c)&&(y+=g,p[p.length-(k>0?0:1)]=0,b+=g,v++),f[k]={left:0,top:b,row:v,width:S,height:i},p[p.length-1]+=S+u}),y}_fitCols(e,t,r,i){const{ctx:l,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],p=this.columnSizes=[],g=c-e;let y=u,v=0,b=0,_=0,k=0;return this.legendItems.forEach((S,M)=>{const{itemWidth:I,itemHeight:T}=vk(r,t,l,S,i);M>0&&b+T+2*u>g&&(y+=v+u,p.push({width:v,height:b}),_+=v+u,k++,v=b=0),f[M]={left:_,top:b,col:k,width:I,height:T},v=Math.max(v,I),b+=T+u}),y+=v,p.push({width:v,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:l}}=this,c=ns(l,this.left,this.width);if(this.isHorizontal()){let u=0,f=ut(r,this.left+i,this.right-this.lineWidths[u]);for(const p of t)u!==p.row&&(u=p.row,f=ut(r,this.left+i,this.right-this.lineWidths[u])),p.top+=this.top+e+i,p.left=c.leftForLtr(c.x(f),p.width),f+=p.width+i}else{let u=0,f=ut(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const p of t)p.col!==u&&(u=p.col,f=ut(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),p.top=f,p.left+=this.left+i,p.left=c.leftForLtr(c.x(p.left),p.width),f+=p.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tl(e,this),this._draw(),El(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:l,labels:c}=e,u=qe.color,f=ns(e.rtl,this.left,this.width),p=ft(c.font),{padding:g}=c,y=p.size,v=y/2;let b;this.drawTitle(),i.textAlign=f.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=p.string;const{boxWidth:_,boxHeight:k,itemHeight:S}=cm(c,y),M=function(P,B,F){if(isNaN(_)||_<=0||isNaN(k)||k<0)return;i.save();const W=ve(F.lineWidth,1);if(i.fillStyle=ve(F.fillStyle,u),i.lineCap=ve(F.lineCap,"butt"),i.lineDashOffset=ve(F.lineDashOffset,0),i.lineJoin=ve(F.lineJoin,"miter"),i.lineWidth=W,i.strokeStyle=ve(F.strokeStyle,u),i.setLineDash(ve(F.lineDash,[])),c.usePointStyle){const te={radius:k*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:W},J=f.xPlus(P,_/2),Z=B+v;yg(i,te,J,Z,c.pointStyleWidth&&_)}else{const te=B+Math.max((y-k)/2,0),J=f.leftForLtr(P,_),Z=fi(F.borderRadius);i.beginPath(),Object.values(Z).some(he=>he!==0)?ou(i,{x:J,y:te,w:_,h:k,radius:Z}):i.rect(J,te,_,k),i.fill(),W!==0&&i.stroke()}i.restore()},I=function(P,B,F){wi(i,F.text,P,B+S/2,p,{strikethrough:F.hidden,textAlign:f.textAlign(F.textAlign)})},T=this.isHorizontal(),A=this._computeTitleHeight();T?b={x:ut(l,this.left+g,this.right-r[0]),y:this.top+g+A,line:0}:b={x:this.left+g,y:ut(l,this.top+A+g,this.bottom-t[0].height),line:0},Ng(this.ctx,e.textDirection);const E=S+g;this.legendItems.forEach((P,B)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const F=i.measureText(P.text).width,W=f.textAlign(P.textAlign||(P.textAlign=c.textAlign)),te=_+v+F;let J=b.x,Z=b.y;f.setWidth(this.width),T?B>0&&J+te+g>this.right&&(Z=b.y+=E,b.line++,J=b.x=ut(l,this.left+g,this.right-r[b.line])):B>0&&Z+E>this.bottom&&(J=b.x=J+t[b.line].width+g,b.line++,Z=b.y=ut(l,this.top+A+g,this.bottom-t[b.line].height));const he=f.x(J);if(M(he,Z,P),J=xb(W,J+_+v,T?J+te:this.right,e.rtl),I(f.x(J),Z,P),T)b.x+=te+g;else if(typeof P.text!="string"){const Ee=p.lineHeight;b.y+=qg(P,Ee)+g}else b.y+=E}),jg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=ft(t.font),i=Bt(t.padding);if(!t.display)return;const l=ns(e.rtl,this.left,this.width),c=this.ctx,u=t.position,f=r.size/2,p=i.top+f;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+p,y=ut(e.align,y,this.right-v);else{const _=this.columnSizes.reduce((k,S)=>Math.max(k,S.height),0);g=p+ut(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const b=ut(u,y,y+v);c.textAlign=l.textAlign(Tu(u)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=r.string,wi(c,t.text,b,g,r)}_computeTitleHeight(){const e=this.options.title,t=ft(e.font),r=Bt(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,l;if(ts(e,this.left,this.right)&&ts(t,this.top,this.bottom)){for(l=this.legendHitBoxes,r=0;r<l.length;++r)if(i=l[r],ts(e,i.left,i.left+i.width)&&ts(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!_k(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,l=yk(i,r);i&&!l&&Le(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!l&&Le(t.onHover,[e,r,this],this)}else r&&Le(t.onClick,[e,r,this],this)}}function vk(n,e,t,r,i){const l=wk(r,n,e,t),c=bk(i,r,e.lineHeight);return{itemWidth:l,itemHeight:c}}function wk(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((l,c)=>l.length>c.length?l:c)),e+t.size/2+r.measureText(i).width}function bk(n,e,t){let r=n;return typeof e.text!="string"&&(r=qg(e,t)),r}function qg(n,e){const t=n.text?n.text.length:0;return e*t}function _k(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var kk={id:"legend",_element:um,start(n,e,t){const r=n.legend=new um({ctx:n.ctx,options:t,chart:n});Pt.configure(n,r,t),Pt.addBox(n,r)},stop(n){Pt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Pt.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:l,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(t?0:void 0),g=Bt(p.borderWidth);return{text:e[f.index].label,fillStyle:p.backgroundColor,fontColor:l,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:i||p.textAlign,borderRadius:c&&(u||p.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Qg extends kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Ze(r.text)?r.text.length:1;this._padding=Bt(r.padding);const l=i*ft(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:l,options:c}=this,u=c.align;let f=0,p,g,y;return this.isHorizontal()?(g=ut(u,r,l),y=t+e,p=l-r):(c.position==="left"?(g=r+e,y=ut(u,i,t),f=rt*-.5):(g=l-e,y=ut(u,t,i),f=rt*.5),p=i-t),{titleX:g,titleY:y,maxWidth:p,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=ft(t.font),l=r.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:p}=this._drawArgs(l);wi(e,t.text,0,0,r,{color:t.color,maxWidth:f,rotation:p,textAlign:Tu(t.align),textBaseline:"middle",translation:[c,u]})}}function Sk(n,e){const t=new Qg({ctx:n.ctx,options:e,chart:n});Pt.configure(n,t,e),Pt.addBox(n,t),n.titleBlock=t}var Nk={id:"title",_element:Qg,start(n,e,t){Sk(n,t)},stop(n){const e=n.titleBlock;Pt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Pt.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const li={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,l=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();r.add(f.x),i+=f.y,++l}}return l===0||r.size===0?!1:{x:[...r].reduce((u,f)=>u+f)/r.size,y:i/l}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,l,c,u;for(l=0,c=n.length;l<c;++l){const f=n[l].element;if(f&&f.hasValue()){const p=f.getCenterPoint(),g=ru(e,p);g<i&&(i=g,u=f)}}if(u){const f=u.tooltipPosition();t=f.x,r=f.y}return{x:t,y:r}}};function sn(n,e){return e&&(Ze(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function bn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function jk(n,e){const{element:t,datasetIndex:r,index:i}=e,l=n.getDatasetMeta(r).controller,{label:c,value:u}=l.getLabelAndValue(i);return{chart:n,label:c,parsed:l.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:l.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function dm(n,e){const t=n.chart.ctx,{body:r,footer:i,title:l}=n,{boxWidth:c,boxHeight:u}=e,f=ft(e.bodyFont),p=ft(e.titleFont),g=ft(e.footerFont),y=l.length,v=i.length,b=r.length,_=Bt(e.padding);let k=_.height,S=0,M=r.reduce((A,E)=>A+E.before.length+E.lines.length+E.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,y&&(k+=y*p.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),M){const A=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;k+=b*A+(M-b)*f.lineHeight+(M-1)*e.bodySpacing}v&&(k+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let I=0;const T=function(A){S=Math.max(S,t.measureText(A).width+I)};return t.save(),t.font=p.string,Te(n.title,T),t.font=f.string,Te(n.beforeBody.concat(n.afterBody),T),I=e.displayColors?c+2+e.boxPadding:0,Te(r,A=>{Te(A.before,T),Te(A.lines,T),Te(A.after,T)}),I=0,t.font=g.string,Te(n.footer,T),t.restore(),S+=_.width,{width:S,height:k}}function Dk(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Ck(n,e,t,r){const{x:i,width:l}=r,c=t.caretSize+t.caretPadding;if(n==="left"&&i+l+c>e.width||n==="right"&&i-l-c<0)return!0}function Tk(n,e,t,r){const{x:i,width:l}=t,{width:c,chartArea:{left:u,right:f}}=n;let p="center";return r==="center"?p=i<=(u+f)/2?"left":"right":i<=l/2?p="left":i>=c-l/2&&(p="right"),Ck(p,n,e,t)&&(p="center"),p}function fm(n,e,t){const r=t.yAlign||e.yAlign||Dk(n,t);return{xAlign:t.xAlign||e.xAlign||Tk(n,e,t,r),yAlign:r}}function Ek(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Mk(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function hm(n,e,t,r){const{caretSize:i,caretPadding:l,cornerRadius:c}=n,{xAlign:u,yAlign:f}=t,p=i+l,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:b}=fi(c);let _=Ek(e,u);const k=Mk(e,f,p);return f==="center"?u==="left"?_+=p:u==="right"&&(_-=p):u==="left"?_-=Math.max(g,v)+i:u==="right"&&(_+=Math.max(y,b)+i),{x:zt(_,0,r.width-e.width),y:zt(k,0,r.height-e.height)}}function Zo(n,e,t){const r=Bt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function pm(n){return sn([],bn(n))}function Ok(n,e,t){return kr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function mm(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Xg={beforeTitle:vn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:vn,beforeBody:vn,beforeLabel:vn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Fe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:vn,afterBody:vn,beforeFooter:vn,footer:vn,afterFooter:vn};function _t(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?Xg[e].call(t,r):i}class du extends kn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,l=new Mg(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=Ok(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=_t(r,"beforeTitle",this,e),l=_t(r,"title",this,e),c=_t(r,"afterTitle",this,e);let u=[];return u=sn(u,bn(i)),u=sn(u,bn(l)),u=sn(u,bn(c)),u}getBeforeBody(e,t){return pm(_t(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Te(e,l=>{const c={before:[],lines:[],after:[]},u=mm(r,l);sn(c.before,bn(_t(u,"beforeLabel",this,l))),sn(c.lines,_t(u,"label",this,l)),sn(c.after,bn(_t(u,"afterLabel",this,l))),i.push(c)}),i}getAfterBody(e,t){return pm(_t(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=_t(r,"beforeFooter",this,e),l=_t(r,"footer",this,e),c=_t(r,"afterFooter",this,e);let u=[];return u=sn(u,bn(i)),u=sn(u,bn(l)),u=sn(u,bn(c)),u}_createItems(e){const t=this._active,r=this.chart.data,i=[],l=[],c=[];let u=[],f,p;for(f=0,p=t.length;f<p;++f)u.push(jk(this.chart,t[f]));return e.filter&&(u=u.filter((g,y,v)=>e.filter(g,y,v,r))),e.itemSort&&(u=u.sort((g,y)=>e.itemSort(g,y,r))),Te(u,g=>{const y=mm(e.callbacks,g);i.push(_t(y,"labelColor",this,g)),l.push(_t(y,"labelPointStyle",this,g)),c.push(_t(y,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let l,c=[];if(!i.length)this.opacity!==0&&(l={opacity:0});else{const u=li[r.position].call(this,i,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const f=this._size=dm(this,r),p=Object.assign({},u,f),g=fm(this.chart,r,p),y=hm(r,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,l={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const l=this.getCaretPosition(e,r,i);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:l}=this,{caretSize:c,cornerRadius:u}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=fi(u),{x:v,y:b}=e,{width:_,height:k}=t;let S,M,I,T,A,E;return l==="center"?(A=b+k/2,i==="left"?(S=v,M=S-c,T=A+c,E=A-c):(S=v+_,M=S+c,T=A-c,E=A+c),I=S):(i==="left"?M=v+Math.max(f,g)+c:i==="right"?M=v+_-Math.max(p,y)-c:M=this.caretX,l==="top"?(T=b,A=T-c,S=M-c,I=M+c):(T=b+k,A=T+c,S=M+c,I=M-c),E=T),{x1:S,x2:M,x3:I,y1:T,y2:A,y3:E}}drawTitle(e,t,r){const i=this.title,l=i.length;let c,u,f;if(l){const p=ns(r.rtl,this.x,this.width);for(e.x=Zo(this,r.titleAlign,r),t.textAlign=p.textAlign(r.titleAlign),t.textBaseline="middle",c=ft(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=c.string,f=0;f<l;++f)t.fillText(i[f],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===l&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,i,l){const c=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:f,boxWidth:p}=l,g=ft(l.bodyFont),y=Zo(this,"left",l),v=i.x(y),b=f<g.lineHeight?(g.lineHeight-f)/2:0,_=t.y+b;if(l.usePointStyle){const k={radius:Math.min(p,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=i.leftForLtr(v,p)+p/2,M=_+f/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,iu(e,k,S,M),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,iu(e,k,S,M)}else{e.lineWidth=be(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const k=i.leftForLtr(v,p),S=i.leftForLtr(i.xPlus(v,1),p-2),M=fi(c.borderRadius);Object.values(M).some(I=>I!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,ou(e,{x:k,y:_,w:p,h:f,radius:M}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),ou(e,{x:S,y:_+1,w:p-2,h:f-2,radius:M}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(k,_,p,f),e.strokeRect(k,_,p,f),e.fillStyle=c.backgroundColor,e.fillRect(S,_+1,p-2,f-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:p,boxPadding:g}=r,y=ft(r.bodyFont);let v=y.lineHeight,b=0;const _=ns(r.rtl,this.x,this.width),k=function(F){t.fillText(F,_.x(e.x+b),e.y+v/2),e.y+=v+l},S=_.textAlign(c);let M,I,T,A,E,P,B;for(t.textAlign=c,t.textBaseline="middle",t.font=y.string,e.x=Zo(this,S,r),t.fillStyle=r.bodyColor,Te(this.beforeBody,k),b=u&&S!=="right"?c==="center"?p/2+g:p+2+g:0,A=0,P=i.length;A<P;++A){for(M=i[A],I=this.labelTextColors[A],t.fillStyle=I,Te(M.before,k),T=M.lines,u&&T.length&&(this._drawColorBox(t,e,A,_,r),v=Math.max(y.lineHeight,f)),E=0,B=T.length;E<B;++E)k(T[E]),v=y.lineHeight;Te(M.after,k)}b=0,v=y.lineHeight,Te(this.afterBody,k),e.y-=l}drawFooter(e,t,r){const i=this.footer,l=i.length;let c,u;if(l){const f=ns(r.rtl,this.x,this.width);for(e.x=Zo(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=f.textAlign(r.footerAlign),t.textBaseline="middle",c=ft(r.footerFont),t.fillStyle=r.footerColor,t.font=c.string,u=0;u<l;++u)t.fillText(i[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:l,yAlign:c}=this,{x:u,y:f}=e,{width:p,height:g}=r,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:_}=fi(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+y,f),c==="top"&&this.drawCaret(e,t,r,i),t.lineTo(u+p-v,f),t.quadraticCurveTo(u+p,f,u+p,f+v),c==="center"&&l==="right"&&this.drawCaret(e,t,r,i),t.lineTo(u+p,f+g-_),t.quadraticCurveTo(u+p,f+g,u+p-_,f+g),c==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(u+b,f+g),t.quadraticCurveTo(u,f+g,u,f+g-b),c==="center"&&l==="left"&&this.drawCaret(e,t,r,i),t.lineTo(u,f+y),t.quadraticCurveTo(u,f,u+y,f),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,l=r&&r.y;if(i||l){const c=li[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=dm(this,e),f=Object.assign({},c,this._size),p=fm(t,e,f),g=hm(e,f,p,t);(i._to!==g.x||l._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},l={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Bt(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(l,e,i,t),Ng(e,t.textDirection),l.y+=c.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),jg(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:u,index:f})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[f],index:f}}),l=!fl(r,i),c=this._positionChanged(i,t);(l||c)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,l=this._active||[],c=this._getActiveElements(e,l,t,r),u=this._positionChanged(c,e),f=t||!fl(c,l)||u;return f&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,r,i){const l=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,r);return l.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:r,caretY:i,options:l}=this,c=li[l.position].call(this,e,t);return c!==!1&&(r!==c.x||i!==c.y)}}$(du,"positioners",li);var Fk={id:"tooltip",_element:du,positioners:li,afterInit(n,e,t){t&&(n.tooltip=new du({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Xg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Rk=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Ak(n,e,t,r){const i=n.indexOf(e);if(i===-1)return Rk(n,e,t,r);const l=n.lastIndexOf(e);return i!==l?t:i}const Lk=(n,e)=>n===null?null:zt(Math.round(n),0,e);function gm(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class fu extends cs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:l}of t)r[i]===l&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Fe(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:Ak(r,e,ve(t,e),this._addedLabels),Lk(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=t;c++)i.push({value:c});return i}getLabelForValue(e){return gm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(fu,"id","category"),$(fu,"defaults",{ticks:{callback:gm}});function Ik(n,e){const t=[],{bounds:i,step:l,min:c,max:u,precision:f,count:p,maxTicks:g,maxDigits:y,includeBounds:v}=n,b=l||1,_=g-1,{min:k,max:S}=e,M=!Fe(c),I=!Fe(u),T=!Fe(p),A=(S-k)/(y+1);let E=gp((S-k)/_/b)*b,P,B,F,W;if(E<1e-14&&!M&&!I)return[{value:k},{value:S}];W=Math.ceil(S/E)-Math.floor(k/E),W>_&&(E=gp(W*E/_/b)*b),Fe(f)||(P=Math.pow(10,f),E=Math.ceil(E*P)/P),i==="ticks"?(B=Math.floor(k/E)*E,F=Math.ceil(S/E)*E):(B=k,F=S),M&&I&&l&&ob((u-c)/l,E/1e3)?(W=Math.round(Math.min((u-c)/E,g)),E=(u-c)/W,B=c,F=u):T?(B=M?c:B,F=I?u:F,W=p-1,E=(F-B)/W):(W=(F-B)/E,ci(W,Math.round(W),E/1e3)?W=Math.round(W):W=Math.ceil(W));const te=Math.max(xp(E),xp(B));P=Math.pow(10,Fe(f)?te:f),B=Math.round(B*P)/P,F=Math.round(F*P)/P;let J=0;for(M&&(v&&B!==c?(t.push({value:c}),B<c&&J++,ci(Math.round((B+J*E)*P)/P,c,xm(c,A,n))&&J++):B<c&&J++);J<W;++J){const Z=Math.round((B+J*E)*P)/P;if(I&&Z>u)break;t.push({value:Z})}return I&&v&&F!==u?t.length&&ci(t[t.length-1].value,u,xm(u,A,n))?t[t.length-1].value=u:t.push({value:u}):(!I||F===u)&&t.push({value:F}),t}function xm(n,e,{horizontal:t,minRotation:r}){const i=xr(r),l=(t?Math.sin(i):Math.cos(i))||.001,c=.75*e*(""+n).length;return Math.min(e/l,c)}class zk extends cs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Fe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:l}=this;const c=f=>i=t?i:f,u=f=>l=r?l:f;if(e){const f=rs(i),p=rs(l);f<0&&p<0?u(0):f>0&&p>0&&c(0)}if(i===l){let f=l===0?1:Math.abs(l*.05);u(l+f),e||c(i-f)}this.min=i,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,c=Ik(i,l);return e.bounds==="ticks"&&lb(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return gg(e,this.chart.options.locale,this.options.ticks.format)}}class hu extends zk{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ht(e)?e:0,this.max=ht(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=xr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(hu,"id","linear"),$(hu,"defaults",{ticks:{callback:xg.formatters.numeric}});const Rl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kt=Object.keys(Rl);function ym(n,e){return n-e}function vm(n,e){if(Fe(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:l}=n._parseOpts;let c=e;return typeof r=="function"&&(c=r(c)),ht(c)||(c=typeof r=="string"?t.parse(c,r):t.parse(c)),c===null?null:(i&&(c=i==="week"&&(yi(l)||l===!0)?t.startOf(c,"isoWeek",l):t.startOf(c,i)),+c)}function wm(n,e,t,r){const i=kt.length;for(let l=kt.indexOf(n);l<i-1;++l){const c=Rl[kt[l]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(u*c.size))<=r)return kt[l]}return kt[i-1]}function Pk(n,e,t,r,i){for(let l=kt.length-1;l>=kt.indexOf(t);l--){const c=kt[l];if(Rl[c].common&&n._adapter.diff(i,r,c)>=e-1)return c}return kt[t?kt.indexOf(t):0]}function Bk(n){for(let e=kt.indexOf(n)+1,t=kt.length;e<t;++e)if(Rl[kt[e]].common)return kt[e]}function bm(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=Cu(t,e),l=t[r]>=e?t[r]:t[i];n[l]=!0}}function Hk(n,e,t,r){const i=n._adapter,l=+i.startOf(e[0].value,r),c=e[e.length-1].value;let u,f;for(u=l;u<=c;u=+i.add(u,1,r))f=t[u],f>=0&&(e[f].major=!0);return e}function _m(n,e,t){const r=[],i={},l=e.length;let c,u;for(c=0;c<l;++c)u=e[c],i[u]=c,r.push({value:u,major:!1});return l===0||!t?r:Hk(n,r,i,t)}class _i extends cs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new Fg._date(e.adapters.date);i.init(t),ai(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:vm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function f(p){!c&&!isNaN(p.min)&&(i=Math.min(i,p.min)),!u&&!isNaN(p.max)&&(l=Math.max(l,p.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),i=ht(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),l=ht(l)&&!isNaN(l)?l:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,l-1),this.max=Math.max(i+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const l=this.min,c=this.max,u=hb(i,l,c);return this._unit=t.unit||(r.autoSkip?wm(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):Pk(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Bk(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),_m(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,l;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?r=l:r=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=zt(t,0,c),r=zt(r,0,c),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,l=i.time,c=l.unit||wm(l.minUnit,t,r,this._getLabelCapacity(t)),u=ve(i.ticks.stepSize,1),f=c==="week"?l.isoWeekday:!1,p=yi(f)||f===!0,g={};let y=t,v,b;if(p&&(y=+e.startOf(y,"isoWeek",f)),y=+e.startOf(y,p?"day":c),e.diff(r,t,c)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+c);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(v=y,b=0;v<r;v=+e.add(v,u,c),b++)bm(g,v,_);return(v===r||i.bounds==="ticks"||b===1)&&bm(g,v,_),Object.keys(g).sort(ym).map(k=>+k)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,l=this._unit,c=t||i[l];return this._adapter.format(e,c)}_tickFormatFunction(e,t,r,i){const l=this.options,c=l.ticks.callback;if(c)return Le(c,[e,t,r],this);const u=l.time.displayFormats,f=this._unit,p=this._majorUnit,g=f&&u[f],y=p&&u[p],v=r[t],b=p&&y&&v&&v.major;return this._adapter.format(e,i||(b?y:g))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=xr(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(i),c=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*l+u*c,h:r*c+u*l}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,l=this._tickFormatFunction(e,0,_m(this,[e],this._majorUnit),i),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(vm(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mb(e.sort(ym))}}$(_i,"id","time"),$(_i,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function el(n,e,t){let r=0,i=n.length-1,l,c,u,f;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=yr(n,"pos",e)),{pos:l,time:u}=n[r],{pos:c,time:f}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=yr(n,"time",e)),{time:l,pos:u}=n[r],{time:c,pos:f}=n[i]);const p=c-l;return p?u+(f-u)*(e-l)/p:u}class km extends _i{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=el(t,this.min),this._tableRange=el(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],l=[];let c,u,f,p,g;for(c=0,u=e.length;c<u;++c)p=e[c],p>=t&&p<=r&&i.push(p);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(c=0,u=i.length;c<u;++c)g=i[c+1],f=i[c-1],p=i[c],Math.round((g+f)/2)!==p&&l.push({time:p,pos:c/(u-1)});return l}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,l)=>i-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(el(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return el(this._table,r*this._tableRange+this._minPos,!0)}}$(km,"id","timeseries"),$(km,"defaults",_i.defaults);const Kg="label";function Sm(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Wk(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Gg(n,e){n.labels=e}function Jg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kg;const r=[];n.datasets=e.map(i=>{const l=n.datasets.find(c=>c[t]===i[t]);return!l||!i.data||r.includes(l)?{...i}:(r.push(l),Object.assign(l,i),l)})}function $k(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kg;const t={labels:[],datasets:[]};return Gg(t,n.labels),Jg(t,n.datasets,e),t}function Uk(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:l,type:c,data:u,options:f,plugins:p=[],fallbackContent:g,updateMode:y,...v}=n,b=G.useRef(null),_=G.useRef(null),k=()=>{b.current&&(_.current=new Fl(b.current,{type:c,data:$k(u,l),options:f&&{...f},plugins:p}),Sm(e,_.current))},S=()=>{Sm(e,null),_.current&&(_.current.destroy(),_.current=null)};return G.useEffect(()=>{!i&&_.current&&f&&Wk(_.current,f)},[i,f]),G.useEffect(()=>{!i&&_.current&&Gg(_.current.config.data,u.labels)},[i,u.labels]),G.useEffect(()=>{!i&&_.current&&u.datasets&&Jg(_.current.config.data,u.datasets,l)},[i,u.datasets]),G.useEffect(()=>{_.current&&(i?(S(),setTimeout(k)):_.current.update(y))},[i,f,u.labels,u.datasets,y]),G.useEffect(()=>{_.current&&(S(),setTimeout(k))},[c]),G.useEffect(()=>(k(),()=>S()),[]),yu.createElement("canvas",{ref:b,role:"img",height:t,width:r,...v},g)}const Vk=G.forwardRef(Uk);function Yk(n,e){return Fl.register(e),G.forwardRef((t,r)=>yu.createElement(Vk,{...t,ref:r,type:n}))}const qk=Yk("line",ol),Zg=6048e5,Qk=864e5,ji=6e4,Di=36e5,Xk=1e3,Nm=Symbol.for("constructDateFrom");function $e(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Nm in n?n[Nm](e):n instanceof Date?new n.constructor(e):new Date(e)}function de(n,e){return $e(e||n,n)}function Al(n,e,t){const r=de(n,t==null?void 0:t.in);return isNaN(e)?$e((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function zu(n,e,t){const r=de(n,t==null?void 0:t.in);if(isNaN(e))return $e(n,NaN);if(!e)return r;const i=r.getDate(),l=$e(n,r.getTime());l.setMonth(r.getMonth()+e+1,0);const c=l.getDate();return i>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),i),r)}function Pu(n,e,t){return $e(n,+de(n)+e)}function Kk(n,e,t){return Pu(n,e*Di)}let Gk={};function Sr(){return Gk}function un(n,e){var u,f,p,g;const t=Sr(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((g=(p=t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,i=de(n,e==null?void 0:e.in),l=i.getDay(),c=(l<r?7:0)+l-r;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function os(n,e){return un(n,{...e,weekStartsOn:1})}function e0(n,e){const t=de(n,e==null?void 0:e.in),r=t.getFullYear(),i=$e(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const l=os(i),c=$e(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=os(c);return t.getTime()>=l.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function vl(n){const e=de(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Nr(n,...e){const t=$e.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function pu(n,e){const t=de(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function t0(n,e,t){const[r,i]=Nr(t==null?void 0:t.in,n,e),l=pu(r),c=pu(i),u=+l-vl(l),f=+c-vl(c);return Math.round((u-f)/Qk)}function Jk(n,e){const t=e0(n,e),r=$e(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),os(r)}function Zk(n,e,t){const r=de(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*ji),r}function eS(n,e,t){return zu(n,e*3,t)}function tS(n,e,t){return Pu(n,e*1e3)}function nS(n,e,t){return Al(n,e*7,t)}function rS(n,e,t){return zu(n,e*12,t)}function pi(n,e){const t=+de(n)-+de(e);return t<0?-1:t>0?1:t}function sS(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function n0(n){return!(!sS(n)&&typeof n!="number"||isNaN(+de(n)))}function iS(n,e,t){const[r,i]=Nr(t==null?void 0:t.in,n,e),l=r.getFullYear()-i.getFullYear(),c=r.getMonth()-i.getMonth();return l*12+c}function oS(n,e,t){const[r,i]=Nr(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function r0(n,e,t){const[r,i]=Nr(t==null?void 0:t.in,n,e),l=jm(r,i),c=Math.abs(t0(r,i));r.setDate(r.getDate()-l*c);const u=+(jm(r,i)===-l),f=l*(c-u);return f===0?0:f}function jm(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Ci(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function lS(n,e,t){const[r,i]=Nr(t==null?void 0:t.in,n,e),l=(+r-+i)/Di;return Ci(t==null?void 0:t.roundingMethod)(l)}function Bu(n,e){return+de(n)-+de(e)}function aS(n,e,t){const r=Bu(n,e)/ji;return Ci(t==null?void 0:t.roundingMethod)(r)}function s0(n,e){const t=de(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function i0(n,e){const t=de(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function cS(n,e){const t=de(n,e==null?void 0:e.in);return+s0(t,e)==+i0(t,e)}function o0(n,e,t){const[r,i,l]=Nr(t==null?void 0:t.in,n,n,e),c=pi(i,l),u=Math.abs(iS(i,l));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-c*u);let f=pi(i,l)===-c;cS(r)&&u===1&&pi(r,l)===1&&(f=!1);const p=c*(u-+f);return p===0?0:p}function uS(n,e,t){const r=o0(n,e,t)/3;return Ci(t==null?void 0:t.roundingMethod)(r)}function dS(n,e,t){const r=Bu(n,e)/1e3;return Ci(t==null?void 0:t.roundingMethod)(r)}function fS(n,e,t){const r=r0(n,e,t)/7;return Ci(t==null?void 0:t.roundingMethod)(r)}function hS(n,e,t){const[r,i]=Nr(t==null?void 0:t.in,n,e),l=pi(r,i),c=Math.abs(oS(r,i));r.setFullYear(1584),i.setFullYear(1584);const u=pi(r,i)===-l,f=l*(c-+u);return f===0?0:f}function pS(n,e){const t=de(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function mS(n,e){const t=de(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function gS(n,e){const t=de(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function l0(n,e){const t=de(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function xS(n,e){const t=de(n,e==null?void 0:e.in);return t.setMinutes(59,59,999),t}function yS(n,e){var u,f;const t=Sr(),r=t.weekStartsOn??((f=(u=t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=de(n,e==null?void 0:e.in),l=i.getDay(),c=(l<r?-7:0)+6-(l-r);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}function vS(n,e){const t=de(n,e==null?void 0:e.in);return t.setSeconds(59,999),t}function wS(n,e){const t=de(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function bS(n,e){const t=de(n,e==null?void 0:e.in);return t.setMilliseconds(999),t}const _S={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kS=(n,e,t)=>{let r;const i=_S[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Qc(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const SS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DS={date:Qc({formats:SS,defaultWidth:"full"}),time:Qc({formats:NS,defaultWidth:"full"}),dateTime:Qc({formats:jS,defaultWidth:"full"})},CS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TS=(n,e,t,r)=>CS[n];function ni(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):c;i=n.formattingValues[u]||n.formattingValues[c]}else{const c=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[u]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return i[l]}}const ES={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LS=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},IS={ordinalNumber:LS,era:ni({values:ES,defaultWidth:"wide"}),quarter:ni({values:MS,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ni({values:OS,defaultWidth:"wide"}),day:ni({values:FS,defaultWidth:"wide"}),dayPeriod:ni({values:RS,defaultWidth:"wide",formattingValues:AS,defaultFormattingWidth:"wide"})};function ri(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(i);if(!l)return null;const c=l[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?PS(u,y=>y.test(c)):zS(u,y=>y.test(c));let p;p=n.valueCallback?n.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const g=e.slice(c.length);return{value:p,rest:g}}}function zS(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function PS(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function BS(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(i.length);return{value:c,rest:u}}}const HS=/^(\d+)(th|st|nd|rd)?/i,WS=/\d+/i,$S={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},US={any:[/^b/i,/^(a|c)/i]},VS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YS={any:[/1/i,/2/i,/3/i,/4/i]},qS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZS={ordinalNumber:BS({matchPattern:HS,parsePattern:WS,valueCallback:n=>parseInt(n,10)}),era:ri({matchPatterns:$S,defaultMatchWidth:"wide",parsePatterns:US,defaultParseWidth:"any"}),quarter:ri({matchPatterns:VS,defaultMatchWidth:"wide",parsePatterns:YS,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ri({matchPatterns:qS,defaultMatchWidth:"wide",parsePatterns:QS,defaultParseWidth:"any"}),day:ri({matchPatterns:XS,defaultMatchWidth:"wide",parsePatterns:KS,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:GS,defaultMatchWidth:"any",parsePatterns:JS,defaultParseWidth:"any"})},a0={code:"en-US",formatDistance:kS,formatLong:DS,formatRelative:TS,localize:IS,match:ZS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eN(n,e){const t=de(n,e==null?void 0:e.in);return t0(t,l0(t))+1}function c0(n,e){const t=de(n,e==null?void 0:e.in),r=+os(t)-+Jk(t);return Math.round(r/Zg)+1}function Hu(n,e){var g,y,v,b;const t=de(n,e==null?void 0:e.in),r=t.getFullYear(),i=Sr(),l=(e==null?void 0:e.firstWeekContainsDate)??((y=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(v=i.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,c=$e((e==null?void 0:e.in)||n,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const u=un(c,e),f=$e((e==null?void 0:e.in)||n,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const p=un(f,e);return+t>=+u?r+1:+t>=+p?r:r-1}function tN(n,e){var u,f,p,g;const t=Sr(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(p=t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=Hu(n,e),l=$e((e==null?void 0:e.in)||n,0);return l.setFullYear(i,0,r),l.setHours(0,0,0,0),un(l,e)}function u0(n,e){const t=de(n,e==null?void 0:e.in),r=+un(t,e)-+tN(t,e);return Math.round(r/Zg)+1}function Ce(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Un={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ce(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ce(t+1,2)},d(n,e){return Ce(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ce(n.getHours()%12||12,e.length)},H(n,e){return Ce(n.getHours(),e.length)},m(n,e){return Ce(n.getMinutes(),e.length)},s(n,e){return Ce(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Ce(i,e.length)}},Jr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dm={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Un.y(n,e)},Y:function(n,e,t,r){const i=Hu(n,r),l=i>0?i:1-i;if(e==="YY"){const c=l%100;return Ce(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Ce(l,e.length)},R:function(n,e){const t=e0(n);return Ce(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ce(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ce(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ce(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Un.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ce(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=u0(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ce(i,e.length)},I:function(n,e,t){const r=c0(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ce(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Un.d(n,e)},D:function(n,e,t){const r=eN(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ce(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),l=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ce(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),l=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ce(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ce(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Jr.noon:r===0?i=Jr.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Jr.evening:r>=12?i=Jr.afternoon:r>=4?i=Jr.morning:i=Jr.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Un.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Un.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ce(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ce(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Un.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Un.s(n,e)},S:function(n,e){return Un.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Tm(r);case"XXXX":case"XX":return mr(r);case"XXXXX":case"XXX":default:return mr(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Tm(r);case"xxxx":case"xx":return mr(r);case"xxxxx":case"xxx":default:return mr(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Cm(r,":");case"OOOO":default:return"GMT"+mr(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Cm(r,":");case"zzzz":default:return"GMT"+mr(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ce(r,e.length)},T:function(n,e,t){return Ce(+n,e.length)}};function Cm(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),l=r%60;return l===0?t+String(i):t+String(i)+e+Ce(l,2)}function Tm(n,e){return n%60===0?(n>0?"-":"+")+Ce(Math.abs(n)/60,2):mr(n,e)}function mr(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Ce(Math.trunc(r/60),2),l=Ce(r%60,2);return t+i+e+l}const Em=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},d0=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nN=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Em(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Em(r,e)).replace("{{time}}",d0(i,e))},mu={p:d0,P:nN},rN=/^D+$/,sN=/^Y+$/,iN=["D","DD","YY","YYYY"];function f0(n){return rN.test(n)}function h0(n){return sN.test(n)}function gu(n,e,t){const r=oN(n,e,t);if(console.warn(r),iN.includes(n))throw new RangeError(r)}function oN(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cN=/^'([^]*?)'?$/,uN=/''/g,dN=/[a-zA-Z]/;function fN(n,e,t){var g,y,v,b,_,k,S,M;const r=Sr(),i=(t==null?void 0:t.locale)??r.locale??a0,l=(t==null?void 0:t.firstWeekContainsDate)??((y=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,c=(t==null?void 0:t.weekStartsOn)??((k=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:k.weekStartsOn)??r.weekStartsOn??((M=(S=r.locale)==null?void 0:S.options)==null?void 0:M.weekStartsOn)??0,u=de(n,t==null?void 0:t.in);if(!n0(u))throw new RangeError("Invalid time value");let f=e.match(aN).map(I=>{const T=I[0];if(T==="p"||T==="P"){const A=mu[T];return A(I,i.formatLong)}return I}).join("").match(lN).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const T=I[0];if(T==="'")return{isToken:!1,value:hN(I)};if(Dm[T])return{isToken:!0,value:I};if(T.match(dN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:I}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return f.map(I=>{if(!I.isToken)return I.value;const T=I.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&h0(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&f0(T))&&gu(T,e,String(n));const A=Dm[T[0]];return A(u,T,i.localize,p)}).join("")}function hN(n){const e=n.match(cN);return e?e[1].replace(uN,"'"):n}function pN(){return Object.assign({},Sr())}function mN(n,e){const t=de(n,e==null?void 0:e.in).getDay();return t===0?7:t}function gN(n,e){const t=xN(e)?new e(0):$e(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function xN(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const yN=10;class p0{constructor(){$(this,"subPriority",0)}validate(e,t){return!0}}class vN extends p0{constructor(e,t,r,i,l){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,l&&(this.subPriority=l)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class wN extends p0{constructor(t,r){super();$(this,"priority",yN);$(this,"subPriority",-1);this.context=t||(i=>$e(r,i))}set(t,r){return r.timestampIsSet?t:$e(t,gN(t,this.context))}}class Ne{run(e,t,r,i){const l=this.parse(e,t,r,i);return l?{setter:new vN(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(e,t,r){return!0}}class bN extends Ne{constructor(){super(...arguments);$(this,"priority",140);$(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Qe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},an={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xe(n,e){return n&&{value:e(n.value),rest:n.rest}}function He(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function cn(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,l=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:r*(i*Di+l*ji+c*Xk),rest:e.slice(t[0].length)}}function m0(n){return He(Qe.anyDigitsSigned,n)}function Ue(n,e){switch(n){case 1:return He(Qe.singleDigit,e);case 2:return He(Qe.twoDigits,e);case 3:return He(Qe.threeDigits,e);case 4:return He(Qe.fourDigits,e);default:return He(new RegExp("^\\d{1,"+n+"}"),e)}}function wl(n,e){switch(n){case 1:return He(Qe.singleDigitSigned,e);case 2:return He(Qe.twoDigitsSigned,e);case 3:return He(Qe.threeDigitsSigned,e);case 4:return He(Qe.fourDigitsSigned,e);default:return He(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Wu(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function g0(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const l=r+50,c=Math.trunc(l/100)*100,u=n>=l%100;i=n+c-(u?100:0)}return t?i:1-i}function x0(n){return n%400===0||n%4===0&&n%100!==0}class _N extends Ne{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const l=c=>({year:c,isTwoDigitYear:r==="yy"});switch(r){case"y":return Xe(Ue(4,t),l);case"yo":return Xe(i.ordinalNumber(t,{unit:"year"}),l);default:return Xe(Ue(r.length,t),l)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const l=t.getFullYear();if(i.isTwoDigitYear){const u=g0(i.year,l);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const c=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}}class kN extends Ne{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const l=c=>({year:c,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Xe(Ue(4,t),l);case"Yo":return Xe(i.ordinalNumber(t,{unit:"year"}),l);default:return Xe(Ue(r.length,t),l)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,l){const c=Hu(t,l);if(i.isTwoDigitYear){const f=g0(i.year,c);return t.setFullYear(f,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),un(t,l)}const u=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(u,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),un(t,l)}}class SN extends Ne{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return wl(r==="R"?4:r.length,t)}set(t,r,i){const l=$e(t,0);return l.setFullYear(i,0,4),l.setHours(0,0,0,0),os(l)}}class NN extends Ne{constructor(){super(...arguments);$(this,"priority",130);$(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return wl(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class jN extends Ne{constructor(){super(...arguments);$(this,"priority",120);$(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Ue(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class DN extends Ne{constructor(){super(...arguments);$(this,"priority",120);$(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Ue(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class CN extends Ne{constructor(){super(...arguments);$(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);$(this,"priority",110)}parse(t,r,i){const l=c=>c-1;switch(r){case"M":return Xe(He(Qe.month,t),l);case"MM":return Xe(Ue(2,t),l);case"Mo":return Xe(i.ordinalNumber(t,{unit:"month"}),l);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class TN extends Ne{constructor(){super(...arguments);$(this,"priority",110);$(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const l=c=>c-1;switch(r){case"L":return Xe(He(Qe.month,t),l);case"LL":return Xe(Ue(2,t),l);case"Lo":return Xe(i.ordinalNumber(t,{unit:"month"}),l);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function EN(n,e,t){const r=de(n,t==null?void 0:t.in),i=u0(r,t)-e;return r.setDate(r.getDate()-i*7),de(r,t==null?void 0:t.in)}class MN extends Ne{constructor(){super(...arguments);$(this,"priority",100);$(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return He(Qe.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Ue(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,l){return un(EN(t,i,l),l)}}function ON(n,e,t){const r=de(n,t==null?void 0:t.in),i=c0(r,t)-e;return r.setDate(r.getDate()-i*7),r}class FN extends Ne{constructor(){super(...arguments);$(this,"priority",100);$(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return He(Qe.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Ue(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return os(ON(t,i))}}const RN=[31,28,31,30,31,30,31,31,30,31,30,31],AN=[31,29,31,30,31,30,31,31,30,31,30,31];class LN extends Ne{constructor(){super(...arguments);$(this,"priority",90);$(this,"subPriority",1);$(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return He(Qe.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Ue(r.length,t)}}validate(t,r){const i=t.getFullYear(),l=x0(i),c=t.getMonth();return l?r>=1&&r<=AN[c]:r>=1&&r<=RN[c]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class IN extends Ne{constructor(){super(...arguments);$(this,"priority",90);$(this,"subpriority",1);$(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return He(Qe.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Ue(r.length,t)}}validate(t,r){const i=t.getFullYear();return x0(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function $u(n,e,t){var y,v,b,_;const r=Sr(),i=(t==null?void 0:t.weekStartsOn)??((v=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((_=(b=r.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??0,l=de(n,t==null?void 0:t.in),c=l.getDay(),f=(e%7+7)%7,p=7-i,g=e<0||e>6?e-(c+p)%7:(f+p)%7-(c+p)%7;return Al(l,g,t)}class zN extends Ne{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,l){return t=$u(t,i,l),t.setHours(0,0,0,0),t}}class PN extends Ne{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,l){const c=u=>{const f=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+f};switch(r){case"e":case"ee":return Xe(Ue(r.length,t),c);case"eo":return Xe(i.ordinalNumber(t,{unit:"day"}),c);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,l){return t=$u(t,i,l),t.setHours(0,0,0,0),t}}class BN extends Ne{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,l){const c=u=>{const f=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+f};switch(r){case"c":case"cc":return Xe(Ue(r.length,t),c);case"co":return Xe(i.ordinalNumber(t,{unit:"day"}),c);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,l){return t=$u(t,i,l),t.setHours(0,0,0,0),t}}function HN(n,e,t){const r=de(n,t==null?void 0:t.in),i=mN(r,t),l=e-i;return Al(r,l,t)}class WN extends Ne{constructor(){super(...arguments);$(this,"priority",90);$(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const l=c=>c===0?7:c;switch(r){case"i":case"ii":return Ue(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Xe(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return Xe(i.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Xe(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Xe(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=HN(t,i),t.setHours(0,0,0,0),t}}class $N extends Ne{constructor(){super(...arguments);$(this,"priority",80);$(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Wu(i),0,0,0),t}}class UN extends Ne{constructor(){super(...arguments);$(this,"priority",80);$(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Wu(i),0,0,0),t}}class VN extends Ne{constructor(){super(...arguments);$(this,"priority",80);$(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Wu(i),0,0,0),t}}class YN extends Ne{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return He(Qe.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ue(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const l=t.getHours()>=12;return l&&i<12?t.setHours(i+12,0,0,0):!l&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class qN extends Ne{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return He(Qe.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ue(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class QN extends Ne{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return He(Qe.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ue(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class XN extends Ne{constructor(){super(...arguments);$(this,"priority",70);$(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return He(Qe.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ue(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const l=i<=24?i%24:i;return t.setHours(l,0,0,0),t}}class KN extends Ne{constructor(){super(...arguments);$(this,"priority",60);$(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return He(Qe.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Ue(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class GN extends Ne{constructor(){super(...arguments);$(this,"priority",50);$(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return He(Qe.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Ue(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class JN extends Ne{constructor(){super(...arguments);$(this,"priority",30);$(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=l=>Math.trunc(l*Math.pow(10,-r.length+3));return Xe(Ue(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class ZN extends Ne{constructor(){super(...arguments);$(this,"priority",10);$(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return cn(an.basicOptionalMinutes,t);case"XX":return cn(an.basic,t);case"XXXX":return cn(an.basicOptionalSeconds,t);case"XXXXX":return cn(an.extendedOptionalSeconds,t);case"XXX":default:return cn(an.extended,t)}}set(t,r,i){return r.timestampIsSet?t:$e(t,t.getTime()-vl(t)-i)}}class e2 extends Ne{constructor(){super(...arguments);$(this,"priority",10);$(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return cn(an.basicOptionalMinutes,t);case"xx":return cn(an.basic,t);case"xxxx":return cn(an.basicOptionalSeconds,t);case"xxxxx":return cn(an.extendedOptionalSeconds,t);case"xxx":default:return cn(an.extended,t)}}set(t,r,i){return r.timestampIsSet?t:$e(t,t.getTime()-vl(t)-i)}}class t2 extends Ne{constructor(){super(...arguments);$(this,"priority",40);$(this,"incompatibleTokens","*")}parse(t){return m0(t)}set(t,r,i){return[$e(t,i*1e3),{timestampIsSet:!0}]}}class n2 extends Ne{constructor(){super(...arguments);$(this,"priority",20);$(this,"incompatibleTokens","*")}parse(t){return m0(t)}set(t,r,i){return[$e(t,i),{timestampIsSet:!0}]}}const r2={G:new bN,y:new _N,Y:new kN,R:new SN,u:new NN,Q:new jN,q:new DN,M:new CN,L:new TN,w:new MN,I:new FN,d:new LN,D:new IN,E:new zN,e:new PN,c:new BN,i:new WN,a:new $N,b:new UN,B:new VN,h:new YN,H:new qN,K:new QN,k:new XN,m:new KN,s:new GN,S:new JN,X:new ZN,x:new e2,t:new t2,T:new n2},s2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o2=/^'([^]*?)'?$/,l2=/''/g,a2=/\S/,c2=/[a-zA-Z]/;function u2(n,e,t,r){var S,M,I,T,A,E,P,B;const i=()=>$e((r==null?void 0:r.in)||t,NaN),l=pN(),c=(r==null?void 0:r.locale)??l.locale??a0,u=(r==null?void 0:r.firstWeekContainsDate)??((M=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:M.firstWeekContainsDate)??l.firstWeekContainsDate??((T=(I=l.locale)==null?void 0:I.options)==null?void 0:T.firstWeekContainsDate)??1,f=(r==null?void 0:r.weekStartsOn)??((E=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:E.weekStartsOn)??l.weekStartsOn??((B=(P=l.locale)==null?void 0:P.options)==null?void 0:B.weekStartsOn)??0;if(!e)return n?i():de(t,r==null?void 0:r.in);const p={firstWeekContainsDate:u,weekStartsOn:f,locale:c},g=[new wN(r==null?void 0:r.in,t)],y=e.match(i2).map(F=>{const W=F[0];if(W in mu){const te=mu[W];return te(F,c.formatLong)}return F}).join("").match(s2),v=[];for(let F of y){!(r!=null&&r.useAdditionalWeekYearTokens)&&h0(F)&&gu(F,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&f0(F)&&gu(F,e,n);const W=F[0],te=r2[W];if(te){const{incompatibleTokens:J}=te;if(Array.isArray(J)){const he=v.find(Ee=>J.includes(Ee.token)||Ee.token===W);if(he)throw new RangeError(`The format string mustn't contain \`${he.fullToken}\` and \`${F}\` at the same time`)}else if(te.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${F}\` and any other token at the same time`);v.push({token:W,fullToken:F});const Z=te.run(n,F,c.match,p);if(!Z)return i();g.push(Z.setter),n=Z.rest}else{if(W.match(c2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");if(F==="''"?F="'":W==="'"&&(F=d2(F)),n.indexOf(F)===0)n=n.slice(F.length);else return i()}}if(n.length>0&&a2.test(n))return i();const b=g.map(F=>F.priority).sort((F,W)=>W-F).filter((F,W,te)=>te.indexOf(F)===W).map(F=>g.filter(W=>W.priority===F).sort((W,te)=>te.subPriority-W.subPriority)).map(F=>F[0]);let _=de(t,r==null?void 0:r.in);if(isNaN(+_))return i();const k={};for(const F of b){if(!F.validate(_,p))return i();const W=F.set(_,k,p);Array.isArray(W)?(_=W[0],Object.assign(k,W[1])):_=W}return _}function d2(n){return n.match(o2)[1].replace(l2,"'")}function f2(n,e){const t=de(n,e==null?void 0:e.in);return t.setMinutes(0,0,0),t}function h2(n,e){const t=de(n,e==null?void 0:e.in);return t.setSeconds(0,0),t}function p2(n,e){const t=de(n,e==null?void 0:e.in);return t.setMilliseconds(0),t}function m2(n,e){const t=()=>$e(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=v2(n);let l;if(i.date){const p=w2(i.date,r);l=b2(p.restDateString,p.year)}if(!l||isNaN(+l))return t();const c=+l;let u=0,f;if(i.time&&(u=_2(i.time),isNaN(u)))return t();if(i.timezone){if(f=k2(i.timezone),isNaN(f))return t()}else{const p=new Date(c+u),g=de(0,e==null?void 0:e.in);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return de(c+u+f,e==null?void 0:e.in)}const tl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,x2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,y2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function v2(n){const e={},t=n.split(tl.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],tl.timeZoneDelimiter.test(e.date)&&(e.date=n.split(tl.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=tl.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function w2(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?i:l*100,restDateString:n.slice((r[1]||r[2]).length)}}function b2(n,e){if(e===null)return new Date(NaN);const t=n.match(g2);if(!t)return new Date(NaN);const r=!!t[4],i=si(t[1]),l=si(t[2])-1,c=si(t[3]),u=si(t[4]),f=si(t[5])-1;if(r)return C2(e,u,f)?S2(e,u,f):new Date(NaN);{const p=new Date(0);return!j2(e,l,c)||!D2(e,i)?new Date(NaN):(p.setUTCFullYear(e,l,Math.max(i,c)),p)}}function si(n){return n?parseInt(n):1}function _2(n){const e=n.match(x2);if(!e)return NaN;const t=Xc(e[1]),r=Xc(e[2]),i=Xc(e[3]);return T2(t,r,i)?t*Di+r*ji+i*1e3:NaN}function Xc(n){return n&&parseFloat(n.replace(",","."))||0}function k2(n){if(n==="Z")return 0;const e=n.match(y2);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return E2(r,i)?t*(r*Di+i*ji):NaN}function S2(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,l=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+l),r}const N2=[31,null,31,30,31,30,31,31,30,31,30,31];function y0(n){return n%400===0||n%4===0&&n%100!==0}function j2(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(N2[e]||(y0(n)?29:28))}function D2(n,e){return e>=1&&e<=(y0(n)?366:365)}function C2(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function T2(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function E2(n,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const M2={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Fg._date.override({_id:"date-fns",formats:function(){return M2},parse:function(n,e){if(n===null||typeof n>"u")return null;const t=typeof n;return t==="number"||n instanceof Date?n=de(n):t==="string"&&(typeof e=="string"?n=u2(n,e,new Date,this.options):n=m2(n,this.options)),n0(n)?n.getTime():null},format:function(n,e){return fN(n,e,this.options)},add:function(n,e,t){switch(t){case"millisecond":return Pu(n,e);case"second":return tS(n,e);case"minute":return Zk(n,e);case"hour":return Kk(n,e);case"day":return Al(n,e);case"week":return nS(n,e);case"month":return zu(n,e);case"quarter":return eS(n,e);case"year":return rS(n,e);default:return n}},diff:function(n,e,t){switch(t){case"millisecond":return Bu(n,e);case"second":return dS(n,e);case"minute":return aS(n,e);case"hour":return lS(n,e);case"day":return r0(n,e);case"week":return fS(n,e);case"month":return o0(n,e);case"quarter":return uS(n,e);case"year":return hS(n,e);default:return 0}},startOf:function(n,e,t){switch(e){case"second":return p2(n);case"minute":return h2(n);case"hour":return f2(n);case"day":return pu(n);case"week":return un(n);case"isoWeek":return un(n,{weekStartsOn:+t});case"month":return mS(n);case"quarter":return pS(n);case"year":return l0(n);default:return n}},endOf:function(n,e){switch(e){case"second":return bS(n);case"minute":return vS(n);case"hour":return xS(n);case"day":return s0(n);case"week":return yS(n);case"month":return i0(n);case"quarter":return wS(n);case"year":return gS(n);default:return n}}});Fl.register(fu,hu,cl,Qn,Nk,Fk,kk,_i,xk);const v0=({chartData:n,forecastType:e})=>{var f,p;if(!n||!n.predictions||n.predictions.length===0)return h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-neutral-400",children:"没有可供显示的预测数据。"})});const{predictions:t,actuals:r}=n,i=t.map(g=>({...g,timestamp:new Date(g.timestamp)})),c={labels:i.map(g=>g.timestamp),datasets:[{label:`${e} 预测值`,data:i.map(g=>({x:g.timestamp,y:g.value})),borderColor:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.1)",borderWidth:2,pointRadius:1,tension:.4,fill:!1},...r&&r.length>0?[{label:`${e} 实际值`,data:r.map(g=>({x:new Date(g.timestamp),y:g.actual})),borderColor:"#16A34A",backgroundColor:"rgba(22, 163, 74, 0.1)",borderWidth:2,pointRadius:1,tension:.4,fill:!1}]:[],...((f=t[0])==null?void 0:f.lower_bound)!==void 0&&((p=t[0])==null?void 0:p.upper_bound)!==void 0?[{label:"预测下界",data:i.map(g=>({x:g.timestamp,y:g.lower_bound})),borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,pointRadius:0,fill:"+1",backgroundColor:"rgba(255, 255, 255, 0.1)",tension:.4},{label:"预测上界",data:i.map(g=>({x:g.timestamp,y:g.upper_bound})),borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,pointRadius:0,fill:!1,backgroundColor:"rgba(255, 255, 255, 0.1)",tension:.4}]:[]]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#d4d4d4"}},title:{display:!0,text:`${e} 预测结果`,color:"#f5f5f5",font:{size:18}},tooltip:{mode:"index",intersect:!1}},scales:{x:{type:"time",time:{unit:"hour",tooltipFormat:"yyyy-MM-dd HH:mm",displayFormats:{hour:"HH:mm",day:"MM-dd"}},ticks:{color:"#a3a3a3"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{ticks:{color:"#a3a3a3"},grid:{color:"rgba(255, 255, 255, 0.1)"},title:{display:!0,text:"值",color:"#d4d4d4"}}},interaction:{mode:"index",intersect:!1}};return h.jsx(qk,{options:u,data:c})},O2=({availableProvinces:n})=>{const{params:e,result:t,isLoading:r,error:i,runPrediction:l}=jw(),c="bg-neutral-900 border border-neutral-800 rounded-lg shadow-lg p-6";return h.jsxs("div",{className:"space-y-6",children:[h.jsx(My,{availableProvinces:n,initialParams:e,onSubmit:l,isLoading:r,title:"参数设置 - 日前预测",className:c,activeTabKey:"dayAhead"}),r&&h.jsx("div",{className:"flex justify-center items-center mt-6",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}),i&&h.jsxs("div",{className:"mt-6 p-4 bg-red-900 bg-opacity-30 border border-red-800 rounded-lg shadow-lg",children:[h.jsx("h3",{className:"text-red-400 font-semibold",children:"错误:"}),h.jsx("p",{className:"text-red-300 mt-2",children:i})]}),t&&!r&&h.jsxs("div",{className:`mt-6 ${c}`,children:[h.jsx("div",{className:"w-full h-96 bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl",children:h.jsx(v0,{chartData:t,forecastType:e.forecastType})}),h.jsx(vu,{metrics:t.metrics})]})]})},F2=["上海","安徽","浙江","江苏","福建"],R2="2024-03-01",A2="2024-03-02",L2=()=>{const[n,e]=G.useState({forecast_type:"load",forecast_date:R2,forecast_end_date:A2,province:F2[0],confidence_level:.9,model_type:"peak_aware",historical_days:15}),[t,r]=G.useState(null),[i,l]=G.useState(!1),[c,u]=G.useState(null),f=G.useCallback(async p=>{e(p),l(!0),u(null),r(null);try{const g=await xw(p);g&&g.predictions&&g.predictions.some(v=>v.predicted===void 0&&v.point_forecast!==void 0)&&(console.log("Hook: Mapping point_forecast to predicted for interval chart"),g.predictions.forEach(v=>{v.predicted===void 0&&v.point_forecast!==void 0&&(v.predicted=v.point_forecast)})),r(g)}catch(g){u(g.message),console.error("Interval Forecast Failed:",g)}finally{l(!1)}},[]);return{params:n,result:t,isLoading:i,error:c,runIntervalForecast:f}},I2=({availableProvinces:n})=>{const{params:e,result:t,isLoading:r,error:i,runIntervalForecast:l}=L2(),c="bg-neutral-900 border border-neutral-800 rounded-lg shadow-lg p-6",u=(t==null?void 0:t.metrics)||(t==null?void 0:t.interval_statistics)||null;return h.jsxs("div",{className:"space-y-6",children:[h.jsx(Fy,{availableProvinces:n,initialParams:e,onSubmit:l,isLoading:r,title:"参数设置 - 区间预测",className:c,activeTabKey:"interval"}),r&&h.jsx("div",{className:"flex justify-center items-center mt-6",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}),i&&h.jsxs("div",{className:"mt-6 p-4 bg-red-900 bg-opacity-30 border border-red-800 rounded-lg shadow-lg",children:[h.jsx("h3",{className:"text-red-400 font-semibold",children:"错误:"}),h.jsx("p",{className:"text-red-300 mt-2",children:i})]}),t&&!r&&h.jsxs("div",{className:`mt-6 ${c}`,children:[h.jsx("div",{className:"w-full h-96 bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl",children:h.jsx(v0,{chartData:t,forecastType:e.forecast_type})}),h.jsx(vu,{metrics:u})]})]})},z2=["上海","安徽","浙江","江苏","福建"],P2="2024-01-01",B2="2024-02-28",H2=()=>{const[n,e]=G.useState({forecast_type:"load",train_start:P2,train_end:B2,province:z2[0],epochs:100,batch_size:32,train_prediction_type:"deterministic"}),[t,r]=G.useState(null),[i,l]=G.useState(!1),[c,u]=G.useState(null),f=G.useRef(null),p=G.useCallback(async y=>{try{const v=await vw(y);r(v),(v.status==="completed"||v.status==="failed")&&(clearInterval(f.current),f.current=null,l(!1))}catch(v){console.error(`Failed to get training status for task ${y}:`,v),u(`获取任务 ${y} 状态失败: ${v.message}`),clearInterval(f.current),f.current=null,l(!1)}},[]),g=G.useCallback(async y=>{f.current&&clearInterval(f.current),e(y),l(!0),u(null),r(null);try{const v=await yw(y);if(v&&v.task_id){const{task_id:b}=v;r({...v,status:"pending"}),f.current=setInterval(()=>{p(b)},5e3),p(b)}else throw new Error("API did not return a task_id.")}catch(v){u(v.message),l(!1),console.error("Failed to start training:",v)}},[p]);return G.useEffect(()=>()=>{f.current&&clearInterval(f.current)},[]),{params:n,result:t,isLoading:i,error:c,startTraining:g}},W2=({trainingResult:n,error:e})=>{if(e)return h.jsxs("div",{className:"mt-6 p-4 bg-red-900 bg-opacity-30 border border-red-800 rounded-lg shadow-lg",children:[h.jsx("h3",{className:"text-red-400 font-semibold",children:"训练出错:"}),h.jsx("p",{className:"text-red-300 mt-2",children:e})]});if(!n||!n.task_id)return null;const{progress:t=0,currentEpoch:r=0,totalEpochs:i=100,eta:l="计算中...",status:c="pending",error:u,task_id:f}=n,p=()=>{switch(c){case"completed":return h.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-800 text-green-100",children:"已完成"});case"failed":return h.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-red-800 text-red-100",children:"失败"});case"running":return h.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-800 text-blue-100",children:"训练中"});default:return h.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-yellow-800 text-yellow-100",children:"等待中"})}};return h.jsxs("div",{className:"mt-6 p-6 bg-neutral-900 border border-neutral-800 rounded-lg shadow-lg",children:[h.jsxs("h3",{className:"text-xl font-medium text-neutral-100 mb-4",children:["训练状态 (任务 ID: ",f,")"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h4",{className:"text-lg font-medium text-neutral-300",children:"状态:"}),p()]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h4",{className:"text-lg font-medium text-neutral-300",children:"进度:"}),h.jsxs("span",{className:"text-neutral-100 font-mono",children:[t,"%"]})]}),h.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-red-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${t}%`}})}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-neutral-400",children:"轮次: "}),h.jsxs("span",{className:"text-neutral-200 font-mono",children:[r,"/",i]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-neutral-400",children:"预计剩余时间: "}),h.jsx("span",{className:"text-neutral-200",children:l})]})]}),u&&h.jsxs("div",{className:"mt-4 p-3 bg-red-900 bg-opacity-30 border border-red-800 rounded",children:[h.jsx("h4",{className:"text-red-400 font-medium",children:"错误信息:"}),h.jsx("p",{className:"text-red-300 text-sm mt-1 font-mono",children:u})]})]})]})},$2=({availableProvinces:n})=>{const{params:e,result:t,isLoading:r,error:i,startTraining:l}=H2();return h.jsxs("div",{className:"space-y-6",children:[h.jsx(Iy,{availableProvinces:n,initialParams:e,onSubmit:l,isLoading:r,title:"参数设置 - 模型训练",className:"bg-neutral-900 border border-neutral-800 rounded-lg shadow-lg p-6",activeTabKey:"training"}),h.jsx(W2,{trainingResult:t,error:i})]})};function Mm(n,e,t){if(!n||!n.predictions||!Array.isArray(n.predictions)){console.error("没有可用的预测数据进行渲染",n);return}const r=n.predictions.map(g=>g.datetime.substring(11,16)),i=n.predictions.map(g=>g.datetime.substring(0,10)),l=b0(t),c=[];c.push({name:"预测值",type:"line",data:n.predictions.map(g=>g.predicted),smooth:!0,symbol:"none",lineStyle:{width:3}}),n.predictions.some(g=>g.actual!==void 0&&g.actual!==null)&&c.push({name:"实际值",type:"line",data:n.predictions.map(g=>g.actual),smooth:!0,symbol:"none",lineStyle:{width:3}}),n.is_net_load&&(n.predictions.some(g=>g.pv_predicted!==void 0)&&c.push({name:"光伏出力",type:"line",data:n.predictions.map(g=>g.pv_predicted),smooth:!0,symbol:"none",lineStyle:{width:2,type:"dashed"}}),n.predictions.some(g=>g.wind_predicted!==void 0)&&c.push({name:"风电出力",type:"line",data:n.predictions.map(g=>g.wind_predicted),smooth:!0,symbol:"none",lineStyle:{width:2,type:"dashed"}}),n.predictions.some(g=>g.predicted_net!==void 0)&&c.push({name:"净负荷",type:"line",data:n.predictions.map(g=>g.predicted_net),smooth:!0,symbol:"none",lineStyle:{width:3}}));const u={title:{text:`${w0(t)}预测结果`,left:"center"},tooltip:{trigger:"axis",formatter:function(g){let y=`${i[g[0].dataIndex]} ${r[g[0].dataIndex]}<br/>`;return g.forEach(v=>{const b=v.seriesName,_=v.value;if(y+=`${v.marker}${b}: ${(_==null?void 0:_.toFixed(2))||"N/A"} ${es()}`,b==="预测值"&&n.predictions&&n.predictions[g[0].dataIndex]){const k=n.predictions[g[0].dataIndex].error_pct;k!=null&&(y+=` (误差: ${k.toFixed(2)}%)`)}y+="<br/>"}),y}},legend:{data:c.map(g=>g.name),bottom:0},grid:{left:"3%",right:"4%",bottom:"10%",top:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:r,axisLabel:{formatter:function(g,y){return y%4===0?g:""}}},yAxis:{type:"value",name:l,nameLocation:"middle",nameGap:40},series:c},f=document.getElementById(e);if(!f){console.error(`找不到ID为${e}的图表容器元素`);return}if(typeof echarts>"u"){console.error("找不到echarts对象，请确保已加载echarts库");return}const p=echarts.init(f,"dark");return p.setOption({...u,backgroundColor:"transparent"}),window.addEventListener("resize",()=>{p.resize()}),p}function Om(n,e,t){if(console.log("渲染区间预测图表，接收到的数据：",n),!n||!n.predictions||!Array.isArray(n.predictions)){console.error("没有可用的区间预测数据进行渲染",n);const b=document.getElementById(e);b&&(b.innerHTML='<div style="padding: 20px; text-align: center; color: #ff6b6b;">没有可用的区间预测数据</div>');return}const r=n.predictions.map(b=>b.datetime.substring(11,16)),i=n.predictions.map(b=>b.datetime.substring(0,10));console.log("图表时间点数量：",r.length),console.log("前5个时间点：",r.slice(0,5));const l=b0(t),c={pointForecast:"#1890ff",upperBound:"#52c41a",lowerBound:"#52c41a",actual:"#ff4d4f",confidenceArea:"rgba(82, 196, 26, 0.2)"},u=[];if(n.predictions.some(b=>b.upper_bound!==void 0&&b.lower_bound!==void 0)){console.log("添加置信区间阴影");const b=[];for(let _=0;_<n.predictions.length;_++){const k=Number(n.predictions[_].upper_bound),S=Number(n.predictions[_].lower_bound);b.push([_,S,k])}u.push({name:"置信区间",type:"custom",renderItem:function(_,k){const S=k.value(0),M=k.value(1),I=k.value(2),T=k.coord([S,M]),A=T[1],E=k.coord([S,I])[1],P=k.size([1,0])[0]*.8;return{type:"rect",shape:{x:T[0]-P/2,y:E,width:P,height:A-E},style:k.style({fill:c.confidenceArea,stroke:null})}},data:b,z:1,silent:!0,animation:!1})}n.predictions.some(b=>b.predicted!==void 0&&b.predicted!==null&&!isNaN(b.predicted))&&(console.log("添加点预测序列"),u.push({name:"点预测",type:"line",data:n.predictions.map(b=>Number(b.predicted)),smooth:!0,symbol:"none",lineStyle:{width:3,color:c.pointForecast},itemStyle:{color:c.pointForecast},z:3})),n.predictions.some(b=>b.upper_bound!==void 0&&b.lower_bound!==void 0)&&(console.log("添加上下边界线"),u.push({name:"上边界",type:"line",data:n.predictions.map(b=>Number(b.upper_bound)),smooth:!0,symbol:"none",lineStyle:{width:2,type:"dashed",color:c.upperBound},itemStyle:{color:c.upperBound},z:2}),u.push({name:"下边界",type:"line",data:n.predictions.map(b=>Number(b.lower_bound)),smooth:!0,symbol:"none",lineStyle:{width:2,type:"dashed",color:c.lowerBound},itemStyle:{color:c.lowerBound},z:2})),n.predictions.some(b=>b.actual!==void 0&&b.actual!==null&&!isNaN(b.actual))&&(console.log("添加实际值序列"),u.push({name:"实际值",type:"line",data:n.predictions.map(b=>b.actual!==void 0&&b.actual!==null?Number(b.actual):null),smooth:!0,symbol:"circle",symbolSize:4,lineStyle:{width:3,color:c.actual},itemStyle:{color:c.actual},z:4,connectNulls:!1})),console.log("序列数量：",u.length);const f=n.confidence_level||.9,p={title:{text:`${w0(t)}区间预测结果 (${(f*100).toFixed(0)}% 置信水平)`,left:"center",textStyle:{color:"#ffffff",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:"rgba(0, 0, 0, 0.8)",borderColor:"#333",textStyle:{color:"#fff"},formatter:function(b){const _=b[0].dataIndex;let k=`<div style="margin-bottom: 8px; font-weight: bold;">${i[_]} ${r[_]}</div>`;const S=n.predictions[_].actual,M=n.predictions[_].predicted,I=n.predictions[_].upper_bound,T=n.predictions[_].lower_bound;if(S!=null&&!isNaN(S)&&(k+=`<div><span style="color: ${c.actual};">●</span> 实际值: <span style="font-weight: bold;">${Number(S).toFixed(2)} ${es()}</span></div>`),M!=null&&!isNaN(M)){k+=`<div><span style="color: ${c.pointForecast};">●</span> 点预测: <span style="font-weight: bold;">${Number(M).toFixed(2)} ${es()}</span></div>`;const A=n.predictions[_];if(A.error_pct!==null&&A.error_pct!==void 0){const E=Math.abs(A.error_pct)>2?"#ff4d4f":"#52c41a";k+=`<div style="color: ${E}; margin-left: 20px;">误差: ${Number(A.error_pct).toFixed(2)}%</div>`}}if(I!=null&&T!==null&&T!==void 0){k+='<div style="margin-top: 4px; border-top: 1px solid #555; padding-top: 4px;">',k+=`<div><span style="color: ${c.upperBound};">--</span> 上边界: ${Number(I).toFixed(2)} ${es()}</div>`,k+=`<div><span style="color: ${c.lowerBound};">--</span> 下边界: ${Number(T).toFixed(2)} ${es()}</div>`;const A=Number(I)-Number(T);k+=`<div style="color: #999; font-size: 12px;">区间宽度: ${A.toFixed(2)} ${es()}</div>`,k+="</div>"}return k}},legend:{data:u.filter(b=>b.name!=="置信区间"||b.type!=="custom").map(b=>b.name),bottom:10,textStyle:{color:"#ffffff"},itemGap:20,itemStyle:{borderWidth:0},lineStyle:{width:3}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:r,axisLabel:{formatter:function(b,_){return _%4===0?b:""},color:"#ffffff",fontSize:12},axisLine:{lineStyle:{color:"#666666"}},axisTick:{lineStyle:{color:"#666666"}}},yAxis:{type:"value",name:l,nameLocation:"middle",nameGap:50,nameTextStyle:{color:"#ffffff",fontSize:14,fontWeight:"bold"},axisLabel:{color:"#ffffff",fontSize:12,formatter:function(b){return b.toFixed(0)}},axisLine:{lineStyle:{color:"#666666"}},splitLine:{lineStyle:{color:"#333333",type:"dashed"}}},color:[c.confidenceArea,c.pointForecast,c.upperBound,c.lowerBound,c.actual],series:u,animation:!0,animationDuration:1e3,animationEasing:"cubicOut"},g=document.getElementById(e);if(!g){console.error(`找不到ID为${e}的图表容器元素`);return}if(typeof echarts>"u"){console.error("找不到echarts对象，请确保已加载echarts库");return}console.log("初始化ECharts图表");const y=echarts.init(g);y.clear(),y.setOption(p);const v=()=>{y.resize()};return window.removeEventListener("resize",v),window.addEventListener("resize",v),console.log("区间预测图表渲染完成"),y}function w0(n){switch(n){case"load":return"电力负荷";case"pv":return"光伏出力";case"wind":return"风电出力";case"net_load":return"净负荷";default:return n}}function b0(n){switch(n){case"load":return"负荷 (MW)";case"pv":return"光伏出力 (MW)";case"wind":return"风电出力 (MW)";default:return"出力 (MW)"}}function es(n){return"MW"}const Zr={dayAhead:"日前预测",rolling:"滚动预测",interval:"区间预测",probabilistic:"概率预测",scenarios:"场景识别",scenarioUncertainty:"场景感知不确定性预测",training:"模型训练",historical:"历史结果查询"},nl="2024-03-01",Fm="2024-03-02",Vn=["上海","安徽","浙江","江苏","福建"],U2=({label:n,isActive:e,onClick:t})=>h.jsxs("button",{onClick:t,className:`relative px-4 py-3 font-medium text-sm focus:outline-none group whitespace-nowrap 
                  hover:text-red-600 transition-colors duration-150
                  ${e?"text-red-500 bg-neutral-800 shadow-[0_0_8px_rgba(220,38,38,0.4)] rounded-t-md":"text-neutral-700"}`,children:[n,h.jsx("span",{className:`absolute bottom-0 left-0 right-0 h-0.5 bg-red-600 transform transition-transform duration-200 ease-out
                    ${e?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`,style:{transformOrigin:"center"}})]});function V2(){const[n,e]=G.useState("dayAhead"),[t,r]=G.useState({}),[i,l]=G.useState({}),c=G.useRef(null),[u,f]=G.useState({rolling:{forecastType:"load",startDate:nl,endDate:Fm,province:Vn[0],predictionType:"rolling",interval:15,historicalDays:15,modelType:"torch"},probabilistic:{forecastType:"load",forecastDate:nl,forecastEndDate:Fm,province:Vn[0],predictionType:"day-ahead",probabilistic:!0,quantiles:[.1,.2,.5,.8,.9],historicalDays:15,modelType:"torch"},scenarios:{date:nl,province:Vn[0]},scenarioUncertainty:{province:Vn[0],forecastType:"load",forecastDate:nl,forecastEndDate:"",confidenceLevel:.9,historicalDays:14,includeExplanations:!0},historical:{forecast_type:"load",start_date:"2024-01-01",end_date:"2024-12-31",province:Vn[0],prediction_type:"all",model_type:"all",year:""}}),[p,g]=G.useState({}),[y,v]=G.useState({}),[b,_]=G.useState(Vn),[k,S]=G.useState(null);G.useEffect(()=>{(async()=>{try{r(F=>({...F,provinces:!0}));const P=await gw(),B=[...Vn];P.forEach(F=>{B.includes(F)||B.push(F)}),_(B)}catch(P){console.error("获取省份列表失败:",P),v(B=>({...B,provinces:P.message})),_(Vn)}finally{r(P=>({...P,provinces:!1}))}})()},[]);const M=async()=>{try{console.log("Clear Cache API Call Initiated."),r(P=>({...P,cache:!0}));const E=await bw();alert(`缓存已清除: ${E.message}`)}catch(E){console.error("清除缓存失败:",E),alert(`清除缓存失败: ${E.message}`)}finally{r(E=>({...E,cache:!1}))}},I=G.useCallback(async(E,P)=>{console.log(`${Zr[E]} Parameters Submitted:`,P),f(F=>({...F,[E]:P})),r(F=>({...F,[E]:!0})),v(F=>({...F,[E]:null}));let B=null;try{let F={...P};switch(E==="interval"&&(F.forecast_type=P.forecastType),E){case"rolling":case"probabilistic":if(P.weatherAware&&P.forecastType==="load"){console.log("使用天气感知预测API");const W=await fetch("/api/weather-forecast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(!W.ok)throw new Error(`天气感知预测API响应错误: ${W.status}`);const te=await W.json();if(!te.success)throw new Error(te.error||"天气感知预测失败");B=te.data}else B=await og(F);break;case"scenarios":B=await ww(F);break;case"historical":B=await _w(F);break;default:throw new Error(`未知的标签类型: ${E}`)}if(console.log(`${Zr[E]} API Call Completed:`,B),g(W=>({...W,[E]:B})),setTimeout(()=>{if(E==="interval")if(console.log("准备渲染区间预测图表，数据：",B),B&&B.predictions){const W=B.predictions;console.log("预测数据示例：",W[0]),W.some(J=>J.point_forecast===void 0&&J.predicted!==void 0)&&(console.log("执行字段映射：predicted -> point_forecast"),W.forEach(J=>{J.point_forecast===void 0&&J.predicted!==void 0&&(J.point_forecast=J.predicted)})),Om(B,`chart-${E}`,F.forecast_type)}else console.error("区间预测数据结构不正确：",B);else if(E!=="scenarios"&&E!=="historical"){console.log("准备渲染普通预测图表，数据：",B);let W=B.data||B;if(W&&W.predictions){const te=W.predictions;te.some(Z=>Z.predicted===void 0&&Z.point_forecast!==void 0)&&(console.log("执行字段映射：point_forecast -> predicted"),te.forEach(Z=>{Z.predicted===void 0&&Z.point_forecast!==void 0&&(Z.predicted=Z.point_forecast)}))}Mm(W,`chart-${E}`,F.forecast_type||F.forecastType)}},100),B){let W=null;E==="interval"?W=B.metrics||B.interval_statistics||null:(B.data&&B.data.metrics?W=B.data.metrics:B.metrics&&(W=B.metrics),(!W||Object.keys(W).length===0)&&B.data&&B.data.interval_statistics&&(W={...B.data.interval_statistics,...W})),console.log("提取到的指标：",W),S(W||null)}}catch(F){console.error(`${Zr[E]} API Call Failed:`,F),v(W=>({...W,[E]:F.message})),alert(`${Zr[E]}失败: ${F.message}`)}finally{r(F=>({...F,[E]:!1}))}},[]),T=async E=>{try{r(F=>({...F,historicalFile:!0}));const P=await fetch(`/api/historical-results/view?path=${encodeURIComponent(E)}`);if(!P.ok)throw new Error(`API响应错误: ${P.status}`);const B=await P.json();g(F=>({...F,historical:{...F.historical,selectedResult:B}})),setTimeout(()=>{const F=E.includes("probabilistic")||B.quantiles;E.includes("interval")||B.lower_bound&&B.upper_bound?Om(B,"historical-result-chart",u.historical.forecast_type):Mm(B,"historical-result-chart",u.historical.forecast_type)},100)}catch(P){console.error("获取历史结果文件失败:",P),v(B=>({...B,historicalFile:P.message}))}finally{r(P=>({...P,historicalFile:!1}))}},A=()=>{var W,te;const E={availableProvinces:b,onSubmit:J=>I(n,J),isLoading:t[n]||!1},P="content-card",B=(J,Z,he)=>Z?h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`chart-${J}`,ref:c,className:"w-full h-96 bg-neutral-800 rounded-lg border border-neutral-700 mt-6 shadow-xl"}),h.jsx(vu,{metrics:k})]}):null,F=p[n];return u[n],h.jsxs(h.Fragment,{children:[n==="dayAhead"&&h.jsx(O2,{availableProvinces:b}),n==="rolling"&&h.jsx(Oy,{...E,initialParams:u.rolling,title:"参数设置 - 滚动预测",className:P,activeTabKey:n}),n==="interval"&&h.jsx(I2,{availableProvinces:b}),n==="probabilistic"&&h.jsx(Ay,{...E,initialParams:u.probabilistic,title:"参数设置 - 概率预测",className:P,activeTabKey:n}),n==="scenarios"&&h.jsx(Ly,{...E,initialParams:u.scenarios,title:"参数设置 - 场景识别",className:P,activeTabKey:n}),n==="scenarioUncertainty"&&h.jsx(Py,{}),n==="training"&&h.jsx($2,{availableProvinces:b}),n==="historical"&&h.jsx(zy,{...E,initialParams:u.historical,title:"历史结果查询",className:P,activeTabKey:n}),t[n]&&h.jsx("div",{className:"flex justify-center items-center mt-6",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}),y[n]&&h.jsxs("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-md shadow",children:[h.jsxs("h3",{className:"text-red-700",children:["错误 (",Zr[n],"):"]}),h.jsx("p",{className:"text-red-600",children:y[n]})]}),!t[n]&&F&&(n==="rolling"||n==="probabilistic")&&h.jsx("div",{className:"mt-6 p-4 bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl",children:B(n,F)}),!t[n]&&F&&n==="historical"&&h.jsxs("div",{className:"mt-6 p-4 bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl",children:[h.jsx("h3",{className:"text-xl font-medium text-neutral-100 mb-4",children:"历史预测结果"}),F.results&&F.results.length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"overflow-x-auto mb-6",children:h.jsxs("table",{className:"min-w-full divide-y divide-neutral-700",children:[h.jsx("thead",{className:"bg-neutral-800",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"预测日期"}),h.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"年份"}),h.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"预测方式"}),h.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"模型类型"}),h.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"文件名"}),h.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-400 uppercase tracking-wider",children:"操作"})]})}),h.jsx("tbody",{className:"bg-neutral-800 divide-y divide-neutral-700",children:F.results.map((J,Z)=>h.jsxs("tr",{className:"hover:bg-neutral-700",children:[h.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-neutral-300",children:J.date}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-neutral-300",children:J.year||"N/A"}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-neutral-300",children:J.prediction_type}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-neutral-300",children:J.model_type}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-neutral-300",children:J.filename}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:h.jsx("button",{onClick:()=>T(J.path),className:"text-primary hover:text-primary-light font-medium",children:"查看"})})]},Z))})]})}),F.selectedResult&&h.jsxs("div",{className:"mt-4",children:[h.jsx("h4",{className:"text-lg font-medium text-neutral-100 mb-2",children:"预测结果图表"}),h.jsx("div",{id:"historical-result-chart",className:"w-full h-96 bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl"})]})]}):h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-neutral-400",children:"没有找到符合条件的历史结果"})})]}),!t[n]&&F&&n==="scenarios"&&h.jsxs("div",{className:"mt-6 p-4 bg-neutral-800 rounded-lg border border-neutral-700 shadow-xl",children:[h.jsx("h3",{className:"text-xl font-medium text-neutral-100 mb-4",children:"场景识别结果"}),h.jsxs("div",{className:"bg-neutral-800 rounded-md p-4",children:[h.jsx("h4",{className:"text-lg font-medium text-neutral-100 mb-2",children:"识别的场景:"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-neutral-700",children:[h.jsx("thead",{className:"bg-neutral-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-300 uppercase tracking-wider",children:"时间"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-300 uppercase tracking-wider",children:"场景类型"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-300 uppercase tracking-wider",children:"净负荷"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-300 uppercase tracking-wider",children:"可再生占比"})]})}),h.jsx("tbody",{className:"bg-neutral-800 divide-y divide-neutral-700",children:(te=(W=F.data)==null?void 0:W.scenarios)==null?void 0:te.map((J,Z)=>{var he;return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:J.datetime}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:J.scenario_type}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:[(he=J.net_load)==null?void 0:he.toFixed(2)," MW"]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-300",children:[(J.renewable_ratio*100).toFixed(2),"%"]})]},Z)})})]})})]})]})]})};return h.jsxs("div",{className:"flex flex-col min-h-screen bg-black",children:[h.jsx(Ey,{onClearCache:M}),h.jsxs("div",{className:"container mx-auto px-4 py-6 flex-grow",children:[h.jsx("div",{className:"flex flex-wrap justify-center border-b border-neutral-700 mb-6",children:Object.entries(Zr).map(([E,P])=>h.jsx(U2,{label:P,isActive:n===E,onClick:()=>e(E)},E))}),A()]})]})}Ty.createRoot(document.getElementById("root")).render(h.jsx(yu.StrictMode,{children:h.jsx(V2,{})}));
