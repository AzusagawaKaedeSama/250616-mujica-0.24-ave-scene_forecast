# 多源电力预测与调度平台 - 用户使用指南

## 📋 使用指南概述

本指南将帮助您快速上手多源电力预测与调度平台，实现电力负荷、光伏发电、风电出力的精准预测。整个使用流程分为三个主要步骤：**环境配置** → **模型训练** → **预测分析**。

---

## 🚀 第一步：环境配置

### 1.1 系统要求
- **操作系统**：Windows 10/11（推荐）
- **内存**：8GB以上（推荐16GB）
- **存储空间**：20GB以上可用空间
- **网络**：稳定的互联网连接

### 1.2 环境安装
#### 方法一：自动安装（推荐）
```bash
# 双击运行以下批处理文件
install_python.bat     # 自动安装Python环境
run_local.bat         # 一键启动项目
```

#### 方法二：手动安装
1. **安装Python**：下载并安装Python 3.8+
2. **安装依赖包**：
   ```bash
   pip install -r requirements.txt
   ```
3. **启动服务**：
   ```bash
   python app.py
   ```

### 1.3 访问平台
安装完成后，在浏览器中访问：
- 🌐 **平台主页**：http://localhost:5000
- ⚡ **系统状态**：http://localhost:5000/api/health

---

## 🎯 第二步：模型训练

> **重要提示**：在进行预测之前，您需要先训练模型。每个省份需要训练三种模型：电力负荷、光伏发电、风电出力。

### 2.1 进入训练页面
1. 打开平台主页
2. 点击顶部导航栏的 **"训练"** 标签页
3. 进入模型训练界面

### 2.2 参数配置指南

#### 🔧 必配参数（需要您设置）

| 参数名称 | 设置建议 | 说明 |
|---------|---------|------|
| **预测类型** | 依次选择：电力负荷 → 光伏发电 → 风电出力 | 每个省份需要训练这三种模型 |
| **省份** | 选择您关注的省份（如：上海） | 建议从一个省份开始 |
| **训练开始日期** | 2024-01-01 | 训练数据的起始时间 |
| **训练结束日期** | 2024-08-31 | 训练数据的结束时间 |

#### ⚙️ 推荐参数（使用默认值）

| 参数名称 | 默认值 | 说明 |
|---------|--------|------|
| **训练轮数** | 100 | 模型训练的迭代次数 |
| **批处理大小** | 32 | 每次处理的数据量 |
| **学习率** | 0.001 | 模型学习速度 |
| **历史数据天数** | 系统默认 | 用于预测的历史数据长度 |
| **训练目标类型** | 确定性预测 | 预测结果的类型 |

#### 🌟 特色功能选择

**启用增强功能**（二选一，推荐天气感知）：
- ☑️ **启用天气感知训练**：结合天气数据提升预测精度
- ☐ **启用峰谷感知**：针对用电高峰和低谷时段优化

**其他选项**：
- ☐ **重新训练**：如果已有模型，无需勾选

### 2.3 开始训练

#### 训练操作步骤
1. **配置完成**：确认所有参数设置正确
2. **启动训练**：点击红色的 **"训练模型"** 按钮
3. **监控进度**：在训练状态卡片中查看当前轮次

#### 训练进度说明
- **训练时长**：每个模型约5分钟
- **完成标志**：训练状态卡片变为绿色
- **轮次显示**：通常15-25轮完成训练

#### 完整训练计划
为了使用所有功能，建议按以下顺序完成训练：

```
省份：上海
├── 电力负荷模型（天气感知）✓
├── 光伏发电模型（天气感知）✓
└── 风电出力模型（天气感知）✓
```

**预计总时长**：约15分钟（3个模型 × 5分钟）

---

## 📊 第三步：预测分析

> **前置条件**：完成目标省份的三个模型训练后，即可进行各种预测分析。

### 3.1 预测类型选择

平台提供四种预测模式，满足不同应用场景：

| 预测类型 | 适用场景 | 特点 |
|---------|---------|------|
| **日前预测** | 电力调度计划 | 提前24小时精确预测 |
| **滚动预测** | 实时调度优化 | 动态更新，逐步修正 |
| **区间预测** | 风险评估决策 | 提供不确定性区间 |
| **PID修正预测** | 高精度应用 | 智能误差修正 |

### 3.2 日前预测操作指南

#### 📈 电力负荷日前预测（推荐入门）

**功能说明**：
- 基于历史负荷数据和天气预报
- 预测未来24小时的电力负荷
- 不使用待预测时段的真实负荷数据

**操作步骤**：
1. **选择预测页面**：点击 "日前预测" 标签
2. **参数设置**：
   - 预测类型：电力负荷
   - 省份：上海（或您已训练的省份）
   - 预测日期：选择未来日期
   - 启用天气感知：☑️
3. **执行预测**：点击 "开始预测" 按钮
4. **查看结果**：系统将显示24小时负荷预测曲线

#### 📊 光伏/风电预测
操作步骤与负荷预测相同，仅需更改预测类型。

### 3.3 滚动预测操作指南

#### 🔄 动态滚动预测

**功能说明**：
- 随时间推移动态获取真实数据
- 不断更新和修正预测结果
- 适用于实时调度场景

**操作步骤**：
1. **选择预测页面**：点击 "滚动预测" 标签
2. **参数设置**：
   - 预测类型：电力负荷
   - 省份：选择已训练省份
   - 开始/结束时间：设置预测时间范围
   - 预测间隔：选择更新频率
3. **启动预测**：点击 "开始滚动预测"
4. **实时监控**：观察预测结果的动态更新

#### ⚡ PID误差修正预测（高级功能）

**功能说明**：
- 在滚动预测基础上增加PID控制器
- 根据预测误差自动调整参数
- 显著提升预测精度

**操作步骤**：
1. **启用PID修正**：在滚动预测页面勾选 "启用PID修正"
2. **参数配置**：使用系统推荐的PID参数
3. **执行预测**：系统将自动进行误差修正

### 3.4 区间预测操作指南

#### 📊 可再生能源增强区间预测

**功能说明**：
- 结合光伏、风电出力预测
- 提供置信区间，量化不确定性
- 支持风险评估和决策支持

**操作步骤**：
1. **选择预测页面**：点击 "区间预测" 标签
2. **参数设置**：
   - 预测类型：电力负荷
   - 省份：选择已训练省份
   - 置信水平：90%（推荐）或95%
   - 预测天数：1-7天
3. **执行预测**：点击 "开始区间预测"
4. **结果解读**：
   - 中心线：预测均值
   - 阴影区域：置信区间
   - 区间宽度：反映不确定性大小

---

## ⚠️ 使用注意事项

### 🚫 暂不可用功能
以下功能正在开发中，暂时无法使用：

1. **滚动预测实时校正（简单）**：该选项暂未维护
2. **多分位数概率预测**：目前仅支持单分位数（即区间预测）
3. **历史结果查询**：需要先完成预测才能查询历史记录
4. **场景识别功能**：识别结果准确性待优化

### ✅ 使用建议

#### 新手用户推荐流程
```
1. 选择一个省份（如上海）
2. 依次训练三个模型（负荷→光伏→风电）
3. 从日前预测开始体验
4. 逐步尝试滚动预测和区间预测
```

#### 参数设置建议
- **训练日期范围**：建议使用8个月数据（如2024/01/01-2024/08/31）
- **置信水平**：区间预测推荐90%
- **天气感知**：强烈建议启用，显著提升预测精度

#### 性能优化建议
- **训练顺序**：建议按负荷→光伏→风电的顺序训练
- **预测频率**：滚动预测间隔不宜过短，建议15分钟以上
- **数据质量**：确保训练期间数据完整性

---

## 🔧 故障排除

### 常见问题及解决方案

#### 问题1：训练失败或卡住
**解决方案**：
- 检查网络连接是否稳定
- 确认训练日期范围内有足够数据
- 重启服务后重新训练

#### 问题2：预测结果异常
**解决方案**：
- 确认对应模型已训练完成
- 检查预测日期是否在合理范围内
- 验证输入参数是否正确

#### 问题3：页面加载缓慢
**解决方案**：
- 清除浏览器缓存
- 检查系统资源使用情况
- 尝试刷新页面

### 技术支持
如遇到其他问题，请：
1. 查看系统日志文件
2. 检查控制台错误信息
3. 联系技术支持团队

---

## 📈 预期效果

### 预测精度指标
- **日前预测**：MAPE通常在3-8%之间
- **滚动预测**：随时间推移精度逐步提升
- **区间预测**：90%置信区间覆盖率≥85%

### 应用价值
- **电力调度**：提前制定发电计划
- **负荷管理**：优化电网运行策略
- **风险控制**：量化预测不确定性
- **决策支持**：为电力市场交易提供依据

---

**用户指南版本**：v1.0  
**更新日期**：2024-12-09  
**适用平台版本**：v0.24+

---

💡 **温馨提示**：建议您先从一个省份的负荷预测开始，熟悉操作流程后再扩展到其他预测类型和省份。如有疑问，请随时查阅本指南或联系技术支持。 